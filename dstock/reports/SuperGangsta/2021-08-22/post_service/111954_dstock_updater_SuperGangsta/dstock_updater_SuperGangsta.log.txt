-- Logs begin at Sat 2021-06-12 12:30:01 EDT, end at Sun 2021-08-22 11:19:54 EDT. --
Aug 21 13:28:12 the-rain-maker systemd[1]: Starting dstock SuperGangsta updater service...
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: + origargs='--user dkarimi --clean --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperGangsta --which-api-source tiingo --super-set-name SuperGangsta --sqlite-file /home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite --service-name dstock_updater_SuperGangsta --portfolio TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550'
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: + . big_bash_arg_parser
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ arg_print_help=0
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ arg_clean_working_files=0
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ arg_which_source=yahoo
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ arg_clean_venvs=0
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ arg_send_success_emails=0
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ arg_no_report_emails=0
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ arg_no_report_repo=0
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ '[' 15 -gt 0 ']'
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ case $1 in
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ export arg_non_root_user=dkarimi
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ arg_non_root_user=dkarimi
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ shift
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ shift
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ '[' 13 -gt 0 ']'
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ case $1 in
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ export arg_clean_working_files=1
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ arg_clean_working_files=1
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ shift
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ '[' 12 -gt 0 ']'
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ case $1 in
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ export arg_alpaca_vars_file=/home/dkarimi/work/vault/varfiles/SuperGangsta
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ arg_alpaca_vars_file=/home/dkarimi/work/vault/varfiles/SuperGangsta
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ shift
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ shift
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ '[' 10 -gt 0 ']'
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ case $1 in
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ shift
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ '[' 9 -gt 0 ']'
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ case $1 in
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ shift
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ '[' 8 -gt 0 ']'
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ case $1 in
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ export arg_super_set_name=SuperGangsta
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ arg_super_set_name=SuperGangsta
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ shift
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ shift
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ '[' 6 -gt 0 ']'
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ case $1 in
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ export arg_sqlite_file=/home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ arg_sqlite_file=/home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ shift
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ shift
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ '[' 4 -gt 0 ']'
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ case $1 in
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ export arg_service_name=dstock_updater_SuperGangsta
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ arg_service_name=dstock_updater_SuperGangsta
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ shift
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ shift
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ '[' 2 -gt 0 ']'
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ case $1 in
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ export arg_portfolio=TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ arg_portfolio=TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ shift
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ shift
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ '[' 0 -gt 0 ']'
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: ++ '[' 0 '!=' 0 ']'
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: + '[' -z dkarimi ']'
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: + echo 'Stopping all tuners...'
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: Stopping all tuners...
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: + set -x
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47840]: ++ grep -v '\.timer'
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47839]: ++ ./captain.py list --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperGangsta --fund-set TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550 --with-tuner --super-set-name SuperGangsta
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47841]: ++ xargs
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: + tuner_services='tuner_SuperGangsta_TESTFUNDS0830.service tuner_SuperGangsta_TESTFUNDS1330.service tuner_SuperGangsta_TESTFUNDS1550.service'
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: + systemctl stop tuner_SuperGangsta_TESTFUNDS0830.service tuner_SuperGangsta_TESTFUNDS1330.service tuner_SuperGangsta_TESTFUNDS1550.service
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47911]: Failed to stop tuner_SuperGangsta_TESTFUNDS0830.service: Unit tuner_SuperGangsta_TESTFUNDS0830.service not loaded.
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47911]: Failed to stop tuner_SuperGangsta_TESTFUNDS1330.service: Unit tuner_SuperGangsta_TESTFUNDS1330.service not loaded.
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47911]: Failed to stop tuner_SuperGangsta_TESTFUNDS1550.service: Unit tuner_SuperGangsta_TESTFUNDS1550.service not loaded.
Aug 21 13:28:12 the-rain-maker dstock_updater_SuperGangsta[47836]: + set +x
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[47836]: updating application
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[47836]: + sudo -u dkarimi ./dstock_updater_helper.sh --user dkarimi --clean --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperGangsta --which-api-source tiingo --super-set-name SuperGangsta --sqlite-file /home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite --service-name dstock_updater_SuperGangsta --portfolio TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550
Aug 21 13:28:27 the-rain-maker sudo[48005]:     root : TTY=unknown ; PWD=/home/dkarimi/work/supersets/SuperGangsta/dstock ; USER=dkarimi ; COMMAND=./dstock_updater_helper.sh --user dkarimi --clean --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperGangsta --which-api-source tiingo --super-set-name SuperGangsta --sqlite-file /home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite --service-name dstock_updater_SuperGangsta --portfolio TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550
Aug 21 13:28:27 the-rain-maker sudo[48005]: pam_unix(sudo:session): session opened for user dkarimi by (uid=0)
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: + origargs='--user dkarimi --clean --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperGangsta --which-api-source tiingo --super-set-name SuperGangsta --sqlite-file /home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite --service-name dstock_updater_SuperGangsta --portfolio TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550'
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: + . big_bash_arg_parser
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ arg_print_help=0
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ arg_clean_working_files=0
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ arg_which_source=yahoo
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ arg_clean_venvs=0
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ arg_send_success_emails=0
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ arg_no_report_emails=0
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ arg_no_report_repo=0
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ '[' 15 -gt 0 ']'
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ case $1 in
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ export arg_non_root_user=dkarimi
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ arg_non_root_user=dkarimi
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ shift
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ shift
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ '[' 13 -gt 0 ']'
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ case $1 in
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ export arg_clean_working_files=1
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ arg_clean_working_files=1
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ shift
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ '[' 12 -gt 0 ']'
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ case $1 in
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ export arg_alpaca_vars_file=/home/dkarimi/work/vault/varfiles/SuperGangsta
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ arg_alpaca_vars_file=/home/dkarimi/work/vault/varfiles/SuperGangsta
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ shift
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ shift
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ '[' 10 -gt 0 ']'
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ case $1 in
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ shift
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ '[' 9 -gt 0 ']'
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ case $1 in
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ shift
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ '[' 8 -gt 0 ']'
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ case $1 in
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ export arg_super_set_name=SuperGangsta
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ arg_super_set_name=SuperGangsta
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ shift
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ shift
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ '[' 6 -gt 0 ']'
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ case $1 in
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ export arg_sqlite_file=/home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ arg_sqlite_file=/home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ shift
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ shift
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ '[' 4 -gt 0 ']'
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ case $1 in
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ export arg_service_name=dstock_updater_SuperGangsta
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ arg_service_name=dstock_updater_SuperGangsta
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ shift
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ shift
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ '[' 2 -gt 0 ']'
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ case $1 in
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ export arg_portfolio=TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ arg_portfolio=TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ shift
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ shift
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ '[' 0 -gt 0 ']'
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: ++ '[' 0 '!=' 0 ']'
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: + '[' 1 '!=' 0 ']'
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: + dirs_to_clean='runs opentuner.db download_cache'
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: + for dir in $dirs_to_clean
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: + echo 'Clearing Dir: runs'
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: Clearing Dir: runs
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: + rm -rf runs
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: + mkdir -p runs
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: + for dir in $dirs_to_clean
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: + echo 'Clearing Dir: opentuner.db'
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: Clearing Dir: opentuner.db
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: + rm -rf opentuner.db
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: + mkdir -p opentuner.db
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: + for dir in $dirs_to_clean
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: + echo 'Clearing Dir: download_cache'
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: Clearing Dir: download_cache
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: + rm -rf download_cache
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: + mkdir -p download_cache
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: + echo '!!!'
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: !!!
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: + echo '!!! It is now time to update dstock'
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: !!! It is now time to update dstock
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: + echo '!!!'
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: !!!
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: + git status
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48013]: On branch dkarimi/testfunds_glory
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48013]: Your branch is up to date with 'origin/dkarimi/testfunds_glory'.
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48013]: nothing to commit, working tree clean
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: + git pull
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48020]: Already up to date.
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: + '[' 0 '!=' 0 ']'
Aug 21 13:28:27 the-rain-maker dstock_updater_SuperGangsta[48006]: + /bin/bash -c 'source dstock_venv/bin/activate && pip install -r requirements.txt'
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48021]: Requirement already satisfied: pandas in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 1)) (1.3.2)
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48021]: Requirement already satisfied: pyyaml in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 2)) (5.4.1)
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48021]: Requirement already satisfied: prettytable in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 3)) (2.1.0)
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48021]: Requirement already satisfied: yfinance in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 4)) (0.1.63)
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48021]: Requirement already satisfied: matplotlib in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 5)) (3.4.3)
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48021]: Requirement already satisfied: alpaca-trade-api in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 6)) (1.2.3)
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48021]: Requirement already satisfied: pandas_datareader in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 7)) (0.10.0)
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48021]: Requirement already satisfied: gspread in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 8)) (4.0.1)
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48021]: Requirement already satisfied: google-api-python-client in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 9)) (2.17.0)
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48021]: Requirement already satisfied: oauth2client in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 10)) (4.1.3)
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48021]: Requirement already satisfied: wheel in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 11)) (0.37.0)
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48021]: Requirement already satisfied: pytz>=2017.3 in ./dstock_venv/lib/python3.8/site-packages (from pandas->-r requirements.txt (line 1)) (2021.1)
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48021]: Requirement already satisfied: python-dateutil>=2.7.3 in ./dstock_venv/lib/python3.8/site-packages (from pandas->-r requirements.txt (line 1)) (2.8.2)
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48021]: Requirement already satisfied: numpy>=1.17.3 in ./dstock_venv/lib/python3.8/site-packages (from pandas->-r requirements.txt (line 1)) (1.21.2)
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48021]: Requirement already satisfied: wcwidth in ./dstock_venv/lib/python3.8/site-packages (from prettytable->-r requirements.txt (line 3)) (0.2.5)
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48021]: Requirement already satisfied: lxml>=4.5.1 in ./dstock_venv/lib/python3.8/site-packages (from yfinance->-r requirements.txt (line 4)) (4.6.3)
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48021]: Requirement already satisfied: multitasking>=0.0.7 in ./dstock_venv/lib/python3.8/site-packages (from yfinance->-r requirements.txt (line 4)) (0.0.9)
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48021]: Requirement already satisfied: requests>=2.20 in ./dstock_venv/lib/python3.8/site-packages (from yfinance->-r requirements.txt (line 4)) (2.26.0)
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48021]: Requirement already satisfied: pyparsing>=2.2.1 in ./dstock_venv/lib/python3.8/site-packages (from matplotlib->-r requirements.txt (line 5)) (2.4.7)
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48021]: Requirement already satisfied: kiwisolver>=1.0.1 in ./dstock_venv/lib/python3.8/site-packages (from matplotlib->-r requirements.txt (line 5)) (1.3.1)
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48021]: Requirement already satisfied: pillow>=6.2.0 in ./dstock_venv/lib/python3.8/site-packages (from matplotlib->-r requirements.txt (line 5)) (8.3.1)
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48021]: Requirement already satisfied: cycler>=0.10 in ./dstock_venv/lib/python3.8/site-packages (from matplotlib->-r requirements.txt (line 5)) (0.10.0)
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48021]: Requirement already satisfied: websockets<10,>=8.0 in ./dstock_venv/lib/python3.8/site-packages (from alpaca-trade-api->-r requirements.txt (line 6)) (9.1)
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48021]: Requirement already satisfied: websocket-client<2,>=0.56.0 in ./dstock_venv/lib/python3.8/site-packages (from alpaca-trade-api->-r requirements.txt (line 6)) (1.2.1)
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48021]: Requirement already satisfied: msgpack==1.0.2 in ./dstock_venv/lib/python3.8/site-packages (from alpaca-trade-api->-r requirements.txt (line 6)) (1.0.2)
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48021]: Requirement already satisfied: urllib3<2,>1.24 in ./dstock_venv/lib/python3.8/site-packages (from alpaca-trade-api->-r requirements.txt (line 6)) (1.26.6)
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48021]: Requirement already satisfied: google-auth>=1.12.0 in ./dstock_venv/lib/python3.8/site-packages (from gspread->-r requirements.txt (line 8)) (2.0.1)
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48021]: Requirement already satisfied: google-auth-oauthlib>=0.4.1 in ./dstock_venv/lib/python3.8/site-packages (from gspread->-r requirements.txt (line 8)) (0.4.5)
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48021]: Requirement already satisfied: httplib2<1dev,>=0.15.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-python-client->-r requirements.txt (line 9)) (0.19.1)
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48021]: Requirement already satisfied: google-api-core<3.0.0dev,>=1.21.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-python-client->-r requirements.txt (line 9)) (2.0.0)
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48021]: Requirement already satisfied: google-auth-httplib2>=0.1.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-python-client->-r requirements.txt (line 9)) (0.1.0)
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48021]: Requirement already satisfied: uritemplate<4dev,>=3.0.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-python-client->-r requirements.txt (line 9)) (3.0.1)
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48021]: Requirement already satisfied: pyasn1-modules>=0.0.5 in ./dstock_venv/lib/python3.8/site-packages (from oauth2client->-r requirements.txt (line 10)) (0.2.8)
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48021]: Requirement already satisfied: pyasn1>=0.1.7 in ./dstock_venv/lib/python3.8/site-packages (from oauth2client->-r requirements.txt (line 10)) (0.4.8)
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48021]: Requirement already satisfied: rsa>=3.1.4 in ./dstock_venv/lib/python3.8/site-packages (from oauth2client->-r requirements.txt (line 10)) (4.7.2)
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48021]: Requirement already satisfied: six>=1.6.1 in ./dstock_venv/lib/python3.8/site-packages (from oauth2client->-r requirements.txt (line 10)) (1.16.0)
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48021]: Requirement already satisfied: idna<4,>=2.5; python_version >= "3" in ./dstock_venv/lib/python3.8/site-packages (from requests>=2.20->yfinance->-r requirements.txt (line 4)) (3.2)
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48021]: Requirement already satisfied: certifi>=2017.4.17 in ./dstock_venv/lib/python3.8/site-packages (from requests>=2.20->yfinance->-r requirements.txt (line 4)) (2021.5.30)
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48021]: Requirement already satisfied: charset-normalizer~=2.0.0; python_version >= "3" in ./dstock_venv/lib/python3.8/site-packages (from requests>=2.20->yfinance->-r requirements.txt (line 4)) (2.0.4)
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48021]: Requirement already satisfied: setuptools>=40.3.0 in ./dstock_venv/lib/python3.8/site-packages (from google-auth>=1.12.0->gspread->-r requirements.txt (line 8)) (44.0.0)
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48021]: Requirement already satisfied: cachetools<5.0,>=2.0.0 in ./dstock_venv/lib/python3.8/site-packages (from google-auth>=1.12.0->gspread->-r requirements.txt (line 8)) (4.2.2)
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48021]: Requirement already satisfied: requests-oauthlib>=0.7.0 in ./dstock_venv/lib/python3.8/site-packages (from google-auth-oauthlib>=0.4.1->gspread->-r requirements.txt (line 8)) (1.3.0)
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48021]: Requirement already satisfied: googleapis-common-protos<2.0dev,>=1.6.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-core<3.0.0dev,>=1.21.0->google-api-python-client->-r requirements.txt (line 9)) (1.53.0)
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48021]: Requirement already satisfied: protobuf>=3.12.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-core<3.0.0dev,>=1.21.0->google-api-python-client->-r requirements.txt (line 9)) (3.17.3)
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48021]: Requirement already satisfied: oauthlib>=3.0.0 in ./dstock_venv/lib/python3.8/site-packages (from requests-oauthlib>=0.7.0->google-auth-oauthlib>=0.4.1->gspread->-r requirements.txt (line 8)) (3.1.1)
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48006]: + ./generate_daily_report.sh --user dkarimi --clean --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperGangsta --which-api-source tiingo --super-set-name SuperGangsta --sqlite-file /home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite --service-name dstock_updater_SuperGangsta --portfolio TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48044]: generating report:
Aug 21 13:28:30 the-rain-maker dstock_updater_SuperGangsta[48044]: + ./daily_report --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperGangsta --portfolio TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550 --start-date 2021-08-06 --end-date 2021-08-20 --output-dir runs/daily_report_output_2021-08-20 --which-source yahoo --sqlite-file /home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite --jitter 100 --num-randos 100
Aug 21 13:28:32 the-rain-maker dstock_updater_SuperGangsta[48064]: INFO:root:Dowloading History and Prices of TESTFUNDS0830 for 14 days
Aug 21 13:28:37 the-rain-maker dstock_updater_SuperGangsta[48064]: WARNING:root:You are graphing data before the alpaca account started
Aug 21 13:28:37 the-rain-maker dstock_updater_SuperGangsta[48064]: WARNING:root:showing 15 days 10:55:01.984880 before this account creation on 2021-08-21 10:55:01.984880-04:00
Aug 21 13:28:37 the-rain-maker dstock_updater_SuperGangsta[48064]: WARNING:root:To correct use --start-date 2021-08-21
Aug 21 13:28:37 the-rain-maker dstock_updater_SuperGangsta[48064]: WARNING:root:But you should look in alpaca at what day your first trade was on
Aug 21 13:28:37 the-rain-maker dstock_updater_SuperGangsta[48064]: WARNING:root:Then set the start date to be one day before that day
Aug 21 13:28:37 the-rain-maker dstock_updater_SuperGangsta[48064]: INFO:root:Asking for time in the past more recent than last history value, taking account's current value $100000.000000 on 2021-08-20 00:00:00
Aug 21 13:28:37 the-rain-maker dstock_updater_SuperGangsta[48064]: INFO:root:Getting initial_investment from Alpaca: $100000.00
Aug 21 13:28:38 the-rain-maker dstock_updater_SuperGangsta[48064]: /home/dkarimi/work/supersets/SuperGangsta/dstock/fomo_graph.py:870: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead.  To get a de-fragmented frame, use `newframe = frame.copy()`
Aug 21 13:28:38 the-rain-maker dstock_updater_SuperGangsta[48064]:   fomoframe[line_name] = float('nan')
Aug 21 13:28:38 the-rain-maker dstock_updater_SuperGangsta[48064]: Traceback (most recent call last):
Aug 21 13:28:38 the-rain-maker dstock_updater_SuperGangsta[48064]:   File "./daily_report.py", line 198, in <module>
Aug 21 13:28:38 the-rain-maker dstock_updater_SuperGangsta[48064]:     main(**vars(args))
Aug 21 13:28:38 the-rain-maker dstock_updater_SuperGangsta[48064]:   File "./daily_report.py", line 139, in main
Aug 21 13:28:38 the-rain-maker dstock_updater_SuperGangsta[48064]:     fomo_results = fomo_graph.main(
Aug 21 13:28:38 the-rain-maker dstock_updater_SuperGangsta[48064]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/fomo_graph.py", line 889, in main
Aug 21 13:28:38 the-rain-maker dstock_updater_SuperGangsta[48064]:     _simulate_account(
Aug 21 13:28:38 the-rain-maker dstock_updater_SuperGangsta[48064]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/fomo_graph.py", line 363, in _simulate_account
Aug 21 13:28:38 the-rain-maker dstock_updater_SuperGangsta[48064]:     _simulate_palloc_web_account(
Aug 21 13:28:38 the-rain-maker dstock_updater_SuperGangsta[48064]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/fomo_graph.py", line 245, in _simulate_palloc_web_account
Aug 21 13:28:38 the-rain-maker dstock_updater_SuperGangsta[48064]:     trader_results = palloc_trader.main(
Aug 21 13:28:38 the-rain-maker dstock_updater_SuperGangsta[48064]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/palloc_trader.py", line 395, in main
Aug 21 13:28:38 the-rain-maker dstock_updater_SuperGangsta[48064]:     trader = Trader(
Aug 21 13:28:38 the-rain-maker dstock_updater_SuperGangsta[48064]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/palloc_trader.py", line 152, in __init__
Aug 21 13:28:38 the-rain-maker dstock_updater_SuperGangsta[48064]:     self.portfolio_response = self.get_portfolio_response()
Aug 21 13:28:38 the-rain-maker dstock_updater_SuperGangsta[48064]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/palloc_trader.py", line 171, in get_portfolio_response
Aug 21 13:28:38 the-rain-maker dstock_updater_SuperGangsta[48064]:     pr = dstock_palloc_db.get_portfolio_by_name(
Aug 21 13:28:38 the-rain-maker dstock_updater_SuperGangsta[48064]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/dstock_palloc_db.py", line 262, in get_portfolio_by_name
Aug 21 13:28:38 the-rain-maker dstock_updater_SuperGangsta[48064]:     _get_last_recommendation_info(
Aug 21 13:28:38 the-rain-maker dstock_updater_SuperGangsta[48064]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/dstock_palloc_db.py", line 67, in _get_last_recommendation_info
Aug 21 13:28:38 the-rain-maker dstock_updater_SuperGangsta[48064]:     raise NoRecommendationFound(
Aug 21 13:28:38 the-rain-maker dstock_updater_SuperGangsta[48064]: dstock_palloc_db.NoRecommendationFound: Could not find any recommendations runs for TESTFUNDS0830 made before 2021-08-06 08:50:00
Aug 21 13:28:38 the-rain-maker dstock_updater_SuperGangsta[48044]: + set +x
Aug 21 13:28:38 the-rain-maker dstock_updater_SuperGangsta[48044]: updating website dstock/reports/SuperGangsta/2021-08-21/daily ...
Aug 21 13:28:38 the-rain-maker dstock_updater_SuperGangsta[48044]: + ./report_curator --input-report-dir runs/daily_report_output_2021-08-20 --target-report-dir dstock/reports/SuperGangsta/2021-08-21/daily
Aug 21 13:28:40 the-rain-maker dstock_updater_SuperGangsta[48089]: INFO:root:
Aug 21 13:28:40 the-rain-maker dstock_updater_SuperGangsta[48089]:             mkdir -p report_website && \
Aug 21 13:28:40 the-rain-maker dstock_updater_SuperGangsta[48089]:             cd report_website && \
Aug 21 13:28:40 the-rain-maker dstock_updater_SuperGangsta[48089]:             cd .. && \
Aug 21 13:28:40 the-rain-maker dstock_updater_SuperGangsta[48089]:             rmdir report_website && \
Aug 21 13:28:40 the-rain-maker dstock_updater_SuperGangsta[48089]:             git clone git@github.com:AlwaysTraining/AlwaysTraining.github.io.git report_website && \
Aug 21 13:28:40 the-rain-maker dstock_updater_SuperGangsta[48089]:             echo "cloned AlwaysTraining/AlwaysTraining.github.io.git to report_website"
Aug 21 13:28:40 the-rain-maker dstock_updater_SuperGangsta[48089]:             
Aug 21 13:28:40 the-rain-maker dstock_updater_SuperGangsta[48109]: Cloning into 'report_website'...
Aug 21 13:28:43 the-rain-maker dstock_updater_SuperGangsta[48106]: cloned AlwaysTraining/AlwaysTraining.github.io.git to report_website
Aug 21 13:28:43 the-rain-maker dstock_updater_SuperGangsta[48089]: INFO:root:mkdir -p report_website/dstock/reports/SuperGangsta/2021-08-21/daily && cp -vr runs/daily_report_output_2021-08-20/* report_website/dstock/reports/SuperGangsta/2021-08-21/daily/
Aug 21 13:28:43 the-rain-maker dstock_updater_SuperGangsta[48123]: cp: cannot stat 'runs/daily_report_output_2021-08-20/*': No such file or directory
Aug 21 13:28:43 the-rain-maker dstock_updater_SuperGangsta[48089]: Traceback (most recent call last):
Aug 21 13:28:43 the-rain-maker dstock_updater_SuperGangsta[48089]:   File "./report_curator.py", line 113, in <module>
Aug 21 13:28:43 the-rain-maker dstock_updater_SuperGangsta[48089]:     main(**vars(args))
Aug 21 13:28:43 the-rain-maker dstock_updater_SuperGangsta[48089]:   File "./report_curator.py", line 60, in main
Aug 21 13:28:43 the-rain-maker dstock_updater_SuperGangsta[48089]:     _cmd("mkdir -p {website_repo_dir}/{target_report_dir} && cp -vr {input_report_dir}/* {website_repo_dir}/{target_report_dir}/".format(
Aug 21 13:28:43 the-rain-maker dstock_updater_SuperGangsta[48089]:   File "./report_curator.py", line 30, in _cmd
Aug 21 13:28:43 the-rain-maker dstock_updater_SuperGangsta[48089]:     subprocess.check_call(cmd, shell=True)
Aug 21 13:28:43 the-rain-maker dstock_updater_SuperGangsta[48089]:   File "/usr/lib/python3.8/subprocess.py", line 364, in check_call
Aug 21 13:28:43 the-rain-maker dstock_updater_SuperGangsta[48089]:     raise CalledProcessError(retcode, cmd)
Aug 21 13:28:43 the-rain-maker dstock_updater_SuperGangsta[48089]: subprocess.CalledProcessError: Command 'mkdir -p report_website/dstock/reports/SuperGangsta/2021-08-21/daily && cp -vr runs/daily_report_output_2021-08-20/* report_website/dstock/reports/SuperGangsta/2021-08-21/daily/' returned non-zero exit status 1.
Aug 21 13:28:44 the-rain-maker dstock_updater_SuperGangsta[48044]: + set +x
Aug 21 13:28:44 the-rain-maker dstock_updater_SuperGangsta[48044]: Sending email about website dstock/reports/SuperGangsta/2021-08-21/daily ...
Aug 21 13:28:44 the-rain-maker dstock_updater_SuperGangsta[48124]: ++ date -I
Aug 21 13:28:44 the-rain-maker dstock_updater_SuperGangsta[48044]: + ./send_mail --to derrick.karimi@gmail.com --_from derrick.karimi@gmail.com --subject '[dstock] SuperGangsta Daily Report for 2021-08-21' --text https://alwaystraining.github.io/dstock/reports/SuperGangsta/2021-08-21/daily/ --server smtp.gmail.com --port 587 --server_user dr.randy.myers --server_user_pass dr.randy.myers.password
Aug 21 13:28:46 the-rain-maker dstock_updater_SuperGangsta[48044]: + set +x
Aug 21 13:28:46 the-rain-maker sudo[48005]: pam_unix(sudo:session): session closed for user dkarimi
Aug 21 13:28:46 the-rain-maker dstock_updater_SuperGangsta[47836]: + set +x
Aug 21 13:28:46 the-rain-maker dstock_updater_SuperGangsta[47836]: restarting tuners: tuner_SuperGangsta_TESTFUNDS0830.service tuner_SuperGangsta_TESTFUNDS1330.service tuner_SuperGangsta_TESTFUNDS1550.service
Aug 21 13:28:46 the-rain-maker dstock_updater_SuperGangsta[48170]: Failed to start tuner_SuperGangsta_TESTFUNDS0830.service: Unit tuner_SuperGangsta_TESTFUNDS0830.service not found.
Aug 21 13:28:46 the-rain-maker dstock_updater_SuperGangsta[48170]: Failed to start tuner_SuperGangsta_TESTFUNDS1330.service: Unit tuner_SuperGangsta_TESTFUNDS1330.service not found.
Aug 21 13:28:46 the-rain-maker dstock_updater_SuperGangsta[48170]: Failed to start tuner_SuperGangsta_TESTFUNDS1550.service: Unit tuner_SuperGangsta_TESTFUNDS1550.service not found.
Aug 21 13:28:46 the-rain-maker systemd[1]: dstock_updater_SuperGangsta.service: Main process exited, code=exited, status=5/NOTINSTALLED
Aug 21 13:28:46 the-rain-maker sudo[48171]:     root : TTY=unknown ; PWD=/home/dkarimi/work/supersets/SuperGangsta/dstock ; USER=dkarimi ; ENV=SERVICE_RESULT=exit-code EXIT_CODE=exited EXIT_STATUS=5 ; COMMAND=/home/dkarimi/work/supersets/SuperGangsta/dstock/generate_post_service_report.sh --super-set-name SuperGangsta --portfolio TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550 --service-name dstock_updater_SuperGangsta --send-success-emails
Aug 21 13:28:46 the-rain-maker sudo[48171]: pam_unix(sudo:session): session opened for user dkarimi by (uid=0)
Aug 21 13:28:46 the-rain-maker dstock_updater_SuperGangsta[48172]: generating post service report for : dstock_updater_SuperGangsta
Aug 21 13:28:46 the-rain-maker dstock_updater_SuperGangsta[48172]: Generating email content ...
Aug 21 13:28:48 the-rain-maker dstock_updater_SuperGangsta[48172]: Sending email about website dstock/reports/SuperGangsta/2021-08-21/post_service/132846_dstock_updater_SuperGangsta ...
Aug 21 13:28:50 the-rain-maker sudo[48171]: pam_unix(sudo:session): session closed for user dkarimi
Aug 21 13:28:50 the-rain-maker systemd[1]: dstock_updater_SuperGangsta.service: Failed with result 'exit-code'.
Aug 21 13:28:50 the-rain-maker systemd[1]: Failed to start dstock SuperGangsta updater service.
Aug 21 13:30:12 the-rain-maker systemd[1]: Starting dstock SuperGangsta updater service...
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: + origargs='--user dkarimi --clean --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperGangsta --which-api-source tiingo --super-set-name SuperGangsta --sqlite-file /home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite --service-name dstock_updater_SuperGangsta --portfolio TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550'
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: + . big_bash_arg_parser
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ arg_print_help=0
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ arg_clean_working_files=0
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ arg_which_source=yahoo
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ arg_clean_venvs=0
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ arg_send_success_emails=0
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ arg_no_report_emails=0
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ arg_no_report_repo=0
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ '[' 15 -gt 0 ']'
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ case $1 in
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ export arg_non_root_user=dkarimi
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ arg_non_root_user=dkarimi
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ shift
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ shift
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ '[' 13 -gt 0 ']'
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ case $1 in
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ export arg_clean_working_files=1
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ arg_clean_working_files=1
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ shift
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ '[' 12 -gt 0 ']'
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ case $1 in
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ export arg_alpaca_vars_file=/home/dkarimi/work/vault/varfiles/SuperGangsta
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ arg_alpaca_vars_file=/home/dkarimi/work/vault/varfiles/SuperGangsta
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ shift
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ shift
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ '[' 10 -gt 0 ']'
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ case $1 in
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ shift
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ '[' 9 -gt 0 ']'
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ case $1 in
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ shift
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ '[' 8 -gt 0 ']'
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ case $1 in
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ export arg_super_set_name=SuperGangsta
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ arg_super_set_name=SuperGangsta
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ shift
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ shift
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ '[' 6 -gt 0 ']'
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ case $1 in
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ export arg_sqlite_file=/home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ arg_sqlite_file=/home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ shift
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ shift
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ '[' 4 -gt 0 ']'
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ case $1 in
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ export arg_service_name=dstock_updater_SuperGangsta
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ arg_service_name=dstock_updater_SuperGangsta
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ shift
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ shift
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ '[' 2 -gt 0 ']'
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ case $1 in
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ export arg_portfolio=TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ arg_portfolio=TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ shift
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ shift
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ '[' 0 -gt 0 ']'
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: ++ '[' 0 '!=' 0 ']'
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: + '[' -z dkarimi ']'
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: + echo 'Stopping all tuners...'
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: Stopping all tuners...
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: + set -x
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48667]: ++ ./captain.py list --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperGangsta --fund-set TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550 --with-tuner --super-set-name SuperGangsta
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48669]: ++ xargs
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48668]: ++ grep -v '\.timer'
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: + tuner_services='tuner_SuperGangsta_TESTFUNDS0830.service tuner_SuperGangsta_TESTFUNDS1330.service tuner_SuperGangsta_TESTFUNDS1550.service'
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: + systemctl stop tuner_SuperGangsta_TESTFUNDS0830.service tuner_SuperGangsta_TESTFUNDS1330.service tuner_SuperGangsta_TESTFUNDS1550.service
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48671]: Failed to stop tuner_SuperGangsta_TESTFUNDS0830.service: Unit tuner_SuperGangsta_TESTFUNDS0830.service not loaded.
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48671]: Failed to stop tuner_SuperGangsta_TESTFUNDS1330.service: Unit tuner_SuperGangsta_TESTFUNDS1330.service not loaded.
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48671]: Failed to stop tuner_SuperGangsta_TESTFUNDS1550.service: Unit tuner_SuperGangsta_TESTFUNDS1550.service not loaded.
Aug 21 13:30:12 the-rain-maker dstock_updater_SuperGangsta[48665]: + set +x
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48665]: updating application
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48665]: + sudo -u dkarimi ./dstock_updater_helper.sh --user dkarimi --clean --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperGangsta --which-api-source tiingo --super-set-name SuperGangsta --sqlite-file /home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite --service-name dstock_updater_SuperGangsta --portfolio TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550
Aug 21 13:30:27 the-rain-maker sudo[48712]:     root : TTY=unknown ; PWD=/home/dkarimi/work/supersets/SuperGangsta/dstock ; USER=dkarimi ; COMMAND=./dstock_updater_helper.sh --user dkarimi --clean --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperGangsta --which-api-source tiingo --super-set-name SuperGangsta --sqlite-file /home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite --service-name dstock_updater_SuperGangsta --portfolio TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550
Aug 21 13:30:27 the-rain-maker sudo[48712]: pam_unix(sudo:session): session opened for user dkarimi by (uid=0)
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: + origargs='--user dkarimi --clean --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperGangsta --which-api-source tiingo --super-set-name SuperGangsta --sqlite-file /home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite --service-name dstock_updater_SuperGangsta --portfolio TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550'
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: + . big_bash_arg_parser
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ arg_print_help=0
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ arg_clean_working_files=0
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ arg_which_source=yahoo
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ arg_clean_venvs=0
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ arg_send_success_emails=0
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ arg_no_report_emails=0
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ arg_no_report_repo=0
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ '[' 15 -gt 0 ']'
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ case $1 in
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ export arg_non_root_user=dkarimi
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ arg_non_root_user=dkarimi
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ shift
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ shift
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ '[' 13 -gt 0 ']'
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ case $1 in
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ export arg_clean_working_files=1
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ arg_clean_working_files=1
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ shift
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ '[' 12 -gt 0 ']'
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ case $1 in
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ export arg_alpaca_vars_file=/home/dkarimi/work/vault/varfiles/SuperGangsta
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ arg_alpaca_vars_file=/home/dkarimi/work/vault/varfiles/SuperGangsta
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ shift
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ shift
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ '[' 10 -gt 0 ']'
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ case $1 in
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ shift
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ '[' 9 -gt 0 ']'
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ case $1 in
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ shift
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ '[' 8 -gt 0 ']'
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ case $1 in
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ export arg_super_set_name=SuperGangsta
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ arg_super_set_name=SuperGangsta
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ shift
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ shift
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ '[' 6 -gt 0 ']'
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ case $1 in
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ export arg_sqlite_file=/home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ arg_sqlite_file=/home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ shift
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ shift
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ '[' 4 -gt 0 ']'
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ case $1 in
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ export arg_service_name=dstock_updater_SuperGangsta
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ arg_service_name=dstock_updater_SuperGangsta
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ shift
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ shift
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ '[' 2 -gt 0 ']'
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ case $1 in
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ export arg_portfolio=TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ arg_portfolio=TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ shift
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ shift
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ '[' 0 -gt 0 ']'
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: ++ '[' 0 '!=' 0 ']'
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: + '[' 1 '!=' 0 ']'
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: + dirs_to_clean='runs opentuner.db download_cache'
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: + for dir in $dirs_to_clean
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: + echo 'Clearing Dir: runs'
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: Clearing Dir: runs
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: + rm -rf runs
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: + mkdir -p runs
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: + for dir in $dirs_to_clean
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: + echo 'Clearing Dir: opentuner.db'
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: Clearing Dir: opentuner.db
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: + rm -rf opentuner.db
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: + mkdir -p opentuner.db
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: + for dir in $dirs_to_clean
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: + echo 'Clearing Dir: download_cache'
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: Clearing Dir: download_cache
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: + rm -rf download_cache
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: + mkdir -p download_cache
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: + echo '!!!'
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: !!!
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: + echo '!!! It is now time to update dstock'
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: !!! It is now time to update dstock
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: + echo '!!!'
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: !!!
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: + git status
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48720]: On branch dkarimi/testfunds_glory
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48720]: Your branch is up to date with 'origin/dkarimi/testfunds_glory'.
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48720]: nothing to commit, working tree clean
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: + git pull
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48753]: Already up to date.
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: + '[' 0 '!=' 0 ']'
Aug 21 13:30:27 the-rain-maker dstock_updater_SuperGangsta[48713]: + /bin/bash -c 'source dstock_venv/bin/activate && pip install -r requirements.txt'
Aug 21 13:30:29 the-rain-maker dstock_updater_SuperGangsta[48761]: Requirement already satisfied: pandas in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 1)) (1.3.2)
Aug 21 13:30:29 the-rain-maker dstock_updater_SuperGangsta[48761]: Requirement already satisfied: pyyaml in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 2)) (5.4.1)
Aug 21 13:30:29 the-rain-maker dstock_updater_SuperGangsta[48761]: Requirement already satisfied: prettytable in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 3)) (2.1.0)
Aug 21 13:30:29 the-rain-maker dstock_updater_SuperGangsta[48761]: Requirement already satisfied: yfinance in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 4)) (0.1.63)
Aug 21 13:30:29 the-rain-maker dstock_updater_SuperGangsta[48761]: Requirement already satisfied: matplotlib in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 5)) (3.4.3)
Aug 21 13:30:29 the-rain-maker dstock_updater_SuperGangsta[48761]: Requirement already satisfied: alpaca-trade-api in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 6)) (1.2.3)
Aug 21 13:30:29 the-rain-maker dstock_updater_SuperGangsta[48761]: Requirement already satisfied: pandas_datareader in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 7)) (0.10.0)
Aug 21 13:30:29 the-rain-maker dstock_updater_SuperGangsta[48761]: Requirement already satisfied: gspread in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 8)) (4.0.1)
Aug 21 13:30:29 the-rain-maker dstock_updater_SuperGangsta[48761]: Requirement already satisfied: google-api-python-client in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 9)) (2.17.0)
Aug 21 13:30:29 the-rain-maker dstock_updater_SuperGangsta[48761]: Requirement already satisfied: oauth2client in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 10)) (4.1.3)
Aug 21 13:30:29 the-rain-maker dstock_updater_SuperGangsta[48761]: Requirement already satisfied: wheel in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 11)) (0.37.0)
Aug 21 13:30:29 the-rain-maker dstock_updater_SuperGangsta[48761]: Requirement already satisfied: numpy>=1.17.3 in ./dstock_venv/lib/python3.8/site-packages (from pandas->-r requirements.txt (line 1)) (1.21.2)
Aug 21 13:30:29 the-rain-maker dstock_updater_SuperGangsta[48761]: Requirement already satisfied: pytz>=2017.3 in ./dstock_venv/lib/python3.8/site-packages (from pandas->-r requirements.txt (line 1)) (2021.1)
Aug 21 13:30:29 the-rain-maker dstock_updater_SuperGangsta[48761]: Requirement already satisfied: python-dateutil>=2.7.3 in ./dstock_venv/lib/python3.8/site-packages (from pandas->-r requirements.txt (line 1)) (2.8.2)
Aug 21 13:30:29 the-rain-maker dstock_updater_SuperGangsta[48761]: Requirement already satisfied: wcwidth in ./dstock_venv/lib/python3.8/site-packages (from prettytable->-r requirements.txt (line 3)) (0.2.5)
Aug 21 13:30:29 the-rain-maker dstock_updater_SuperGangsta[48761]: Requirement already satisfied: lxml>=4.5.1 in ./dstock_venv/lib/python3.8/site-packages (from yfinance->-r requirements.txt (line 4)) (4.6.3)
Aug 21 13:30:29 the-rain-maker dstock_updater_SuperGangsta[48761]: Requirement already satisfied: multitasking>=0.0.7 in ./dstock_venv/lib/python3.8/site-packages (from yfinance->-r requirements.txt (line 4)) (0.0.9)
Aug 21 13:30:29 the-rain-maker dstock_updater_SuperGangsta[48761]: Requirement already satisfied: requests>=2.20 in ./dstock_venv/lib/python3.8/site-packages (from yfinance->-r requirements.txt (line 4)) (2.26.0)
Aug 21 13:30:29 the-rain-maker dstock_updater_SuperGangsta[48761]: Requirement already satisfied: cycler>=0.10 in ./dstock_venv/lib/python3.8/site-packages (from matplotlib->-r requirements.txt (line 5)) (0.10.0)
Aug 21 13:30:29 the-rain-maker dstock_updater_SuperGangsta[48761]: Requirement already satisfied: pillow>=6.2.0 in ./dstock_venv/lib/python3.8/site-packages (from matplotlib->-r requirements.txt (line 5)) (8.3.1)
Aug 21 13:30:29 the-rain-maker dstock_updater_SuperGangsta[48761]: Requirement already satisfied: kiwisolver>=1.0.1 in ./dstock_venv/lib/python3.8/site-packages (from matplotlib->-r requirements.txt (line 5)) (1.3.1)
Aug 21 13:30:29 the-rain-maker dstock_updater_SuperGangsta[48761]: Requirement already satisfied: pyparsing>=2.2.1 in ./dstock_venv/lib/python3.8/site-packages (from matplotlib->-r requirements.txt (line 5)) (2.4.7)
Aug 21 13:30:29 the-rain-maker dstock_updater_SuperGangsta[48761]: Requirement already satisfied: websockets<10,>=8.0 in ./dstock_venv/lib/python3.8/site-packages (from alpaca-trade-api->-r requirements.txt (line 6)) (9.1)
Aug 21 13:30:29 the-rain-maker dstock_updater_SuperGangsta[48761]: Requirement already satisfied: msgpack==1.0.2 in ./dstock_venv/lib/python3.8/site-packages (from alpaca-trade-api->-r requirements.txt (line 6)) (1.0.2)
Aug 21 13:30:29 the-rain-maker dstock_updater_SuperGangsta[48761]: Requirement already satisfied: urllib3<2,>1.24 in ./dstock_venv/lib/python3.8/site-packages (from alpaca-trade-api->-r requirements.txt (line 6)) (1.26.6)
Aug 21 13:30:29 the-rain-maker dstock_updater_SuperGangsta[48761]: Requirement already satisfied: websocket-client<2,>=0.56.0 in ./dstock_venv/lib/python3.8/site-packages (from alpaca-trade-api->-r requirements.txt (line 6)) (1.2.1)
Aug 21 13:30:29 the-rain-maker dstock_updater_SuperGangsta[48761]: Requirement already satisfied: google-auth>=1.12.0 in ./dstock_venv/lib/python3.8/site-packages (from gspread->-r requirements.txt (line 8)) (2.0.1)
Aug 21 13:30:29 the-rain-maker dstock_updater_SuperGangsta[48761]: Requirement already satisfied: google-auth-oauthlib>=0.4.1 in ./dstock_venv/lib/python3.8/site-packages (from gspread->-r requirements.txt (line 8)) (0.4.5)
Aug 21 13:30:29 the-rain-maker dstock_updater_SuperGangsta[48761]: Requirement already satisfied: google-auth-httplib2>=0.1.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-python-client->-r requirements.txt (line 9)) (0.1.0)
Aug 21 13:30:29 the-rain-maker dstock_updater_SuperGangsta[48761]: Requirement already satisfied: httplib2<1dev,>=0.15.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-python-client->-r requirements.txt (line 9)) (0.19.1)
Aug 21 13:30:29 the-rain-maker dstock_updater_SuperGangsta[48761]: Requirement already satisfied: uritemplate<4dev,>=3.0.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-python-client->-r requirements.txt (line 9)) (3.0.1)
Aug 21 13:30:29 the-rain-maker dstock_updater_SuperGangsta[48761]: Requirement already satisfied: google-api-core<3.0.0dev,>=1.21.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-python-client->-r requirements.txt (line 9)) (2.0.0)
Aug 21 13:30:29 the-rain-maker dstock_updater_SuperGangsta[48761]: Requirement already satisfied: pyasn1>=0.1.7 in ./dstock_venv/lib/python3.8/site-packages (from oauth2client->-r requirements.txt (line 10)) (0.4.8)
Aug 21 13:30:30 the-rain-maker dstock_updater_SuperGangsta[48761]: Requirement already satisfied: pyasn1-modules>=0.0.5 in ./dstock_venv/lib/python3.8/site-packages (from oauth2client->-r requirements.txt (line 10)) (0.2.8)
Aug 21 13:30:30 the-rain-maker dstock_updater_SuperGangsta[48761]: Requirement already satisfied: six>=1.6.1 in ./dstock_venv/lib/python3.8/site-packages (from oauth2client->-r requirements.txt (line 10)) (1.16.0)
Aug 21 13:30:30 the-rain-maker dstock_updater_SuperGangsta[48761]: Requirement already satisfied: rsa>=3.1.4 in ./dstock_venv/lib/python3.8/site-packages (from oauth2client->-r requirements.txt (line 10)) (4.7.2)
Aug 21 13:30:30 the-rain-maker dstock_updater_SuperGangsta[48761]: Requirement already satisfied: charset-normalizer~=2.0.0; python_version >= "3" in ./dstock_venv/lib/python3.8/site-packages (from requests>=2.20->yfinance->-r requirements.txt (line 4)) (2.0.4)
Aug 21 13:30:30 the-rain-maker dstock_updater_SuperGangsta[48761]: Requirement already satisfied: idna<4,>=2.5; python_version >= "3" in ./dstock_venv/lib/python3.8/site-packages (from requests>=2.20->yfinance->-r requirements.txt (line 4)) (3.2)
Aug 21 13:30:30 the-rain-maker dstock_updater_SuperGangsta[48761]: Requirement already satisfied: certifi>=2017.4.17 in ./dstock_venv/lib/python3.8/site-packages (from requests>=2.20->yfinance->-r requirements.txt (line 4)) (2021.5.30)
Aug 21 13:30:30 the-rain-maker dstock_updater_SuperGangsta[48761]: Requirement already satisfied: setuptools>=40.3.0 in ./dstock_venv/lib/python3.8/site-packages (from google-auth>=1.12.0->gspread->-r requirements.txt (line 8)) (44.0.0)
Aug 21 13:30:30 the-rain-maker dstock_updater_SuperGangsta[48761]: Requirement already satisfied: cachetools<5.0,>=2.0.0 in ./dstock_venv/lib/python3.8/site-packages (from google-auth>=1.12.0->gspread->-r requirements.txt (line 8)) (4.2.2)
Aug 21 13:30:30 the-rain-maker dstock_updater_SuperGangsta[48761]: Requirement already satisfied: requests-oauthlib>=0.7.0 in ./dstock_venv/lib/python3.8/site-packages (from google-auth-oauthlib>=0.4.1->gspread->-r requirements.txt (line 8)) (1.3.0)
Aug 21 13:30:30 the-rain-maker dstock_updater_SuperGangsta[48761]: Requirement already satisfied: protobuf>=3.12.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-core<3.0.0dev,>=1.21.0->google-api-python-client->-r requirements.txt (line 9)) (3.17.3)
Aug 21 13:30:30 the-rain-maker dstock_updater_SuperGangsta[48761]: Requirement already satisfied: googleapis-common-protos<2.0dev,>=1.6.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-core<3.0.0dev,>=1.21.0->google-api-python-client->-r requirements.txt (line 9)) (1.53.0)
Aug 21 13:30:30 the-rain-maker dstock_updater_SuperGangsta[48761]: Requirement already satisfied: oauthlib>=3.0.0 in ./dstock_venv/lib/python3.8/site-packages (from requests-oauthlib>=0.7.0->google-auth-oauthlib>=0.4.1->gspread->-r requirements.txt (line 8)) (3.1.1)
Aug 21 13:30:30 the-rain-maker dstock_updater_SuperGangsta[48713]: + ./generate_daily_report.sh --user dkarimi --clean --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperGangsta --which-api-source tiingo --super-set-name SuperGangsta --sqlite-file /home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite --service-name dstock_updater_SuperGangsta --portfolio TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550
Aug 21 13:30:30 the-rain-maker dstock_updater_SuperGangsta[48767]: generating report:
Aug 21 13:30:30 the-rain-maker dstock_updater_SuperGangsta[48767]: + ./daily_report --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperGangsta --portfolio TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550 --start-date 2021-08-06 --end-date 2021-08-20 --output-dir runs/daily_report_output_2021-08-20 --which-source yahoo --sqlite-file /home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite --jitter 100 --num-randos 100
Aug 21 13:30:31 the-rain-maker dstock_updater_SuperGangsta[48783]: INFO:root:Dowloading History and Prices of TESTFUNDS0830 for 14 days
Aug 21 13:30:36 the-rain-maker dstock_updater_SuperGangsta[48783]: WARNING:root:You are graphing data before the alpaca account started
Aug 21 13:30:36 the-rain-maker dstock_updater_SuperGangsta[48783]: WARNING:root:showing 15 days 10:55:01.984880 before this account creation on 2021-08-21 10:55:01.984880-04:00
Aug 21 13:30:36 the-rain-maker dstock_updater_SuperGangsta[48783]: WARNING:root:To correct use --start-date 2021-08-21
Aug 21 13:30:36 the-rain-maker dstock_updater_SuperGangsta[48783]: WARNING:root:But you should look in alpaca at what day your first trade was on
Aug 21 13:30:36 the-rain-maker dstock_updater_SuperGangsta[48783]: WARNING:root:Then set the start date to be one day before that day
Aug 21 13:30:36 the-rain-maker dstock_updater_SuperGangsta[48783]: INFO:root:Asking for time in the past more recent than last history value, taking account's current value $100000.000000 on 2021-08-20 00:00:00
Aug 21 13:30:36 the-rain-maker dstock_updater_SuperGangsta[48783]: INFO:root:Getting initial_investment from Alpaca: $100000.00
Aug 21 13:30:36 the-rain-maker dstock_updater_SuperGangsta[48783]: /home/dkarimi/work/supersets/SuperGangsta/dstock/fomo_graph.py:870: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead.  To get a de-fragmented frame, use `newframe = frame.copy()`
Aug 21 13:30:36 the-rain-maker dstock_updater_SuperGangsta[48783]:   fomoframe[line_name] = float('nan')
Aug 21 13:30:36 the-rain-maker dstock_updater_SuperGangsta[48783]: Traceback (most recent call last):
Aug 21 13:30:36 the-rain-maker dstock_updater_SuperGangsta[48783]:   File "./daily_report.py", line 198, in <module>
Aug 21 13:30:36 the-rain-maker dstock_updater_SuperGangsta[48783]:     main(**vars(args))
Aug 21 13:30:36 the-rain-maker dstock_updater_SuperGangsta[48783]:   File "./daily_report.py", line 139, in main
Aug 21 13:30:36 the-rain-maker dstock_updater_SuperGangsta[48783]:     fomo_results = fomo_graph.main(
Aug 21 13:30:36 the-rain-maker dstock_updater_SuperGangsta[48783]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/fomo_graph.py", line 889, in main
Aug 21 13:30:36 the-rain-maker dstock_updater_SuperGangsta[48783]:     _simulate_account(
Aug 21 13:30:36 the-rain-maker dstock_updater_SuperGangsta[48783]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/fomo_graph.py", line 363, in _simulate_account
Aug 21 13:30:36 the-rain-maker dstock_updater_SuperGangsta[48783]:     _simulate_palloc_web_account(
Aug 21 13:30:36 the-rain-maker dstock_updater_SuperGangsta[48783]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/fomo_graph.py", line 245, in _simulate_palloc_web_account
Aug 21 13:30:36 the-rain-maker dstock_updater_SuperGangsta[48783]:     trader_results = palloc_trader.main(
Aug 21 13:30:36 the-rain-maker dstock_updater_SuperGangsta[48783]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/palloc_trader.py", line 395, in main
Aug 21 13:30:36 the-rain-maker dstock_updater_SuperGangsta[48783]:     trader = Trader(
Aug 21 13:30:36 the-rain-maker dstock_updater_SuperGangsta[48783]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/palloc_trader.py", line 152, in __init__
Aug 21 13:30:36 the-rain-maker dstock_updater_SuperGangsta[48783]:     self.portfolio_response = self.get_portfolio_response()
Aug 21 13:30:36 the-rain-maker dstock_updater_SuperGangsta[48783]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/palloc_trader.py", line 171, in get_portfolio_response
Aug 21 13:30:36 the-rain-maker dstock_updater_SuperGangsta[48783]:     pr = dstock_palloc_db.get_portfolio_by_name(
Aug 21 13:30:36 the-rain-maker dstock_updater_SuperGangsta[48783]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/dstock_palloc_db.py", line 262, in get_portfolio_by_name
Aug 21 13:30:36 the-rain-maker dstock_updater_SuperGangsta[48783]:     _get_last_recommendation_info(
Aug 21 13:30:36 the-rain-maker dstock_updater_SuperGangsta[48783]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/dstock_palloc_db.py", line 67, in _get_last_recommendation_info
Aug 21 13:30:36 the-rain-maker dstock_updater_SuperGangsta[48783]:     raise NoRecommendationFound(
Aug 21 13:30:36 the-rain-maker dstock_updater_SuperGangsta[48783]: dstock_palloc_db.NoRecommendationFound: Could not find any recommendations runs for TESTFUNDS0830 made before 2021-08-06 08:50:00
Aug 21 13:30:36 the-rain-maker dstock_updater_SuperGangsta[48767]: + set +x
Aug 21 13:30:36 the-rain-maker dstock_updater_SuperGangsta[48767]: updating website dstock/reports/SuperGangsta/2021-08-21/daily ...
Aug 21 13:30:36 the-rain-maker dstock_updater_SuperGangsta[48767]: + ./report_curator --input-report-dir runs/daily_report_output_2021-08-20 --target-report-dir dstock/reports/SuperGangsta/2021-08-21/daily
Aug 21 13:30:38 the-rain-maker dstock_updater_SuperGangsta[48832]: INFO:root:cd report_website && git pull
Aug 21 13:30:38 the-rain-maker dstock_updater_SuperGangsta[48848]: Already up to date.
Aug 21 13:30:38 the-rain-maker dstock_updater_SuperGangsta[48832]: INFO:root:mkdir -p report_website/dstock/reports/SuperGangsta/2021-08-21/daily && cp -vr runs/daily_report_output_2021-08-20/* report_website/dstock/reports/SuperGangsta/2021-08-21/daily/
Aug 21 13:30:38 the-rain-maker dstock_updater_SuperGangsta[48851]: cp: cannot stat 'runs/daily_report_output_2021-08-20/*': No such file or directory
Aug 21 13:30:38 the-rain-maker dstock_updater_SuperGangsta[48832]: Traceback (most recent call last):
Aug 21 13:30:38 the-rain-maker dstock_updater_SuperGangsta[48832]:   File "./report_curator.py", line 113, in <module>
Aug 21 13:30:38 the-rain-maker dstock_updater_SuperGangsta[48832]:     main(**vars(args))
Aug 21 13:30:38 the-rain-maker dstock_updater_SuperGangsta[48832]:   File "./report_curator.py", line 60, in main
Aug 21 13:30:38 the-rain-maker dstock_updater_SuperGangsta[48832]:     _cmd("mkdir -p {website_repo_dir}/{target_report_dir} && cp -vr {input_report_dir}/* {website_repo_dir}/{target_report_dir}/".format(
Aug 21 13:30:38 the-rain-maker dstock_updater_SuperGangsta[48832]:   File "./report_curator.py", line 30, in _cmd
Aug 21 13:30:38 the-rain-maker dstock_updater_SuperGangsta[48832]:     subprocess.check_call(cmd, shell=True)
Aug 21 13:30:38 the-rain-maker dstock_updater_SuperGangsta[48832]:   File "/usr/lib/python3.8/subprocess.py", line 364, in check_call
Aug 21 13:30:38 the-rain-maker dstock_updater_SuperGangsta[48832]:     raise CalledProcessError(retcode, cmd)
Aug 21 13:30:38 the-rain-maker dstock_updater_SuperGangsta[48832]: subprocess.CalledProcessError: Command 'mkdir -p report_website/dstock/reports/SuperGangsta/2021-08-21/daily && cp -vr runs/daily_report_output_2021-08-20/* report_website/dstock/reports/SuperGangsta/2021-08-21/daily/' returned non-zero exit status 1.
Aug 21 13:30:39 the-rain-maker dstock_updater_SuperGangsta[48767]: + set +x
Aug 21 13:30:39 the-rain-maker dstock_updater_SuperGangsta[48767]: Sending email about website dstock/reports/SuperGangsta/2021-08-21/daily ...
Aug 21 13:30:39 the-rain-maker dstock_updater_SuperGangsta[48852]: ++ date -I
Aug 21 13:30:39 the-rain-maker dstock_updater_SuperGangsta[48767]: + ./send_mail --to derrick.karimi@gmail.com --_from derrick.karimi@gmail.com --subject '[dstock] SuperGangsta Daily Report for 2021-08-21' --text https://alwaystraining.github.io/dstock/reports/SuperGangsta/2021-08-21/daily/ --server smtp.gmail.com --port 587 --server_user dr.randy.myers --server_user_pass dr.randy.myers.password
Aug 21 13:30:40 the-rain-maker dstock_updater_SuperGangsta[48767]: + set +x
Aug 21 13:30:40 the-rain-maker sudo[48712]: pam_unix(sudo:session): session closed for user dkarimi
Aug 21 13:30:40 the-rain-maker dstock_updater_SuperGangsta[48665]: + set +x
Aug 21 13:30:40 the-rain-maker dstock_updater_SuperGangsta[48665]: restarting tuners: tuner_SuperGangsta_TESTFUNDS0830.service tuner_SuperGangsta_TESTFUNDS1330.service tuner_SuperGangsta_TESTFUNDS1550.service
Aug 21 13:30:40 the-rain-maker dstock_updater_SuperGangsta[48880]: Failed to start tuner_SuperGangsta_TESTFUNDS0830.service: Unit tuner_SuperGangsta_TESTFUNDS0830.service not found.
Aug 21 13:30:40 the-rain-maker dstock_updater_SuperGangsta[48880]: Failed to start tuner_SuperGangsta_TESTFUNDS1330.service: Unit tuner_SuperGangsta_TESTFUNDS1330.service not found.
Aug 21 13:30:40 the-rain-maker dstock_updater_SuperGangsta[48880]: Failed to start tuner_SuperGangsta_TESTFUNDS1550.service: Unit tuner_SuperGangsta_TESTFUNDS1550.service not found.
Aug 21 13:30:40 the-rain-maker systemd[1]: dstock_updater_SuperGangsta.service: Main process exited, code=exited, status=5/NOTINSTALLED
Aug 21 13:30:40 the-rain-maker sudo[48881]:     root : TTY=unknown ; PWD=/home/dkarimi/work/supersets/SuperGangsta/dstock ; USER=dkarimi ; ENV=SERVICE_RESULT=exit-code EXIT_CODE=exited EXIT_STATUS=5 ; COMMAND=/home/dkarimi/work/supersets/SuperGangsta/dstock/generate_post_service_report.sh --super-set-name SuperGangsta --portfolio TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550 --service-name dstock_updater_SuperGangsta --send-success-emails
Aug 21 13:30:40 the-rain-maker sudo[48881]: pam_unix(sudo:session): session opened for user dkarimi by (uid=0)
Aug 21 13:30:40 the-rain-maker dstock_updater_SuperGangsta[48883]: generating post service report for : dstock_updater_SuperGangsta
Aug 21 13:30:40 the-rain-maker dstock_updater_SuperGangsta[48883]: Generating email content ...
Aug 21 13:30:40 the-rain-maker dstock_updater_SuperGangsta[48883]: Sending email about website dstock/reports/SuperGangsta/2021-08-21/post_service/133040_dstock_updater_SuperGangsta ...
Aug 21 13:30:42 the-rain-maker sudo[48881]: pam_unix(sudo:session): session closed for user dkarimi
Aug 21 13:30:42 the-rain-maker systemd[1]: dstock_updater_SuperGangsta.service: Failed with result 'exit-code'.
Aug 21 13:30:42 the-rain-maker systemd[1]: Failed to start dstock SuperGangsta updater service.
Aug 21 15:33:57 the-rain-maker systemd[1]: Starting dstock SuperGangsta updater service...
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: + origargs='--user dkarimi --clean --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperGangsta --which-api-source tiingo --super-set-name SuperGangsta --sqlite-file /home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite --service-name dstock_updater_SuperGangsta --portfolio TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550'
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: + . big_bash_arg_parser
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ arg_print_help=0
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ arg_clean_working_files=0
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ arg_which_source=yahoo
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ arg_clean_venvs=0
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ arg_send_success_emails=0
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ arg_no_report_emails=0
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ arg_no_report_repo=0
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ '[' 15 -gt 0 ']'
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ case $1 in
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ export arg_non_root_user=dkarimi
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ arg_non_root_user=dkarimi
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ shift
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ shift
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ '[' 13 -gt 0 ']'
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ case $1 in
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ export arg_clean_working_files=1
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ arg_clean_working_files=1
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ shift
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ '[' 12 -gt 0 ']'
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ case $1 in
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ export arg_alpaca_vars_file=/home/dkarimi/work/vault/varfiles/SuperGangsta
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ arg_alpaca_vars_file=/home/dkarimi/work/vault/varfiles/SuperGangsta
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ shift
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ shift
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ '[' 10 -gt 0 ']'
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ case $1 in
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ shift
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ '[' 9 -gt 0 ']'
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ case $1 in
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ shift
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ '[' 8 -gt 0 ']'
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ case $1 in
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ export arg_super_set_name=SuperGangsta
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ arg_super_set_name=SuperGangsta
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ shift
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ shift
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ '[' 6 -gt 0 ']'
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ case $1 in
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ export arg_sqlite_file=/home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ arg_sqlite_file=/home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ shift
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ shift
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ '[' 4 -gt 0 ']'
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ case $1 in
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ export arg_service_name=dstock_updater_SuperGangsta
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ arg_service_name=dstock_updater_SuperGangsta
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ shift
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ shift
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ '[' 2 -gt 0 ']'
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ case $1 in
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ export arg_portfolio=TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ arg_portfolio=TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ shift
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ shift
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ '[' 0 -gt 0 ']'
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: ++ '[' 0 '!=' 0 ']'
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: + '[' -z dkarimi ']'
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: + echo 'Stopping all tuners...'
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: Stopping all tuners...
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86618]: + set -x
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86621]: ++ grep -v '\.timer'
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86620]: ++ ./captain.py list --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperGangsta --fund-set TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550 --with-tuner --super-set-name SuperGangsta
Aug 21 15:33:57 the-rain-maker dstock_updater_SuperGangsta[86622]: ++ xargs
Aug 21 15:33:58 the-rain-maker dstock_updater_SuperGangsta[86618]: + tuner_services='tuner_SuperGangsta_TESTFUNDS0830.service tuner_SuperGangsta_TESTFUNDS1330.service tuner_SuperGangsta_TESTFUNDS1550.service'
Aug 21 15:33:58 the-rain-maker dstock_updater_SuperGangsta[86618]: + systemctl stop tuner_SuperGangsta_TESTFUNDS0830.service tuner_SuperGangsta_TESTFUNDS1330.service tuner_SuperGangsta_TESTFUNDS1550.service
Aug 21 15:33:58 the-rain-maker dstock_updater_SuperGangsta[86694]: Failed to stop tuner_SuperGangsta_TESTFUNDS0830.service: Unit tuner_SuperGangsta_TESTFUNDS0830.service not loaded.
Aug 21 15:33:58 the-rain-maker dstock_updater_SuperGangsta[86694]: Failed to stop tuner_SuperGangsta_TESTFUNDS1330.service: Unit tuner_SuperGangsta_TESTFUNDS1330.service not loaded.
Aug 21 15:33:58 the-rain-maker dstock_updater_SuperGangsta[86694]: Failed to stop tuner_SuperGangsta_TESTFUNDS1550.service: Unit tuner_SuperGangsta_TESTFUNDS1550.service not loaded.
Aug 21 15:33:58 the-rain-maker dstock_updater_SuperGangsta[86618]: + set +x
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86618]: updating application
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86618]: + sudo -u dkarimi ./dstock_updater_helper.sh --user dkarimi --clean --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperGangsta --which-api-source tiingo --super-set-name SuperGangsta --sqlite-file /home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite --service-name dstock_updater_SuperGangsta --portfolio TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550
Aug 21 15:34:13 the-rain-maker sudo[86820]:     root : TTY=unknown ; PWD=/home/dkarimi/work/supersets/SuperGangsta/dstock ; USER=dkarimi ; COMMAND=./dstock_updater_helper.sh --user dkarimi --clean --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperGangsta --which-api-source tiingo --super-set-name SuperGangsta --sqlite-file /home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite --service-name dstock_updater_SuperGangsta --portfolio TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550
Aug 21 15:34:13 the-rain-maker sudo[86820]: pam_unix(sudo:session): session opened for user dkarimi by (uid=0)
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: + origargs='--user dkarimi --clean --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperGangsta --which-api-source tiingo --super-set-name SuperGangsta --sqlite-file /home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite --service-name dstock_updater_SuperGangsta --portfolio TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550'
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: + . big_bash_arg_parser
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ arg_print_help=0
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ arg_clean_working_files=0
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ arg_which_source=yahoo
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ arg_clean_venvs=0
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ arg_send_success_emails=0
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ arg_no_report_emails=0
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ arg_no_report_repo=0
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ '[' 15 -gt 0 ']'
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ case $1 in
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ export arg_non_root_user=dkarimi
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ arg_non_root_user=dkarimi
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ shift
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ shift
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ '[' 13 -gt 0 ']'
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ case $1 in
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ export arg_clean_working_files=1
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ arg_clean_working_files=1
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ shift
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ '[' 12 -gt 0 ']'
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ case $1 in
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ export arg_alpaca_vars_file=/home/dkarimi/work/vault/varfiles/SuperGangsta
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ arg_alpaca_vars_file=/home/dkarimi/work/vault/varfiles/SuperGangsta
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ shift
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ shift
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ '[' 10 -gt 0 ']'
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ case $1 in
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ shift
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ '[' 9 -gt 0 ']'
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ case $1 in
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ shift
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ '[' 8 -gt 0 ']'
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ case $1 in
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ export arg_super_set_name=SuperGangsta
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ arg_super_set_name=SuperGangsta
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ shift
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ shift
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ '[' 6 -gt 0 ']'
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ case $1 in
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ export arg_sqlite_file=/home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ arg_sqlite_file=/home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ shift
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ shift
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ '[' 4 -gt 0 ']'
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ case $1 in
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ export arg_service_name=dstock_updater_SuperGangsta
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ arg_service_name=dstock_updater_SuperGangsta
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ shift
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ shift
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ '[' 2 -gt 0 ']'
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ case $1 in
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ export arg_portfolio=TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ arg_portfolio=TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ shift
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ shift
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ '[' 0 -gt 0 ']'
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: ++ '[' 0 '!=' 0 ']'
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: + '[' 1 '!=' 0 ']'
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: + dirs_to_clean='runs opentuner.db download_cache'
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: + for dir in $dirs_to_clean
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: + echo 'Clearing Dir: runs'
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: Clearing Dir: runs
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: + rm -rf runs
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: + mkdir -p runs
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: + for dir in $dirs_to_clean
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: + echo 'Clearing Dir: opentuner.db'
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: Clearing Dir: opentuner.db
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: + rm -rf opentuner.db
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: + mkdir -p opentuner.db
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: + for dir in $dirs_to_clean
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: + echo 'Clearing Dir: download_cache'
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: Clearing Dir: download_cache
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: + rm -rf download_cache
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: + mkdir -p download_cache
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: + echo '!!!'
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: !!!
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: + echo '!!! It is now time to update dstock'
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: !!! It is now time to update dstock
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: + echo '!!!'
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: !!!
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: + git status
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86828]: On branch dkarimi/testfunds_glory
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86828]: Your branch is up to date with 'origin/dkarimi/testfunds_glory'.
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86828]: nothing to commit, working tree clean
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: + git pull
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86835]: Already up to date.
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: + '[' 0 '!=' 0 ']'
Aug 21 15:34:13 the-rain-maker dstock_updater_SuperGangsta[86821]: + /bin/bash -c 'source dstock_venv/bin/activate && pip install -r requirements.txt'
Aug 21 15:34:15 the-rain-maker dstock_updater_SuperGangsta[86836]: Requirement already satisfied: pandas in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 1)) (1.3.2)
Aug 21 15:34:15 the-rain-maker dstock_updater_SuperGangsta[86836]: Requirement already satisfied: pyyaml in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 2)) (5.4.1)
Aug 21 15:34:15 the-rain-maker dstock_updater_SuperGangsta[86836]: Requirement already satisfied: prettytable in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 3)) (2.1.0)
Aug 21 15:34:15 the-rain-maker dstock_updater_SuperGangsta[86836]: Requirement already satisfied: yfinance in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 4)) (0.1.63)
Aug 21 15:34:15 the-rain-maker dstock_updater_SuperGangsta[86836]: Requirement already satisfied: matplotlib in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 5)) (3.4.3)
Aug 21 15:34:15 the-rain-maker dstock_updater_SuperGangsta[86836]: Requirement already satisfied: alpaca-trade-api in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 6)) (1.2.3)
Aug 21 15:34:15 the-rain-maker dstock_updater_SuperGangsta[86836]: Requirement already satisfied: pandas_datareader in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 7)) (0.10.0)
Aug 21 15:34:15 the-rain-maker dstock_updater_SuperGangsta[86836]: Requirement already satisfied: gspread in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 8)) (4.0.1)
Aug 21 15:34:15 the-rain-maker dstock_updater_SuperGangsta[86836]: Requirement already satisfied: google-api-python-client in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 9)) (2.17.0)
Aug 21 15:34:15 the-rain-maker dstock_updater_SuperGangsta[86836]: Requirement already satisfied: oauth2client in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 10)) (4.1.3)
Aug 21 15:34:15 the-rain-maker dstock_updater_SuperGangsta[86836]: Requirement already satisfied: wheel in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 11)) (0.37.0)
Aug 21 15:34:16 the-rain-maker dstock_updater_SuperGangsta[86836]: Requirement already satisfied: pytz>=2017.3 in ./dstock_venv/lib/python3.8/site-packages (from pandas->-r requirements.txt (line 1)) (2021.1)
Aug 21 15:34:16 the-rain-maker dstock_updater_SuperGangsta[86836]: Requirement already satisfied: python-dateutil>=2.7.3 in ./dstock_venv/lib/python3.8/site-packages (from pandas->-r requirements.txt (line 1)) (2.8.2)
Aug 21 15:34:16 the-rain-maker dstock_updater_SuperGangsta[86836]: Requirement already satisfied: numpy>=1.17.3 in ./dstock_venv/lib/python3.8/site-packages (from pandas->-r requirements.txt (line 1)) (1.21.2)
Aug 21 15:34:16 the-rain-maker dstock_updater_SuperGangsta[86836]: Requirement already satisfied: wcwidth in ./dstock_venv/lib/python3.8/site-packages (from prettytable->-r requirements.txt (line 3)) (0.2.5)
Aug 21 15:34:16 the-rain-maker dstock_updater_SuperGangsta[86836]: Requirement already satisfied: lxml>=4.5.1 in ./dstock_venv/lib/python3.8/site-packages (from yfinance->-r requirements.txt (line 4)) (4.6.3)
Aug 21 15:34:16 the-rain-maker dstock_updater_SuperGangsta[86836]: Requirement already satisfied: multitasking>=0.0.7 in ./dstock_venv/lib/python3.8/site-packages (from yfinance->-r requirements.txt (line 4)) (0.0.9)
Aug 21 15:34:16 the-rain-maker dstock_updater_SuperGangsta[86836]: Requirement already satisfied: requests>=2.20 in ./dstock_venv/lib/python3.8/site-packages (from yfinance->-r requirements.txt (line 4)) (2.26.0)
Aug 21 15:34:16 the-rain-maker dstock_updater_SuperGangsta[86836]: Requirement already satisfied: kiwisolver>=1.0.1 in ./dstock_venv/lib/python3.8/site-packages (from matplotlib->-r requirements.txt (line 5)) (1.3.1)
Aug 21 15:34:16 the-rain-maker dstock_updater_SuperGangsta[86836]: Requirement already satisfied: pyparsing>=2.2.1 in ./dstock_venv/lib/python3.8/site-packages (from matplotlib->-r requirements.txt (line 5)) (2.4.7)
Aug 21 15:34:16 the-rain-maker dstock_updater_SuperGangsta[86836]: Requirement already satisfied: cycler>=0.10 in ./dstock_venv/lib/python3.8/site-packages (from matplotlib->-r requirements.txt (line 5)) (0.10.0)
Aug 21 15:34:16 the-rain-maker dstock_updater_SuperGangsta[86836]: Requirement already satisfied: pillow>=6.2.0 in ./dstock_venv/lib/python3.8/site-packages (from matplotlib->-r requirements.txt (line 5)) (8.3.1)
Aug 21 15:34:16 the-rain-maker dstock_updater_SuperGangsta[86836]: Requirement already satisfied: urllib3<2,>1.24 in ./dstock_venv/lib/python3.8/site-packages (from alpaca-trade-api->-r requirements.txt (line 6)) (1.26.6)
Aug 21 15:34:16 the-rain-maker dstock_updater_SuperGangsta[86836]: Requirement already satisfied: websockets<10,>=8.0 in ./dstock_venv/lib/python3.8/site-packages (from alpaca-trade-api->-r requirements.txt (line 6)) (9.1)
Aug 21 15:34:16 the-rain-maker dstock_updater_SuperGangsta[86836]: Requirement already satisfied: websocket-client<2,>=0.56.0 in ./dstock_venv/lib/python3.8/site-packages (from alpaca-trade-api->-r requirements.txt (line 6)) (1.2.1)
Aug 21 15:34:16 the-rain-maker dstock_updater_SuperGangsta[86836]: Requirement already satisfied: msgpack==1.0.2 in ./dstock_venv/lib/python3.8/site-packages (from alpaca-trade-api->-r requirements.txt (line 6)) (1.0.2)
Aug 21 15:34:16 the-rain-maker dstock_updater_SuperGangsta[86836]: Requirement already satisfied: google-auth>=1.12.0 in ./dstock_venv/lib/python3.8/site-packages (from gspread->-r requirements.txt (line 8)) (2.0.1)
Aug 21 15:34:16 the-rain-maker dstock_updater_SuperGangsta[86836]: Requirement already satisfied: google-auth-oauthlib>=0.4.1 in ./dstock_venv/lib/python3.8/site-packages (from gspread->-r requirements.txt (line 8)) (0.4.5)
Aug 21 15:34:16 the-rain-maker dstock_updater_SuperGangsta[86836]: Requirement already satisfied: uritemplate<4dev,>=3.0.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-python-client->-r requirements.txt (line 9)) (3.0.1)
Aug 21 15:34:16 the-rain-maker dstock_updater_SuperGangsta[86836]: Requirement already satisfied: google-auth-httplib2>=0.1.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-python-client->-r requirements.txt (line 9)) (0.1.0)
Aug 21 15:34:16 the-rain-maker dstock_updater_SuperGangsta[86836]: Requirement already satisfied: google-api-core<3.0.0dev,>=1.21.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-python-client->-r requirements.txt (line 9)) (2.0.0)
Aug 21 15:34:16 the-rain-maker dstock_updater_SuperGangsta[86836]: Requirement already satisfied: httplib2<1dev,>=0.15.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-python-client->-r requirements.txt (line 9)) (0.19.1)
Aug 21 15:34:16 the-rain-maker dstock_updater_SuperGangsta[86836]: Requirement already satisfied: pyasn1>=0.1.7 in ./dstock_venv/lib/python3.8/site-packages (from oauth2client->-r requirements.txt (line 10)) (0.4.8)
Aug 21 15:34:16 the-rain-maker dstock_updater_SuperGangsta[86836]: Requirement already satisfied: rsa>=3.1.4 in ./dstock_venv/lib/python3.8/site-packages (from oauth2client->-r requirements.txt (line 10)) (4.7.2)
Aug 21 15:34:16 the-rain-maker dstock_updater_SuperGangsta[86836]: Requirement already satisfied: six>=1.6.1 in ./dstock_venv/lib/python3.8/site-packages (from oauth2client->-r requirements.txt (line 10)) (1.16.0)
Aug 21 15:34:16 the-rain-maker dstock_updater_SuperGangsta[86836]: Requirement already satisfied: pyasn1-modules>=0.0.5 in ./dstock_venv/lib/python3.8/site-packages (from oauth2client->-r requirements.txt (line 10)) (0.2.8)
Aug 21 15:34:16 the-rain-maker dstock_updater_SuperGangsta[86836]: Requirement already satisfied: charset-normalizer~=2.0.0; python_version >= "3" in ./dstock_venv/lib/python3.8/site-packages (from requests>=2.20->yfinance->-r requirements.txt (line 4)) (2.0.4)
Aug 21 15:34:16 the-rain-maker dstock_updater_SuperGangsta[86836]: Requirement already satisfied: idna<4,>=2.5; python_version >= "3" in ./dstock_venv/lib/python3.8/site-packages (from requests>=2.20->yfinance->-r requirements.txt (line 4)) (3.2)
Aug 21 15:34:16 the-rain-maker dstock_updater_SuperGangsta[86836]: Requirement already satisfied: certifi>=2017.4.17 in ./dstock_venv/lib/python3.8/site-packages (from requests>=2.20->yfinance->-r requirements.txt (line 4)) (2021.5.30)
Aug 21 15:34:16 the-rain-maker dstock_updater_SuperGangsta[86836]: Requirement already satisfied: setuptools>=40.3.0 in ./dstock_venv/lib/python3.8/site-packages (from google-auth>=1.12.0->gspread->-r requirements.txt (line 8)) (44.0.0)
Aug 21 15:34:16 the-rain-maker dstock_updater_SuperGangsta[86836]: Requirement already satisfied: cachetools<5.0,>=2.0.0 in ./dstock_venv/lib/python3.8/site-packages (from google-auth>=1.12.0->gspread->-r requirements.txt (line 8)) (4.2.2)
Aug 21 15:34:16 the-rain-maker dstock_updater_SuperGangsta[86836]: Requirement already satisfied: requests-oauthlib>=0.7.0 in ./dstock_venv/lib/python3.8/site-packages (from google-auth-oauthlib>=0.4.1->gspread->-r requirements.txt (line 8)) (1.3.0)
Aug 21 15:34:16 the-rain-maker dstock_updater_SuperGangsta[86836]: Requirement already satisfied: googleapis-common-protos<2.0dev,>=1.6.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-core<3.0.0dev,>=1.21.0->google-api-python-client->-r requirements.txt (line 9)) (1.53.0)
Aug 21 15:34:16 the-rain-maker dstock_updater_SuperGangsta[86836]: Requirement already satisfied: protobuf>=3.12.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-core<3.0.0dev,>=1.21.0->google-api-python-client->-r requirements.txt (line 9)) (3.17.3)
Aug 21 15:34:16 the-rain-maker dstock_updater_SuperGangsta[86836]: Requirement already satisfied: oauthlib>=3.0.0 in ./dstock_venv/lib/python3.8/site-packages (from requests-oauthlib>=0.7.0->google-auth-oauthlib>=0.4.1->gspread->-r requirements.txt (line 8)) (3.1.1)
Aug 21 15:34:16 the-rain-maker dstock_updater_SuperGangsta[86821]: + ./generate_daily_report.sh --user dkarimi --clean --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperGangsta --which-api-source tiingo --super-set-name SuperGangsta --sqlite-file /home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite --service-name dstock_updater_SuperGangsta --portfolio TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550
Aug 21 15:34:16 the-rain-maker dstock_updater_SuperGangsta[86862]: generating report:
Aug 21 15:34:16 the-rain-maker dstock_updater_SuperGangsta[86862]: + ./daily_report --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperGangsta --portfolio TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550 --start-date 2021-08-06 --end-date 2021-08-20 --output-dir runs/daily_report_output_2021-08-20 --which-source yahoo --sqlite-file /home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite --jitter 100 --num-randos 100
Aug 21 15:34:18 the-rain-maker dstock_updater_SuperGangsta[86878]: INFO:root:Dowloading History and Prices of TESTFUNDS0830 for 14 days
Aug 21 15:34:22 the-rain-maker dstock_updater_SuperGangsta[86878]: WARNING:root:You are graphing data before the alpaca account started
Aug 21 15:34:22 the-rain-maker dstock_updater_SuperGangsta[86878]: WARNING:root:showing 15 days 10:55:01.984880 before this account creation on 2021-08-21 10:55:01.984880-04:00
Aug 21 15:34:22 the-rain-maker dstock_updater_SuperGangsta[86878]: WARNING:root:To correct use --start-date 2021-08-21
Aug 21 15:34:22 the-rain-maker dstock_updater_SuperGangsta[86878]: WARNING:root:But you should look in alpaca at what day your first trade was on
Aug 21 15:34:22 the-rain-maker dstock_updater_SuperGangsta[86878]: WARNING:root:Then set the start date to be one day before that day
Aug 21 15:34:22 the-rain-maker dstock_updater_SuperGangsta[86878]: INFO:root:Asking for time in the past more recent than last history value, taking account's current value $100000.000000 on 2021-08-20 00:00:00
Aug 21 15:34:22 the-rain-maker dstock_updater_SuperGangsta[86878]: INFO:root:Getting initial_investment from Alpaca: $100000.00
Aug 21 15:34:22 the-rain-maker dstock_updater_SuperGangsta[86878]: /home/dkarimi/work/supersets/SuperGangsta/dstock/fomo_graph.py:870: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead.  To get a de-fragmented frame, use `newframe = frame.copy()`
Aug 21 15:34:22 the-rain-maker dstock_updater_SuperGangsta[86878]:   fomoframe[line_name] = float('nan')
Aug 21 15:34:22 the-rain-maker dstock_updater_SuperGangsta[86878]: Traceback (most recent call last):
Aug 21 15:34:22 the-rain-maker dstock_updater_SuperGangsta[86878]:   File "./daily_report.py", line 198, in <module>
Aug 21 15:34:22 the-rain-maker dstock_updater_SuperGangsta[86878]:     main(**vars(args))
Aug 21 15:34:22 the-rain-maker dstock_updater_SuperGangsta[86878]:   File "./daily_report.py", line 139, in main
Aug 21 15:34:22 the-rain-maker dstock_updater_SuperGangsta[86878]:     fomo_results = fomo_graph.main(
Aug 21 15:34:22 the-rain-maker dstock_updater_SuperGangsta[86878]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/fomo_graph.py", line 889, in main
Aug 21 15:34:22 the-rain-maker dstock_updater_SuperGangsta[86878]:     _simulate_account(
Aug 21 15:34:22 the-rain-maker dstock_updater_SuperGangsta[86878]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/fomo_graph.py", line 363, in _simulate_account
Aug 21 15:34:22 the-rain-maker dstock_updater_SuperGangsta[86878]:     _simulate_palloc_web_account(
Aug 21 15:34:22 the-rain-maker dstock_updater_SuperGangsta[86878]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/fomo_graph.py", line 245, in _simulate_palloc_web_account
Aug 21 15:34:22 the-rain-maker dstock_updater_SuperGangsta[86878]:     trader_results = palloc_trader.main(
Aug 21 15:34:22 the-rain-maker dstock_updater_SuperGangsta[86878]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/palloc_trader.py", line 395, in main
Aug 21 15:34:22 the-rain-maker dstock_updater_SuperGangsta[86878]:     trader = Trader(
Aug 21 15:34:22 the-rain-maker dstock_updater_SuperGangsta[86878]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/palloc_trader.py", line 152, in __init__
Aug 21 15:34:22 the-rain-maker dstock_updater_SuperGangsta[86878]:     self.portfolio_response = self.get_portfolio_response()
Aug 21 15:34:22 the-rain-maker dstock_updater_SuperGangsta[86878]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/palloc_trader.py", line 171, in get_portfolio_response
Aug 21 15:34:22 the-rain-maker dstock_updater_SuperGangsta[86878]:     pr = dstock_palloc_db.get_portfolio_by_name(
Aug 21 15:34:22 the-rain-maker dstock_updater_SuperGangsta[86878]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/dstock_palloc_db.py", line 262, in get_portfolio_by_name
Aug 21 15:34:22 the-rain-maker dstock_updater_SuperGangsta[86878]:     _get_last_recommendation_info(
Aug 21 15:34:22 the-rain-maker dstock_updater_SuperGangsta[86878]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/dstock_palloc_db.py", line 67, in _get_last_recommendation_info
Aug 21 15:34:22 the-rain-maker dstock_updater_SuperGangsta[86878]:     raise NoRecommendationFound(
Aug 21 15:34:22 the-rain-maker dstock_updater_SuperGangsta[86878]: dstock_palloc_db.NoRecommendationFound: Could not find any recommendations runs for TESTFUNDS0830 made before 2021-08-06 08:50:00
Aug 21 15:34:23 the-rain-maker dstock_updater_SuperGangsta[86862]: + set +x
Aug 21 15:34:23 the-rain-maker dstock_updater_SuperGangsta[86862]: updating website dstock/reports/SuperGangsta/2021-08-21/daily ...
Aug 21 15:34:23 the-rain-maker dstock_updater_SuperGangsta[86862]: + ./report_curator --input-report-dir runs/daily_report_output_2021-08-20 --target-report-dir dstock/reports/SuperGangsta/2021-08-21/daily
Aug 21 15:34:25 the-rain-maker dstock_updater_SuperGangsta[86898]: INFO:root:cd report_website && git pull
Aug 21 15:34:25 the-rain-maker dstock_updater_SuperGangsta[86914]: Already up to date.
Aug 21 15:34:25 the-rain-maker dstock_updater_SuperGangsta[86898]: INFO:root:mkdir -p report_website/dstock/reports/SuperGangsta/2021-08-21/daily && cp -vr runs/daily_report_output_2021-08-20/* report_website/dstock/reports/SuperGangsta/2021-08-21/daily/
Aug 21 15:34:25 the-rain-maker dstock_updater_SuperGangsta[86917]: cp: cannot stat 'runs/daily_report_output_2021-08-20/*': No such file or directory
Aug 21 15:34:25 the-rain-maker dstock_updater_SuperGangsta[86898]: Traceback (most recent call last):
Aug 21 15:34:25 the-rain-maker dstock_updater_SuperGangsta[86898]:   File "./report_curator.py", line 113, in <module>
Aug 21 15:34:25 the-rain-maker dstock_updater_SuperGangsta[86898]:     main(**vars(args))
Aug 21 15:34:25 the-rain-maker dstock_updater_SuperGangsta[86898]:   File "./report_curator.py", line 60, in main
Aug 21 15:34:25 the-rain-maker dstock_updater_SuperGangsta[86898]:     _cmd("mkdir -p {website_repo_dir}/{target_report_dir} && cp -vr {input_report_dir}/* {website_repo_dir}/{target_report_dir}/".format(
Aug 21 15:34:25 the-rain-maker dstock_updater_SuperGangsta[86898]:   File "./report_curator.py", line 30, in _cmd
Aug 21 15:34:25 the-rain-maker dstock_updater_SuperGangsta[86898]:     subprocess.check_call(cmd, shell=True)
Aug 21 15:34:25 the-rain-maker dstock_updater_SuperGangsta[86898]:   File "/usr/lib/python3.8/subprocess.py", line 364, in check_call
Aug 21 15:34:25 the-rain-maker dstock_updater_SuperGangsta[86898]:     raise CalledProcessError(retcode, cmd)
Aug 21 15:34:25 the-rain-maker dstock_updater_SuperGangsta[86898]: subprocess.CalledProcessError: Command 'mkdir -p report_website/dstock/reports/SuperGangsta/2021-08-21/daily && cp -vr runs/daily_report_output_2021-08-20/* report_website/dstock/reports/SuperGangsta/2021-08-21/daily/' returned non-zero exit status 1.
Aug 21 15:34:25 the-rain-maker dstock_updater_SuperGangsta[86862]: + set +x
Aug 21 15:34:25 the-rain-maker dstock_updater_SuperGangsta[86862]: Sending email about website dstock/reports/SuperGangsta/2021-08-21/daily ...
Aug 21 15:34:25 the-rain-maker dstock_updater_SuperGangsta[86918]: ++ date -I
Aug 21 15:34:25 the-rain-maker dstock_updater_SuperGangsta[86862]: + ./send_mail --to derrick.karimi@gmail.com --_from derrick.karimi@gmail.com --subject '[dstock] SuperGangsta Daily Report for 2021-08-21' --text https://alwaystraining.github.io/dstock/reports/SuperGangsta/2021-08-21/daily/ --server smtp.gmail.com --port 587 --server_user dr.randy.myers --server_user_pass dr.randy.myers.password
Aug 21 15:34:27 the-rain-maker dstock_updater_SuperGangsta[86862]: + set +x
Aug 21 15:34:27 the-rain-maker sudo[86820]: pam_unix(sudo:session): session closed for user dkarimi
Aug 21 15:34:27 the-rain-maker dstock_updater_SuperGangsta[86618]: + set +x
Aug 21 15:34:27 the-rain-maker dstock_updater_SuperGangsta[86618]: restarting tuners: tuner_SuperGangsta_TESTFUNDS0830.service tuner_SuperGangsta_TESTFUNDS1330.service tuner_SuperGangsta_TESTFUNDS1550.service
Aug 21 15:34:28 the-rain-maker dstock_updater_SuperGangsta[86947]: Failed to start tuner_SuperGangsta_TESTFUNDS0830.service: Unit tuner_SuperGangsta_TESTFUNDS0830.service not found.
Aug 21 15:34:28 the-rain-maker dstock_updater_SuperGangsta[86947]: Failed to start tuner_SuperGangsta_TESTFUNDS1330.service: Unit tuner_SuperGangsta_TESTFUNDS1330.service not found.
Aug 21 15:34:28 the-rain-maker dstock_updater_SuperGangsta[86947]: Failed to start tuner_SuperGangsta_TESTFUNDS1550.service: Unit tuner_SuperGangsta_TESTFUNDS1550.service not found.
Aug 21 15:34:28 the-rain-maker systemd[1]: dstock_updater_SuperGangsta.service: Main process exited, code=exited, status=5/NOTINSTALLED
Aug 21 15:34:28 the-rain-maker sudo[86948]:     root : TTY=unknown ; PWD=/home/dkarimi/work/supersets/SuperGangsta/dstock ; USER=dkarimi ; ENV=SERVICE_RESULT=exit-code EXIT_CODE=exited EXIT_STATUS=5 ; COMMAND=/home/dkarimi/work/supersets/SuperGangsta/dstock/generate_post_service_report.sh --super-set-name SuperGangsta --portfolio TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550 --service-name dstock_updater_SuperGangsta --send-success-emails
Aug 21 15:34:28 the-rain-maker sudo[86948]: pam_unix(sudo:session): session opened for user dkarimi by (uid=0)
Aug 21 15:34:28 the-rain-maker dstock_updater_SuperGangsta[86949]: generating post service report for : dstock_updater_SuperGangsta
Aug 21 15:34:28 the-rain-maker dstock_updater_SuperGangsta[86949]: Generating email content ...
Aug 21 15:34:28 the-rain-maker dstock_updater_SuperGangsta[86949]: Sending email about website dstock/reports/SuperGangsta/2021-08-21/post_service/153428_dstock_updater_SuperGangsta ...
Aug 21 15:34:30 the-rain-maker sudo[86948]: pam_unix(sudo:session): session closed for user dkarimi
Aug 21 15:34:30 the-rain-maker systemd[1]: dstock_updater_SuperGangsta.service: Failed with result 'exit-code'.
Aug 21 15:34:30 the-rain-maker systemd[1]: Failed to start dstock SuperGangsta updater service.
Aug 21 20:46:43 the-rain-maker systemd[1]: Starting dstock SuperGangsta updater service...
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: + origargs='--user dkarimi --clean --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperGangsta --which-api-source tiingo --super-set-name SuperGangsta --sqlite-file /home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite --service-name dstock_updater_SuperGangsta --portfolio TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550'
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: + . big_bash_arg_parser
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ arg_print_help=0
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ arg_clean_working_files=0
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ arg_which_source=yahoo
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ arg_clean_venvs=0
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ arg_send_success_emails=0
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ arg_no_report_emails=0
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ arg_no_report_repo=0
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ '[' 15 -gt 0 ']'
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ case $1 in
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ export arg_non_root_user=dkarimi
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ arg_non_root_user=dkarimi
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ shift
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ shift
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ '[' 13 -gt 0 ']'
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ case $1 in
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ export arg_clean_working_files=1
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ arg_clean_working_files=1
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ shift
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ '[' 12 -gt 0 ']'
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ case $1 in
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ export arg_alpaca_vars_file=/home/dkarimi/work/vault/varfiles/SuperGangsta
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ arg_alpaca_vars_file=/home/dkarimi/work/vault/varfiles/SuperGangsta
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ shift
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ shift
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ '[' 10 -gt 0 ']'
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ case $1 in
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ shift
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ '[' 9 -gt 0 ']'
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ case $1 in
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ shift
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ '[' 8 -gt 0 ']'
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ case $1 in
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ export arg_super_set_name=SuperGangsta
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ arg_super_set_name=SuperGangsta
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ shift
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ shift
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ '[' 6 -gt 0 ']'
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ case $1 in
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ export arg_sqlite_file=/home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ arg_sqlite_file=/home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ shift
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ shift
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ '[' 4 -gt 0 ']'
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ case $1 in
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ export arg_service_name=dstock_updater_SuperGangsta
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ arg_service_name=dstock_updater_SuperGangsta
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ shift
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ shift
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ '[' 2 -gt 0 ']'
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ case $1 in
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ export arg_portfolio=TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ arg_portfolio=TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ shift
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ shift
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ '[' 0 -gt 0 ']'
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: ++ '[' 0 '!=' 0 ']'
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: + '[' -z dkarimi ']'
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: + echo 'Stopping all tuners...'
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: Stopping all tuners...
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: + set -x
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198914]: ++ ./captain.py list --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperGangsta --fund-set TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550 --with-tuner --super-set-name SuperGangsta
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198915]: ++ grep -v '\.timer'
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198916]: ++ xargs
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: + tuner_services='tuner_SuperGangsta_TESTFUNDS0830.service tuner_SuperGangsta_TESTFUNDS1330.service tuner_SuperGangsta_TESTFUNDS1550.service'
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: + systemctl stop tuner_SuperGangsta_TESTFUNDS0830.service tuner_SuperGangsta_TESTFUNDS1330.service tuner_SuperGangsta_TESTFUNDS1550.service
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198918]: Failed to stop tuner_SuperGangsta_TESTFUNDS0830.service: Unit tuner_SuperGangsta_TESTFUNDS0830.service not loaded.
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198918]: Failed to stop tuner_SuperGangsta_TESTFUNDS1330.service: Unit tuner_SuperGangsta_TESTFUNDS1330.service not loaded.
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198918]: Failed to stop tuner_SuperGangsta_TESTFUNDS1550.service: Unit tuner_SuperGangsta_TESTFUNDS1550.service not loaded.
Aug 21 20:46:43 the-rain-maker dstock_updater_SuperGangsta[198912]: + set +x
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[198912]: updating application
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[198912]: + sudo -u dkarimi ./dstock_updater_helper.sh --user dkarimi --clean --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperGangsta --which-api-source tiingo --super-set-name SuperGangsta --sqlite-file /home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite --service-name dstock_updater_SuperGangsta --portfolio TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550
Aug 21 20:46:58 the-rain-maker sudo[199005]:     root : TTY=unknown ; PWD=/home/dkarimi/work/supersets/SuperGangsta/dstock ; USER=dkarimi ; COMMAND=./dstock_updater_helper.sh --user dkarimi --clean --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperGangsta --which-api-source tiingo --super-set-name SuperGangsta --sqlite-file /home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite --service-name dstock_updater_SuperGangsta --portfolio TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550
Aug 21 20:46:58 the-rain-maker sudo[199005]: pam_unix(sudo:session): session opened for user dkarimi by (uid=0)
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: + origargs='--user dkarimi --clean --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperGangsta --which-api-source tiingo --super-set-name SuperGangsta --sqlite-file /home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite --service-name dstock_updater_SuperGangsta --portfolio TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550'
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: + . big_bash_arg_parser
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ arg_print_help=0
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ arg_clean_working_files=0
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ arg_which_source=yahoo
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ arg_clean_venvs=0
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ arg_send_success_emails=0
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ arg_no_report_emails=0
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ arg_no_report_repo=0
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ '[' 15 -gt 0 ']'
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ case $1 in
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ export arg_non_root_user=dkarimi
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ arg_non_root_user=dkarimi
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ shift
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ shift
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ '[' 13 -gt 0 ']'
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ case $1 in
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ export arg_clean_working_files=1
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ arg_clean_working_files=1
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ shift
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ '[' 12 -gt 0 ']'
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ case $1 in
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ export arg_alpaca_vars_file=/home/dkarimi/work/vault/varfiles/SuperGangsta
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ arg_alpaca_vars_file=/home/dkarimi/work/vault/varfiles/SuperGangsta
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ shift
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ shift
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ '[' 10 -gt 0 ']'
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ case $1 in
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ shift
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ '[' 9 -gt 0 ']'
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ case $1 in
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ shift
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ '[' 8 -gt 0 ']'
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ case $1 in
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ export arg_super_set_name=SuperGangsta
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ arg_super_set_name=SuperGangsta
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ shift
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ shift
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ '[' 6 -gt 0 ']'
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ case $1 in
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ export arg_sqlite_file=/home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ arg_sqlite_file=/home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ shift
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ shift
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ '[' 4 -gt 0 ']'
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ case $1 in
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ export arg_service_name=dstock_updater_SuperGangsta
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ arg_service_name=dstock_updater_SuperGangsta
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ shift
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ shift
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ '[' 2 -gt 0 ']'
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ case $1 in
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ export arg_portfolio=TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ arg_portfolio=TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ shift
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ shift
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ '[' 0 -gt 0 ']'
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: ++ '[' 0 '!=' 0 ']'
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: + '[' 1 '!=' 0 ']'
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: + dirs_to_clean='runs opentuner.db download_cache'
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: + for dir in $dirs_to_clean
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: + echo 'Clearing Dir: runs'
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: Clearing Dir: runs
Aug 21 20:46:58 the-rain-maker dstock_updater_SuperGangsta[199006]: + rm -rf runs
Aug 21 20:46:59 the-rain-maker dstock_updater_SuperGangsta[199006]: + mkdir -p runs
Aug 21 20:46:59 the-rain-maker dstock_updater_SuperGangsta[199006]: + for dir in $dirs_to_clean
Aug 21 20:46:59 the-rain-maker dstock_updater_SuperGangsta[199006]: + echo 'Clearing Dir: opentuner.db'
Aug 21 20:46:59 the-rain-maker dstock_updater_SuperGangsta[199006]: Clearing Dir: opentuner.db
Aug 21 20:46:59 the-rain-maker dstock_updater_SuperGangsta[199006]: + rm -rf opentuner.db
Aug 21 20:46:59 the-rain-maker dstock_updater_SuperGangsta[199006]: + mkdir -p opentuner.db
Aug 21 20:46:59 the-rain-maker dstock_updater_SuperGangsta[199006]: + for dir in $dirs_to_clean
Aug 21 20:46:59 the-rain-maker dstock_updater_SuperGangsta[199006]: + echo 'Clearing Dir: download_cache'
Aug 21 20:46:59 the-rain-maker dstock_updater_SuperGangsta[199006]: Clearing Dir: download_cache
Aug 21 20:46:59 the-rain-maker dstock_updater_SuperGangsta[199006]: + rm -rf download_cache
Aug 21 20:46:59 the-rain-maker dstock_updater_SuperGangsta[199006]: + mkdir -p download_cache
Aug 21 20:46:59 the-rain-maker dstock_updater_SuperGangsta[199006]: + echo '!!!'
Aug 21 20:46:59 the-rain-maker dstock_updater_SuperGangsta[199006]: !!!
Aug 21 20:46:59 the-rain-maker dstock_updater_SuperGangsta[199006]: + echo '!!! It is now time to update dstock'
Aug 21 20:46:59 the-rain-maker dstock_updater_SuperGangsta[199006]: !!! It is now time to update dstock
Aug 21 20:46:59 the-rain-maker dstock_updater_SuperGangsta[199006]: + echo '!!!'
Aug 21 20:46:59 the-rain-maker dstock_updater_SuperGangsta[199006]: !!!
Aug 21 20:46:59 the-rain-maker dstock_updater_SuperGangsta[199006]: + git status
Aug 21 20:46:59 the-rain-maker dstock_updater_SuperGangsta[199013]: On branch dkarimi/testfunds_glory
Aug 21 20:46:59 the-rain-maker dstock_updater_SuperGangsta[199013]: Your branch is up to date with 'origin/dkarimi/testfunds_glory'.
Aug 21 20:46:59 the-rain-maker dstock_updater_SuperGangsta[199013]: nothing to commit, working tree clean
Aug 21 20:46:59 the-rain-maker dstock_updater_SuperGangsta[199006]: + git pull
Aug 21 20:46:59 the-rain-maker dstock_updater_SuperGangsta[199015]: From github.com:AlwaysTraining/dstock
Aug 21 20:46:59 the-rain-maker dstock_updater_SuperGangsta[199015]:    899fc75..4d10926  dkarimi/triangle_choke -> origin/dkarimi/triangle_choke
Aug 21 20:46:59 the-rain-maker dstock_updater_SuperGangsta[199015]:    9c992c0..ba4a42b  release                -> origin/release
Aug 21 20:46:59 the-rain-maker dstock_updater_SuperGangsta[199021]: Already up to date.
Aug 21 20:46:59 the-rain-maker dstock_updater_SuperGangsta[199006]: + '[' 0 '!=' 0 ']'
Aug 21 20:46:59 the-rain-maker dstock_updater_SuperGangsta[199006]: + /bin/bash -c 'source dstock_venv/bin/activate && pip install -r requirements.txt'
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199022]: Requirement already satisfied: pandas in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 1)) (1.3.2)
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199022]: Requirement already satisfied: pyyaml in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 2)) (5.4.1)
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199022]: Requirement already satisfied: prettytable in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 3)) (2.1.0)
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199022]: Requirement already satisfied: yfinance in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 4)) (0.1.63)
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199022]: Requirement already satisfied: matplotlib in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 5)) (3.4.3)
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199022]: Requirement already satisfied: alpaca-trade-api in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 6)) (1.2.3)
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199022]: Requirement already satisfied: pandas_datareader in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 7)) (0.10.0)
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199022]: Requirement already satisfied: gspread in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 8)) (4.0.1)
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199022]: Requirement already satisfied: google-api-python-client in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 9)) (2.17.0)
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199022]: Requirement already satisfied: oauth2client in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 10)) (4.1.3)
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199022]: Requirement already satisfied: wheel in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 11)) (0.37.0)
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199022]: Requirement already satisfied: pytz>=2017.3 in ./dstock_venv/lib/python3.8/site-packages (from pandas->-r requirements.txt (line 1)) (2021.1)
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199022]: Requirement already satisfied: python-dateutil>=2.7.3 in ./dstock_venv/lib/python3.8/site-packages (from pandas->-r requirements.txt (line 1)) (2.8.2)
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199022]: Requirement already satisfied: numpy>=1.17.3 in ./dstock_venv/lib/python3.8/site-packages (from pandas->-r requirements.txt (line 1)) (1.21.2)
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199022]: Requirement already satisfied: wcwidth in ./dstock_venv/lib/python3.8/site-packages (from prettytable->-r requirements.txt (line 3)) (0.2.5)
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199022]: Requirement already satisfied: lxml>=4.5.1 in ./dstock_venv/lib/python3.8/site-packages (from yfinance->-r requirements.txt (line 4)) (4.6.3)
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199022]: Requirement already satisfied: multitasking>=0.0.7 in ./dstock_venv/lib/python3.8/site-packages (from yfinance->-r requirements.txt (line 4)) (0.0.9)
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199022]: Requirement already satisfied: requests>=2.20 in ./dstock_venv/lib/python3.8/site-packages (from yfinance->-r requirements.txt (line 4)) (2.26.0)
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199022]: Requirement already satisfied: kiwisolver>=1.0.1 in ./dstock_venv/lib/python3.8/site-packages (from matplotlib->-r requirements.txt (line 5)) (1.3.1)
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199022]: Requirement already satisfied: cycler>=0.10 in ./dstock_venv/lib/python3.8/site-packages (from matplotlib->-r requirements.txt (line 5)) (0.10.0)
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199022]: Requirement already satisfied: pillow>=6.2.0 in ./dstock_venv/lib/python3.8/site-packages (from matplotlib->-r requirements.txt (line 5)) (8.3.1)
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199022]: Requirement already satisfied: pyparsing>=2.2.1 in ./dstock_venv/lib/python3.8/site-packages (from matplotlib->-r requirements.txt (line 5)) (2.4.7)
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199022]: Requirement already satisfied: websockets<10,>=8.0 in ./dstock_venv/lib/python3.8/site-packages (from alpaca-trade-api->-r requirements.txt (line 6)) (9.1)
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199022]: Requirement already satisfied: urllib3<2,>1.24 in ./dstock_venv/lib/python3.8/site-packages (from alpaca-trade-api->-r requirements.txt (line 6)) (1.26.6)
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199022]: Requirement already satisfied: websocket-client<2,>=0.56.0 in ./dstock_venv/lib/python3.8/site-packages (from alpaca-trade-api->-r requirements.txt (line 6)) (1.2.1)
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199022]: Requirement already satisfied: msgpack==1.0.2 in ./dstock_venv/lib/python3.8/site-packages (from alpaca-trade-api->-r requirements.txt (line 6)) (1.0.2)
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199022]: Requirement already satisfied: google-auth-oauthlib>=0.4.1 in ./dstock_venv/lib/python3.8/site-packages (from gspread->-r requirements.txt (line 8)) (0.4.5)
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199022]: Requirement already satisfied: google-auth>=1.12.0 in ./dstock_venv/lib/python3.8/site-packages (from gspread->-r requirements.txt (line 8)) (2.0.1)
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199022]: Requirement already satisfied: uritemplate<4dev,>=3.0.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-python-client->-r requirements.txt (line 9)) (3.0.1)
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199022]: Requirement already satisfied: google-api-core<3.0.0dev,>=1.21.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-python-client->-r requirements.txt (line 9)) (2.0.0)
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199022]: Requirement already satisfied: httplib2<1dev,>=0.15.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-python-client->-r requirements.txt (line 9)) (0.19.1)
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199022]: Requirement already satisfied: google-auth-httplib2>=0.1.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-python-client->-r requirements.txt (line 9)) (0.1.0)
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199022]: Requirement already satisfied: pyasn1>=0.1.7 in ./dstock_venv/lib/python3.8/site-packages (from oauth2client->-r requirements.txt (line 10)) (0.4.8)
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199022]: Requirement already satisfied: rsa>=3.1.4 in ./dstock_venv/lib/python3.8/site-packages (from oauth2client->-r requirements.txt (line 10)) (4.7.2)
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199022]: Requirement already satisfied: pyasn1-modules>=0.0.5 in ./dstock_venv/lib/python3.8/site-packages (from oauth2client->-r requirements.txt (line 10)) (0.2.8)
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199022]: Requirement already satisfied: six>=1.6.1 in ./dstock_venv/lib/python3.8/site-packages (from oauth2client->-r requirements.txt (line 10)) (1.16.0)
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199022]: Requirement already satisfied: idna<4,>=2.5; python_version >= "3" in ./dstock_venv/lib/python3.8/site-packages (from requests>=2.20->yfinance->-r requirements.txt (line 4)) (3.2)
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199022]: Requirement already satisfied: certifi>=2017.4.17 in ./dstock_venv/lib/python3.8/site-packages (from requests>=2.20->yfinance->-r requirements.txt (line 4)) (2021.5.30)
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199022]: Requirement already satisfied: charset-normalizer~=2.0.0; python_version >= "3" in ./dstock_venv/lib/python3.8/site-packages (from requests>=2.20->yfinance->-r requirements.txt (line 4)) (2.0.4)
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199022]: Requirement already satisfied: requests-oauthlib>=0.7.0 in ./dstock_venv/lib/python3.8/site-packages (from google-auth-oauthlib>=0.4.1->gspread->-r requirements.txt (line 8)) (1.3.0)
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199022]: Requirement already satisfied: cachetools<5.0,>=2.0.0 in ./dstock_venv/lib/python3.8/site-packages (from google-auth>=1.12.0->gspread->-r requirements.txt (line 8)) (4.2.2)
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199022]: Requirement already satisfied: setuptools>=40.3.0 in ./dstock_venv/lib/python3.8/site-packages (from google-auth>=1.12.0->gspread->-r requirements.txt (line 8)) (44.0.0)
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199022]: Requirement already satisfied: googleapis-common-protos<2.0dev,>=1.6.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-core<3.0.0dev,>=1.21.0->google-api-python-client->-r requirements.txt (line 9)) (1.53.0)
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199022]: Requirement already satisfied: protobuf>=3.12.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-core<3.0.0dev,>=1.21.0->google-api-python-client->-r requirements.txt (line 9)) (3.17.3)
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199022]: Requirement already satisfied: oauthlib>=3.0.0 in ./dstock_venv/lib/python3.8/site-packages (from requests-oauthlib>=0.7.0->google-auth-oauthlib>=0.4.1->gspread->-r requirements.txt (line 8)) (3.1.1)
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199006]: + ./generate_daily_report.sh --user dkarimi --clean --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperGangsta --which-api-source tiingo --super-set-name SuperGangsta --sqlite-file /home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite --service-name dstock_updater_SuperGangsta --portfolio TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199027]: generating report:
Aug 21 20:47:01 the-rain-maker dstock_updater_SuperGangsta[199027]: + ./daily_report --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperGangsta --portfolio TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550 --start-date 2021-08-06 --end-date 2021-08-20 --output-dir runs/daily_report_output_2021-08-20 --which-source yahoo --sqlite-file /home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite --jitter 100 --num-randos 100
Aug 21 20:47:03 the-rain-maker dstock_updater_SuperGangsta[199043]: INFO:root:Dowloading History and Prices of TESTFUNDS0830 for 14 days
Aug 21 20:47:15 the-rain-maker dstock_updater_SuperGangsta[199043]: WARNING:root:You are graphing data before the alpaca account started
Aug 21 20:47:15 the-rain-maker dstock_updater_SuperGangsta[199043]: WARNING:root:showing 15 days 10:55:01.984880 before this account creation on 2021-08-21 10:55:01.984880-04:00
Aug 21 20:47:15 the-rain-maker dstock_updater_SuperGangsta[199043]: WARNING:root:To correct use --start-date 2021-08-21
Aug 21 20:47:15 the-rain-maker dstock_updater_SuperGangsta[199043]: WARNING:root:But you should look in alpaca at what day your first trade was on
Aug 21 20:47:15 the-rain-maker dstock_updater_SuperGangsta[199043]: WARNING:root:Then set the start date to be one day before that day
Aug 21 20:47:15 the-rain-maker dstock_updater_SuperGangsta[199043]: INFO:root:Asking for time in the past more recent than last history value, taking account's current value $100000.000000 on 2021-08-20 00:00:00
Aug 21 20:47:15 the-rain-maker dstock_updater_SuperGangsta[199043]: INFO:root:Getting initial_investment from Alpaca: $100000.00
Aug 21 20:47:15 the-rain-maker dstock_updater_SuperGangsta[199043]: /home/dkarimi/work/supersets/SuperGangsta/dstock/fomo_graph.py:870: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead.  To get a de-fragmented frame, use `newframe = frame.copy()`
Aug 21 20:47:15 the-rain-maker dstock_updater_SuperGangsta[199043]:   fomoframe[line_name] = float('nan')
Aug 21 20:47:15 the-rain-maker dstock_updater_SuperGangsta[199043]: Traceback (most recent call last):
Aug 21 20:47:15 the-rain-maker dstock_updater_SuperGangsta[199043]:   File "./daily_report.py", line 198, in <module>
Aug 21 20:47:15 the-rain-maker dstock_updater_SuperGangsta[199043]:     main(**vars(args))
Aug 21 20:47:15 the-rain-maker dstock_updater_SuperGangsta[199043]:   File "./daily_report.py", line 139, in main
Aug 21 20:47:15 the-rain-maker dstock_updater_SuperGangsta[199043]:     fomo_results = fomo_graph.main(
Aug 21 20:47:15 the-rain-maker dstock_updater_SuperGangsta[199043]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/fomo_graph.py", line 889, in main
Aug 21 20:47:15 the-rain-maker dstock_updater_SuperGangsta[199043]:     _simulate_account(
Aug 21 20:47:15 the-rain-maker dstock_updater_SuperGangsta[199043]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/fomo_graph.py", line 363, in _simulate_account
Aug 21 20:47:15 the-rain-maker dstock_updater_SuperGangsta[199043]:     _simulate_palloc_web_account(
Aug 21 20:47:15 the-rain-maker dstock_updater_SuperGangsta[199043]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/fomo_graph.py", line 245, in _simulate_palloc_web_account
Aug 21 20:47:15 the-rain-maker dstock_updater_SuperGangsta[199043]:     trader_results = palloc_trader.main(
Aug 21 20:47:15 the-rain-maker dstock_updater_SuperGangsta[199043]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/palloc_trader.py", line 395, in main
Aug 21 20:47:15 the-rain-maker dstock_updater_SuperGangsta[199043]:     trader = Trader(
Aug 21 20:47:15 the-rain-maker dstock_updater_SuperGangsta[199043]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/palloc_trader.py", line 152, in __init__
Aug 21 20:47:15 the-rain-maker dstock_updater_SuperGangsta[199043]:     self.portfolio_response = self.get_portfolio_response()
Aug 21 20:47:15 the-rain-maker dstock_updater_SuperGangsta[199043]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/palloc_trader.py", line 171, in get_portfolio_response
Aug 21 20:47:15 the-rain-maker dstock_updater_SuperGangsta[199043]:     pr = dstock_palloc_db.get_portfolio_by_name(
Aug 21 20:47:15 the-rain-maker dstock_updater_SuperGangsta[199043]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/dstock_palloc_db.py", line 262, in get_portfolio_by_name
Aug 21 20:47:15 the-rain-maker dstock_updater_SuperGangsta[199043]:     _get_last_recommendation_info(
Aug 21 20:47:15 the-rain-maker dstock_updater_SuperGangsta[199043]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/dstock_palloc_db.py", line 67, in _get_last_recommendation_info
Aug 21 20:47:15 the-rain-maker dstock_updater_SuperGangsta[199043]:     raise NoRecommendationFound(
Aug 21 20:47:15 the-rain-maker dstock_updater_SuperGangsta[199043]: dstock_palloc_db.NoRecommendationFound: Could not find any recommendations runs for TESTFUNDS0830 made before 2021-08-06 08:50:00
Aug 21 20:47:15 the-rain-maker dstock_updater_SuperGangsta[199027]: + set +x
Aug 21 20:47:15 the-rain-maker dstock_updater_SuperGangsta[199027]: updating website dstock/reports/SuperGangsta/2021-08-21/daily ...
Aug 21 20:47:15 the-rain-maker dstock_updater_SuperGangsta[199027]: + ./report_curator --input-report-dir runs/daily_report_output_2021-08-20 --target-report-dir dstock/reports/SuperGangsta/2021-08-21/daily
Aug 21 20:47:17 the-rain-maker dstock_updater_SuperGangsta[199114]: INFO:root:cd report_website && git pull
Aug 21 20:47:18 the-rain-maker dstock_updater_SuperGangsta[199132]: Already up to date.
Aug 21 20:47:18 the-rain-maker dstock_updater_SuperGangsta[199114]: INFO:root:mkdir -p report_website/dstock/reports/SuperGangsta/2021-08-21/daily && cp -vr runs/daily_report_output_2021-08-20/* report_website/dstock/reports/SuperGangsta/2021-08-21/daily/
Aug 21 20:47:18 the-rain-maker dstock_updater_SuperGangsta[199135]: cp: cannot stat 'runs/daily_report_output_2021-08-20/*': No such file or directory
Aug 21 20:47:18 the-rain-maker dstock_updater_SuperGangsta[199114]: Traceback (most recent call last):
Aug 21 20:47:18 the-rain-maker dstock_updater_SuperGangsta[199114]:   File "./report_curator.py", line 113, in <module>
Aug 21 20:47:18 the-rain-maker dstock_updater_SuperGangsta[199114]:     main(**vars(args))
Aug 21 20:47:18 the-rain-maker dstock_updater_SuperGangsta[199114]:   File "./report_curator.py", line 60, in main
Aug 21 20:47:18 the-rain-maker dstock_updater_SuperGangsta[199114]:     _cmd("mkdir -p {website_repo_dir}/{target_report_dir} && cp -vr {input_report_dir}/* {website_repo_dir}/{target_report_dir}/".format(
Aug 21 20:47:18 the-rain-maker dstock_updater_SuperGangsta[199114]:   File "./report_curator.py", line 30, in _cmd
Aug 21 20:47:18 the-rain-maker dstock_updater_SuperGangsta[199114]:     subprocess.check_call(cmd, shell=True)
Aug 21 20:47:18 the-rain-maker dstock_updater_SuperGangsta[199114]:   File "/usr/lib/python3.8/subprocess.py", line 364, in check_call
Aug 21 20:47:18 the-rain-maker dstock_updater_SuperGangsta[199114]:     raise CalledProcessError(retcode, cmd)
Aug 21 20:47:18 the-rain-maker dstock_updater_SuperGangsta[199114]: subprocess.CalledProcessError: Command 'mkdir -p report_website/dstock/reports/SuperGangsta/2021-08-21/daily && cp -vr runs/daily_report_output_2021-08-20/* report_website/dstock/reports/SuperGangsta/2021-08-21/daily/' returned non-zero exit status 1.
Aug 21 20:47:18 the-rain-maker dstock_updater_SuperGangsta[199027]: + set +x
Aug 21 20:47:18 the-rain-maker dstock_updater_SuperGangsta[199027]: Sending email about website dstock/reports/SuperGangsta/2021-08-21/daily ...
Aug 21 20:47:18 the-rain-maker dstock_updater_SuperGangsta[199137]: ++ date -I
Aug 21 20:47:18 the-rain-maker dstock_updater_SuperGangsta[199027]: + ./send_mail --to derrick.karimi@gmail.com --_from derrick.karimi@gmail.com --subject '[dstock] SuperGangsta Daily Report for 2021-08-21' --text https://alwaystraining.github.io/dstock/reports/SuperGangsta/2021-08-21/daily/ --server smtp.gmail.com --port 587 --server_user dr.randy.myers --server_user_pass dr.randy.myers.password
Aug 21 20:47:20 the-rain-maker dstock_updater_SuperGangsta[199027]: + set +x
Aug 21 20:47:20 the-rain-maker sudo[199005]: pam_unix(sudo:session): session closed for user dkarimi
Aug 21 20:47:20 the-rain-maker dstock_updater_SuperGangsta[198912]: + set +x
Aug 21 20:47:20 the-rain-maker dstock_updater_SuperGangsta[198912]: restarting tuners: tuner_SuperGangsta_TESTFUNDS0830.service tuner_SuperGangsta_TESTFUNDS1330.service tuner_SuperGangsta_TESTFUNDS1550.service
Aug 21 20:47:21 the-rain-maker dstock_updater_SuperGangsta[199169]: Failed to start tuner_SuperGangsta_TESTFUNDS0830.service: Unit tuner_SuperGangsta_TESTFUNDS0830.service not found.
Aug 21 20:47:21 the-rain-maker dstock_updater_SuperGangsta[199169]: Failed to start tuner_SuperGangsta_TESTFUNDS1330.service: Unit tuner_SuperGangsta_TESTFUNDS1330.service not found.
Aug 21 20:47:21 the-rain-maker dstock_updater_SuperGangsta[199169]: Failed to start tuner_SuperGangsta_TESTFUNDS1550.service: Unit tuner_SuperGangsta_TESTFUNDS1550.service not found.
Aug 21 20:47:21 the-rain-maker systemd[1]: dstock_updater_SuperGangsta.service: Main process exited, code=exited, status=5/NOTINSTALLED
Aug 21 20:47:21 the-rain-maker sudo[199170]:     root : TTY=unknown ; PWD=/home/dkarimi/work/supersets/SuperGangsta/dstock ; USER=dkarimi ; ENV=SERVICE_RESULT=exit-code EXIT_CODE=exited EXIT_STATUS=5 ; COMMAND=/home/dkarimi/work/supersets/SuperGangsta/dstock/generate_post_service_report.sh --super-set-name SuperGangsta --portfolio TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550 --service-name dstock_updater_SuperGangsta --send-success-emails
Aug 21 20:47:21 the-rain-maker sudo[199170]: pam_unix(sudo:session): session opened for user dkarimi by (uid=0)
Aug 21 20:47:21 the-rain-maker dstock_updater_SuperGangsta[199171]: generating post service report for : dstock_updater_SuperGangsta
Aug 21 20:47:21 the-rain-maker dstock_updater_SuperGangsta[199171]: Generating email content ...
Aug 21 20:47:21 the-rain-maker dstock_updater_SuperGangsta[199171]: Sending email about website dstock/reports/SuperGangsta/2021-08-21/post_service/204721_dstock_updater_SuperGangsta ...
Aug 21 20:47:22 the-rain-maker sudo[199170]: pam_unix(sudo:session): session closed for user dkarimi
Aug 21 20:47:22 the-rain-maker systemd[1]: dstock_updater_SuperGangsta.service: Failed with result 'exit-code'.
Aug 21 20:47:22 the-rain-maker systemd[1]: Failed to start dstock SuperGangsta updater service.
Aug 22 01:01:08 the-rain-maker systemd[1]: Starting dstock SuperGangsta updater service...
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: + origargs='--user dkarimi --clean --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperGangsta --which-api-source tiingo --super-set-name SuperGangsta --sqlite-file /home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite --service-name dstock_updater_SuperGangsta --portfolio TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550'
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: + . big_bash_arg_parser
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ arg_print_help=0
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ arg_clean_working_files=0
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ arg_which_source=yahoo
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ arg_clean_venvs=0
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ arg_send_success_emails=0
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ arg_no_report_emails=0
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ arg_no_report_repo=0
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ '[' 15 -gt 0 ']'
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ case $1 in
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ export arg_non_root_user=dkarimi
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ arg_non_root_user=dkarimi
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ shift
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ shift
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ '[' 13 -gt 0 ']'
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ case $1 in
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ export arg_clean_working_files=1
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ arg_clean_working_files=1
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ shift
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ '[' 12 -gt 0 ']'
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ case $1 in
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ export arg_alpaca_vars_file=/home/dkarimi/work/vault/varfiles/SuperGangsta
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ arg_alpaca_vars_file=/home/dkarimi/work/vault/varfiles/SuperGangsta
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ shift
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ shift
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ '[' 10 -gt 0 ']'
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ case $1 in
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ shift
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ '[' 9 -gt 0 ']'
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ case $1 in
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ shift
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ '[' 8 -gt 0 ']'
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ case $1 in
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ export arg_super_set_name=SuperGangsta
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ arg_super_set_name=SuperGangsta
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ shift
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ shift
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ '[' 6 -gt 0 ']'
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ case $1 in
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ export arg_sqlite_file=/home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ arg_sqlite_file=/home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ shift
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ shift
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ '[' 4 -gt 0 ']'
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ case $1 in
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ export arg_service_name=dstock_updater_SuperGangsta
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ arg_service_name=dstock_updater_SuperGangsta
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ shift
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ shift
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ '[' 2 -gt 0 ']'
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ case $1 in
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ export arg_portfolio=TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ arg_portfolio=TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ shift
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ shift
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ '[' 0 -gt 0 ']'
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: ++ '[' 0 '!=' 0 ']'
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: + '[' -z dkarimi ']'
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: + echo 'Stopping all tuners...'
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: Stopping all tuners...
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: + set -x
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281630]: ++ grep -v '\.timer'
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281629]: ++ ./captain.py list --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperGangsta --fund-set TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550 --with-tuner --super-set-name SuperGangsta
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281631]: ++ xargs
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: + tuner_services='tuner_SuperGangsta_TESTFUNDS0830.service tuner_SuperGangsta_TESTFUNDS1330.service tuner_SuperGangsta_TESTFUNDS1550.service'
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: + systemctl stop tuner_SuperGangsta_TESTFUNDS0830.service tuner_SuperGangsta_TESTFUNDS1330.service tuner_SuperGangsta_TESTFUNDS1550.service
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281633]: Failed to stop tuner_SuperGangsta_TESTFUNDS0830.service: Unit tuner_SuperGangsta_TESTFUNDS0830.service not loaded.
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281633]: Failed to stop tuner_SuperGangsta_TESTFUNDS1330.service: Unit tuner_SuperGangsta_TESTFUNDS1330.service not loaded.
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281633]: Failed to stop tuner_SuperGangsta_TESTFUNDS1550.service: Unit tuner_SuperGangsta_TESTFUNDS1550.service not loaded.
Aug 22 01:01:08 the-rain-maker dstock_updater_SuperGangsta[281627]: + set +x
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281627]: updating application
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281627]: + sudo -u dkarimi ./dstock_updater_helper.sh --user dkarimi --clean --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperGangsta --which-api-source tiingo --super-set-name SuperGangsta --sqlite-file /home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite --service-name dstock_updater_SuperGangsta --portfolio TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550
Aug 22 01:01:23 the-rain-maker sudo[281742]:     root : TTY=unknown ; PWD=/home/dkarimi/work/supersets/SuperGangsta/dstock ; USER=dkarimi ; COMMAND=./dstock_updater_helper.sh --user dkarimi --clean --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperGangsta --which-api-source tiingo --super-set-name SuperGangsta --sqlite-file /home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite --service-name dstock_updater_SuperGangsta --portfolio TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550
Aug 22 01:01:23 the-rain-maker sudo[281742]: pam_unix(sudo:session): session opened for user dkarimi by (uid=0)
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: + origargs='--user dkarimi --clean --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperGangsta --which-api-source tiingo --super-set-name SuperGangsta --sqlite-file /home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite --service-name dstock_updater_SuperGangsta --portfolio TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550'
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: + . big_bash_arg_parser
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ arg_print_help=0
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ arg_clean_working_files=0
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ arg_which_source=yahoo
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ arg_clean_venvs=0
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ arg_send_success_emails=0
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ arg_no_report_emails=0
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ arg_no_report_repo=0
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ '[' 15 -gt 0 ']'
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ case $1 in
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ export arg_non_root_user=dkarimi
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ arg_non_root_user=dkarimi
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ shift
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ shift
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ '[' 13 -gt 0 ']'
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ case $1 in
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ export arg_clean_working_files=1
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ arg_clean_working_files=1
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ shift
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ '[' 12 -gt 0 ']'
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ case $1 in
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ export arg_alpaca_vars_file=/home/dkarimi/work/vault/varfiles/SuperGangsta
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ arg_alpaca_vars_file=/home/dkarimi/work/vault/varfiles/SuperGangsta
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ shift
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ shift
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ '[' 10 -gt 0 ']'
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ case $1 in
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ shift
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ '[' 9 -gt 0 ']'
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ case $1 in
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ shift
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ '[' 8 -gt 0 ']'
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ case $1 in
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ export arg_super_set_name=SuperGangsta
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ arg_super_set_name=SuperGangsta
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ shift
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ shift
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ '[' 6 -gt 0 ']'
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ case $1 in
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ export arg_sqlite_file=/home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ arg_sqlite_file=/home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ shift
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ shift
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ '[' 4 -gt 0 ']'
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ case $1 in
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ export arg_service_name=dstock_updater_SuperGangsta
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ arg_service_name=dstock_updater_SuperGangsta
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ shift
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ shift
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ '[' 2 -gt 0 ']'
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ case $1 in
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ export arg_portfolio=TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ arg_portfolio=TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ shift
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ shift
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ '[' 0 -gt 0 ']'
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: ++ '[' 0 '!=' 0 ']'
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: + '[' 1 '!=' 0 ']'
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: + dirs_to_clean='runs opentuner.db download_cache'
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: + for dir in $dirs_to_clean
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: + echo 'Clearing Dir: runs'
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: Clearing Dir: runs
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: + rm -rf runs
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: + mkdir -p runs
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: + for dir in $dirs_to_clean
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: + echo 'Clearing Dir: opentuner.db'
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: Clearing Dir: opentuner.db
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: + rm -rf opentuner.db
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: + mkdir -p opentuner.db
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: + for dir in $dirs_to_clean
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: + echo 'Clearing Dir: download_cache'
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: Clearing Dir: download_cache
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: + rm -rf download_cache
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: + mkdir -p download_cache
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: + echo '!!!'
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: !!!
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: + echo '!!! It is now time to update dstock'
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: !!! It is now time to update dstock
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: + echo '!!!'
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: !!!
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: + git status
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281750]: On branch release
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281750]: Your branch is up to date with 'origin/release'.
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281750]: nothing to commit, working tree clean
Aug 22 01:01:23 the-rain-maker dstock_updater_SuperGangsta[281743]: + git pull
Aug 22 01:01:24 the-rain-maker dstock_updater_SuperGangsta[281752]: From github.com:AlwaysTraining/dstock
Aug 22 01:01:24 the-rain-maker dstock_updater_SuperGangsta[281752]:    2e4d0d0..439c50f  dkarimi/multi_day_rec -> origin/dkarimi/multi_day_rec
Aug 22 01:01:24 the-rain-maker dstock_updater_SuperGangsta[281758]: Already up to date.
Aug 22 01:01:24 the-rain-maker dstock_updater_SuperGangsta[281743]: + '[' 0 '!=' 0 ']'
Aug 22 01:01:24 the-rain-maker dstock_updater_SuperGangsta[281743]: + /bin/bash -c 'source dstock_venv/bin/activate && pip install -r requirements.txt'
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281759]: Requirement already satisfied: pandas in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 1)) (1.3.2)
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281759]: Requirement already satisfied: pyyaml in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 2)) (5.4.1)
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281759]: Requirement already satisfied: prettytable in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 3)) (2.1.0)
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281759]: Requirement already satisfied: yfinance in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 4)) (0.1.63)
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281759]: Requirement already satisfied: matplotlib in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 5)) (3.4.3)
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281759]: Requirement already satisfied: alpaca-trade-api in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 6)) (1.2.3)
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281759]: Requirement already satisfied: pandas_datareader in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 7)) (0.10.0)
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281759]: Requirement already satisfied: gspread in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 8)) (4.0.1)
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281759]: Requirement already satisfied: google-api-python-client in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 9)) (2.17.0)
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281759]: Requirement already satisfied: oauth2client in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 10)) (4.1.3)
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281759]: Requirement already satisfied: wheel in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 11)) (0.37.0)
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281759]: Requirement already satisfied: python-dateutil>=2.7.3 in ./dstock_venv/lib/python3.8/site-packages (from pandas->-r requirements.txt (line 1)) (2.8.2)
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281759]: Requirement already satisfied: pytz>=2017.3 in ./dstock_venv/lib/python3.8/site-packages (from pandas->-r requirements.txt (line 1)) (2021.1)
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281759]: Requirement already satisfied: numpy>=1.17.3 in ./dstock_venv/lib/python3.8/site-packages (from pandas->-r requirements.txt (line 1)) (1.21.2)
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281759]: Requirement already satisfied: wcwidth in ./dstock_venv/lib/python3.8/site-packages (from prettytable->-r requirements.txt (line 3)) (0.2.5)
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281759]: Requirement already satisfied: lxml>=4.5.1 in ./dstock_venv/lib/python3.8/site-packages (from yfinance->-r requirements.txt (line 4)) (4.6.3)
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281759]: Requirement already satisfied: multitasking>=0.0.7 in ./dstock_venv/lib/python3.8/site-packages (from yfinance->-r requirements.txt (line 4)) (0.0.9)
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281759]: Requirement already satisfied: requests>=2.20 in ./dstock_venv/lib/python3.8/site-packages (from yfinance->-r requirements.txt (line 4)) (2.26.0)
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281759]: Requirement already satisfied: pyparsing>=2.2.1 in ./dstock_venv/lib/python3.8/site-packages (from matplotlib->-r requirements.txt (line 5)) (2.4.7)
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281759]: Requirement already satisfied: kiwisolver>=1.0.1 in ./dstock_venv/lib/python3.8/site-packages (from matplotlib->-r requirements.txt (line 5)) (1.3.1)
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281759]: Requirement already satisfied: pillow>=6.2.0 in ./dstock_venv/lib/python3.8/site-packages (from matplotlib->-r requirements.txt (line 5)) (8.3.1)
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281759]: Requirement already satisfied: cycler>=0.10 in ./dstock_venv/lib/python3.8/site-packages (from matplotlib->-r requirements.txt (line 5)) (0.10.0)
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281759]: Requirement already satisfied: websockets<10,>=8.0 in ./dstock_venv/lib/python3.8/site-packages (from alpaca-trade-api->-r requirements.txt (line 6)) (9.1)
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281759]: Requirement already satisfied: websocket-client<2,>=0.56.0 in ./dstock_venv/lib/python3.8/site-packages (from alpaca-trade-api->-r requirements.txt (line 6)) (1.2.1)
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281759]: Requirement already satisfied: urllib3<2,>1.24 in ./dstock_venv/lib/python3.8/site-packages (from alpaca-trade-api->-r requirements.txt (line 6)) (1.26.6)
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281759]: Requirement already satisfied: msgpack==1.0.2 in ./dstock_venv/lib/python3.8/site-packages (from alpaca-trade-api->-r requirements.txt (line 6)) (1.0.2)
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281759]: Requirement already satisfied: google-auth-oauthlib>=0.4.1 in ./dstock_venv/lib/python3.8/site-packages (from gspread->-r requirements.txt (line 8)) (0.4.5)
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281759]: Requirement already satisfied: google-auth>=1.12.0 in ./dstock_venv/lib/python3.8/site-packages (from gspread->-r requirements.txt (line 8)) (2.0.1)
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281759]: Requirement already satisfied: uritemplate<4dev,>=3.0.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-python-client->-r requirements.txt (line 9)) (3.0.1)
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281759]: Requirement already satisfied: google-auth-httplib2>=0.1.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-python-client->-r requirements.txt (line 9)) (0.1.0)
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281759]: Requirement already satisfied: httplib2<1dev,>=0.15.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-python-client->-r requirements.txt (line 9)) (0.19.1)
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281759]: Requirement already satisfied: google-api-core<3.0.0dev,>=1.21.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-python-client->-r requirements.txt (line 9)) (2.0.0)
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281759]: Requirement already satisfied: pyasn1>=0.1.7 in ./dstock_venv/lib/python3.8/site-packages (from oauth2client->-r requirements.txt (line 10)) (0.4.8)
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281759]: Requirement already satisfied: six>=1.6.1 in ./dstock_venv/lib/python3.8/site-packages (from oauth2client->-r requirements.txt (line 10)) (1.16.0)
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281759]: Requirement already satisfied: rsa>=3.1.4 in ./dstock_venv/lib/python3.8/site-packages (from oauth2client->-r requirements.txt (line 10)) (4.7.2)
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281759]: Requirement already satisfied: pyasn1-modules>=0.0.5 in ./dstock_venv/lib/python3.8/site-packages (from oauth2client->-r requirements.txt (line 10)) (0.2.8)
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281759]: Requirement already satisfied: certifi>=2017.4.17 in ./dstock_venv/lib/python3.8/site-packages (from requests>=2.20->yfinance->-r requirements.txt (line 4)) (2021.5.30)
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281759]: Requirement already satisfied: charset-normalizer~=2.0.0; python_version >= "3" in ./dstock_venv/lib/python3.8/site-packages (from requests>=2.20->yfinance->-r requirements.txt (line 4)) (2.0.4)
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281759]: Requirement already satisfied: idna<4,>=2.5; python_version >= "3" in ./dstock_venv/lib/python3.8/site-packages (from requests>=2.20->yfinance->-r requirements.txt (line 4)) (3.2)
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281759]: Requirement already satisfied: requests-oauthlib>=0.7.0 in ./dstock_venv/lib/python3.8/site-packages (from google-auth-oauthlib>=0.4.1->gspread->-r requirements.txt (line 8)) (1.3.0)
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281759]: Requirement already satisfied: setuptools>=40.3.0 in ./dstock_venv/lib/python3.8/site-packages (from google-auth>=1.12.0->gspread->-r requirements.txt (line 8)) (44.0.0)
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281759]: Requirement already satisfied: cachetools<5.0,>=2.0.0 in ./dstock_venv/lib/python3.8/site-packages (from google-auth>=1.12.0->gspread->-r requirements.txt (line 8)) (4.2.2)
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281759]: Requirement already satisfied: googleapis-common-protos<2.0dev,>=1.6.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-core<3.0.0dev,>=1.21.0->google-api-python-client->-r requirements.txt (line 9)) (1.53.0)
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281759]: Requirement already satisfied: protobuf>=3.12.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-core<3.0.0dev,>=1.21.0->google-api-python-client->-r requirements.txt (line 9)) (3.17.3)
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281759]: Requirement already satisfied: oauthlib>=3.0.0 in ./dstock_venv/lib/python3.8/site-packages (from requests-oauthlib>=0.7.0->google-auth-oauthlib>=0.4.1->gspread->-r requirements.txt (line 8)) (3.1.1)
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281743]: + ./generate_daily_report.sh --user dkarimi --clean --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperGangsta --which-api-source tiingo --super-set-name SuperGangsta --sqlite-file /home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite --service-name dstock_updater_SuperGangsta --portfolio TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281771]: generating report:
Aug 22 01:01:26 the-rain-maker dstock_updater_SuperGangsta[281771]: + ./daily_report --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperGangsta --portfolio TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550 --start-date 2021-08-07 --end-date 2021-08-21 --output-dir runs/daily_report_output_2021-08-21 --which-source yahoo --sqlite-file /home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite --jitter 100 --num-randos 100
Aug 22 01:01:28 the-rain-maker dstock_updater_SuperGangsta[281787]: INFO:root:Dowloading History and Prices of TESTFUNDS0830 for 14 days
Aug 22 01:01:40 the-rain-maker dstock_updater_SuperGangsta[281787]: WARNING:root:You are graphing data before the alpaca account started
Aug 22 01:01:40 the-rain-maker dstock_updater_SuperGangsta[281787]: WARNING:root:showing 14 days 10:55:01.984880 before this account creation on 2021-08-21 10:55:01.984880-04:00
Aug 22 01:01:40 the-rain-maker dstock_updater_SuperGangsta[281787]: WARNING:root:To correct use --start-date 2021-08-21
Aug 22 01:01:40 the-rain-maker dstock_updater_SuperGangsta[281787]: WARNING:root:But you should look in alpaca at what day your first trade was on
Aug 22 01:01:40 the-rain-maker dstock_updater_SuperGangsta[281787]: WARNING:root:Then set the start date to be one day before that day
Aug 22 01:01:40 the-rain-maker dstock_updater_SuperGangsta[281787]: INFO:root:Asking for time in the past more recent than last history value, taking account's current value $100000.000000 on 2021-08-21 00:00:00
Aug 22 01:01:40 the-rain-maker dstock_updater_SuperGangsta[281787]: INFO:root:Getting initial_investment from Alpaca: $100000.00
Aug 22 01:01:40 the-rain-maker dstock_updater_SuperGangsta[281787]: /home/dkarimi/work/supersets/SuperGangsta/dstock/fomo_graph.py:870: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead.  To get a de-fragmented frame, use `newframe = frame.copy()`
Aug 22 01:01:40 the-rain-maker dstock_updater_SuperGangsta[281787]:   fomoframe[line_name] = float('nan')
Aug 22 01:01:40 the-rain-maker dstock_updater_SuperGangsta[281787]: Traceback (most recent call last):
Aug 22 01:01:40 the-rain-maker dstock_updater_SuperGangsta[281787]:   File "./daily_report.py", line 198, in <module>
Aug 22 01:01:40 the-rain-maker dstock_updater_SuperGangsta[281787]:     main(**vars(args))
Aug 22 01:01:40 the-rain-maker dstock_updater_SuperGangsta[281787]:   File "./daily_report.py", line 139, in main
Aug 22 01:01:40 the-rain-maker dstock_updater_SuperGangsta[281787]:     fomo_results = fomo_graph.main(
Aug 22 01:01:40 the-rain-maker dstock_updater_SuperGangsta[281787]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/fomo_graph.py", line 889, in main
Aug 22 01:01:40 the-rain-maker dstock_updater_SuperGangsta[281787]:     _simulate_account(
Aug 22 01:01:40 the-rain-maker dstock_updater_SuperGangsta[281787]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/fomo_graph.py", line 363, in _simulate_account
Aug 22 01:01:40 the-rain-maker dstock_updater_SuperGangsta[281787]:     _simulate_palloc_web_account(
Aug 22 01:01:40 the-rain-maker dstock_updater_SuperGangsta[281787]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/fomo_graph.py", line 245, in _simulate_palloc_web_account
Aug 22 01:01:40 the-rain-maker dstock_updater_SuperGangsta[281787]:     trader_results = palloc_trader.main(
Aug 22 01:01:40 the-rain-maker dstock_updater_SuperGangsta[281787]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/palloc_trader.py", line 395, in main
Aug 22 01:01:40 the-rain-maker dstock_updater_SuperGangsta[281787]:     trader = Trader(
Aug 22 01:01:40 the-rain-maker dstock_updater_SuperGangsta[281787]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/palloc_trader.py", line 152, in __init__
Aug 22 01:01:40 the-rain-maker dstock_updater_SuperGangsta[281787]:     self.portfolio_response = self.get_portfolio_response()
Aug 22 01:01:40 the-rain-maker dstock_updater_SuperGangsta[281787]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/palloc_trader.py", line 171, in get_portfolio_response
Aug 22 01:01:40 the-rain-maker dstock_updater_SuperGangsta[281787]:     pr = dstock_palloc_db.get_portfolio_by_name(
Aug 22 01:01:40 the-rain-maker dstock_updater_SuperGangsta[281787]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/dstock_palloc_db.py", line 262, in get_portfolio_by_name
Aug 22 01:01:40 the-rain-maker dstock_updater_SuperGangsta[281787]:     _get_last_recommendation_info(
Aug 22 01:01:40 the-rain-maker dstock_updater_SuperGangsta[281787]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/dstock_palloc_db.py", line 67, in _get_last_recommendation_info
Aug 22 01:01:40 the-rain-maker dstock_updater_SuperGangsta[281787]:     raise NoRecommendationFound(
Aug 22 01:01:40 the-rain-maker dstock_updater_SuperGangsta[281787]: dstock_palloc_db.NoRecommendationFound: Could not find any recommendations runs for TESTFUNDS0830 made before 2021-08-09 08:50:00
Aug 22 01:01:40 the-rain-maker dstock_updater_SuperGangsta[281771]: + set +x
Aug 22 01:01:40 the-rain-maker dstock_updater_SuperGangsta[281771]: updating website dstock/reports/SuperGangsta/2021-08-22/daily ...
Aug 22 01:01:40 the-rain-maker dstock_updater_SuperGangsta[281771]: + ./report_curator --input-report-dir runs/daily_report_output_2021-08-21 --target-report-dir dstock/reports/SuperGangsta/2021-08-22/daily
Aug 22 01:01:42 the-rain-maker dstock_updater_SuperGangsta[281879]: INFO:root:cd report_website && git pull
Aug 22 01:01:43 the-rain-maker dstock_updater_SuperGangsta[281906]: Already up to date.
Aug 22 01:01:43 the-rain-maker dstock_updater_SuperGangsta[281879]: INFO:root:mkdir -p report_website/dstock/reports/SuperGangsta/2021-08-22/daily && cp -vr runs/daily_report_output_2021-08-21/* report_website/dstock/reports/SuperGangsta/2021-08-22/daily/
Aug 22 01:01:43 the-rain-maker dstock_updater_SuperGangsta[281909]: cp: cannot stat 'runs/daily_report_output_2021-08-21/*': No such file or directory
Aug 22 01:01:43 the-rain-maker dstock_updater_SuperGangsta[281879]: Traceback (most recent call last):
Aug 22 01:01:43 the-rain-maker dstock_updater_SuperGangsta[281879]:   File "./report_curator.py", line 113, in <module>
Aug 22 01:01:43 the-rain-maker dstock_updater_SuperGangsta[281879]:     main(**vars(args))
Aug 22 01:01:43 the-rain-maker dstock_updater_SuperGangsta[281879]:   File "./report_curator.py", line 60, in main
Aug 22 01:01:43 the-rain-maker dstock_updater_SuperGangsta[281879]:     _cmd("mkdir -p {website_repo_dir}/{target_report_dir} && cp -vr {input_report_dir}/* {website_repo_dir}/{target_report_dir}/".format(
Aug 22 01:01:43 the-rain-maker dstock_updater_SuperGangsta[281879]:   File "./report_curator.py", line 30, in _cmd
Aug 22 01:01:43 the-rain-maker dstock_updater_SuperGangsta[281879]:     subprocess.check_call(cmd, shell=True)
Aug 22 01:01:43 the-rain-maker dstock_updater_SuperGangsta[281879]:   File "/usr/lib/python3.8/subprocess.py", line 364, in check_call
Aug 22 01:01:43 the-rain-maker dstock_updater_SuperGangsta[281879]:     raise CalledProcessError(retcode, cmd)
Aug 22 01:01:43 the-rain-maker dstock_updater_SuperGangsta[281879]: subprocess.CalledProcessError: Command 'mkdir -p report_website/dstock/reports/SuperGangsta/2021-08-22/daily && cp -vr runs/daily_report_output_2021-08-21/* report_website/dstock/reports/SuperGangsta/2021-08-22/daily/' returned non-zero exit status 1.
Aug 22 01:01:43 the-rain-maker dstock_updater_SuperGangsta[281771]: + set +x
Aug 22 01:01:43 the-rain-maker dstock_updater_SuperGangsta[281771]: Sending email about website dstock/reports/SuperGangsta/2021-08-22/daily ...
Aug 22 01:01:43 the-rain-maker dstock_updater_SuperGangsta[281910]: ++ date -I
Aug 22 01:01:43 the-rain-maker dstock_updater_SuperGangsta[281771]: + ./send_mail --to derrick.karimi@gmail.com --_from derrick.karimi@gmail.com --subject '[dstock] SuperGangsta Daily Report for 2021-08-22' --text https://alwaystraining.github.io/dstock/reports/SuperGangsta/2021-08-22/daily/ --server smtp.gmail.com --port 587 --server_user dr.randy.myers --server_user_pass dr.randy.myers.password
Aug 22 01:01:44 the-rain-maker dstock_updater_SuperGangsta[281771]: + set +x
Aug 22 01:01:44 the-rain-maker dstock_updater_SuperGangsta[281627]: + set +x
Aug 22 01:01:44 the-rain-maker dstock_updater_SuperGangsta[281627]: restarting tuners: tuner_SuperGangsta_TESTFUNDS0830.service tuner_SuperGangsta_TESTFUNDS1330.service tuner_SuperGangsta_TESTFUNDS1550.service
Aug 22 01:01:45 the-rain-maker dstock_updater_SuperGangsta[281957]: Failed to start tuner_SuperGangsta_TESTFUNDS0830.service: Unit tuner_SuperGangsta_TESTFUNDS0830.service not found.
Aug 22 01:01:45 the-rain-maker dstock_updater_SuperGangsta[281957]: Failed to start tuner_SuperGangsta_TESTFUNDS1330.service: Unit tuner_SuperGangsta_TESTFUNDS1330.service not found.
Aug 22 01:01:45 the-rain-maker dstock_updater_SuperGangsta[281957]: Failed to start tuner_SuperGangsta_TESTFUNDS1550.service: Unit tuner_SuperGangsta_TESTFUNDS1550.service not found.
Aug 22 01:01:45 the-rain-maker systemd[1]: dstock_updater_SuperGangsta.service: Main process exited, code=exited, status=5/NOTINSTALLED
Aug 22 01:01:45 the-rain-maker sudo[281958]:     root : TTY=unknown ; PWD=/home/dkarimi/work/supersets/SuperGangsta/dstock ; USER=dkarimi ; ENV=SERVICE_RESULT=exit-code EXIT_CODE=exited EXIT_STATUS=5 ; COMMAND=/home/dkarimi/work/supersets/SuperGangsta/dstock/generate_post_service_report.sh --super-set-name SuperGangsta --portfolio TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550 --service-name dstock_updater_SuperGangsta --send-success-emails
Aug 22 01:01:45 the-rain-maker sudo[281958]: pam_unix(sudo:session): session opened for user dkarimi by (uid=0)
Aug 22 01:01:45 the-rain-maker dstock_updater_SuperGangsta[281959]: generating post service report for : dstock_updater_SuperGangsta
Aug 22 01:01:45 the-rain-maker dstock_updater_SuperGangsta[281959]: Generating email content ...
Aug 22 01:01:45 the-rain-maker dstock_updater_SuperGangsta[281959]: Sending email about website dstock/reports/SuperGangsta/2021-08-22/post_service/010145_dstock_updater_SuperGangsta ...
Aug 22 01:01:47 the-rain-maker sudo[281958]: pam_unix(sudo:session): session closed for user dkarimi
Aug 22 01:01:47 the-rain-maker systemd[1]: dstock_updater_SuperGangsta.service: Failed with result 'exit-code'.
Aug 22 01:01:47 the-rain-maker systemd[1]: Failed to start dstock SuperGangsta updater service.
Aug 22 10:47:53 the-rain-maker systemd[1]: Starting dstock SuperGangsta updater service...
Aug 22 10:47:53 the-rain-maker dstock_updater_SuperGangsta[447608]: Stopping all tuners...
Aug 22 10:47:53 the-rain-maker dstock_updater_SuperGangsta[447612]: ++ grep -v '\.timer'
Aug 22 10:47:53 the-rain-maker dstock_updater_SuperGangsta[447613]: ++ xargs
Aug 22 10:47:53 the-rain-maker dstock_updater_SuperGangsta[447610]: ++ ./captain.py list --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperGangsta --fund-set TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550 --with-tuner --super-set-name SuperGangsta
Aug 22 10:47:53 the-rain-maker dstock_updater_SuperGangsta[447608]: + tuner_services='tuner_SuperGangsta_TESTFUNDS0830.service tuner_SuperGangsta_TESTFUNDS1330.service tuner_SuperGangsta_TESTFUNDS1550.service'
Aug 22 10:47:53 the-rain-maker dstock_updater_SuperGangsta[447608]: + systemctl stop tuner_SuperGangsta_TESTFUNDS0830.service tuner_SuperGangsta_TESTFUNDS1330.service tuner_SuperGangsta_TESTFUNDS1550.service
Aug 22 10:47:53 the-rain-maker dstock_updater_SuperGangsta[447689]: Failed to stop tuner_SuperGangsta_TESTFUNDS0830.service: Unit tuner_SuperGangsta_TESTFUNDS0830.service not loaded.
Aug 22 10:47:53 the-rain-maker dstock_updater_SuperGangsta[447689]: Failed to stop tuner_SuperGangsta_TESTFUNDS1330.service: Unit tuner_SuperGangsta_TESTFUNDS1330.service not loaded.
Aug 22 10:47:53 the-rain-maker dstock_updater_SuperGangsta[447689]: Failed to stop tuner_SuperGangsta_TESTFUNDS1550.service: Unit tuner_SuperGangsta_TESTFUNDS1550.service not loaded.
Aug 22 10:47:53 the-rain-maker dstock_updater_SuperGangsta[447608]: + set +x
Aug 22 10:48:08 the-rain-maker dstock_updater_SuperGangsta[447608]: updating application
Aug 22 10:48:08 the-rain-maker dstock_updater_SuperGangsta[447608]: + sudo -u dkarimi ./dstock_updater_helper.sh --user dkarimi --clean --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperGangsta --which-api-source tiingo --super-set-name SuperGangsta --sqlite-file /home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite --service-name dstock_updater_SuperGangsta --portfolio TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550
Aug 22 10:48:08 the-rain-maker sudo[447906]:     root : TTY=unknown ; PWD=/home/dkarimi/work/supersets/SuperGangsta/dstock ; USER=dkarimi ; COMMAND=./dstock_updater_helper.sh --user dkarimi --clean --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperGangsta --which-api-source tiingo --super-set-name SuperGangsta --sqlite-file /home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite --service-name dstock_updater_SuperGangsta --portfolio TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550
Aug 22 10:48:08 the-rain-maker sudo[447906]: pam_unix(sudo:session): session opened for user dkarimi by (uid=0)
Aug 22 10:48:08 the-rain-maker dstock_updater_SuperGangsta[447907]: Clearing Dir: runs
Aug 22 10:48:08 the-rain-maker dstock_updater_SuperGangsta[447907]: Clearing Dir: opentuner.db
Aug 22 10:48:08 the-rain-maker dstock_updater_SuperGangsta[447907]: Clearing Dir: download_cache
Aug 22 10:48:08 the-rain-maker dstock_updater_SuperGangsta[447907]: !!!
Aug 22 10:48:08 the-rain-maker dstock_updater_SuperGangsta[447907]: !!! It is now time to update dstock
Aug 22 10:48:08 the-rain-maker dstock_updater_SuperGangsta[447907]: !!!
Aug 22 10:48:08 the-rain-maker dstock_updater_SuperGangsta[447907]: + git status
Aug 22 10:48:08 the-rain-maker dstock_updater_SuperGangsta[447914]: On branch dkarimi/rollout
Aug 22 10:48:08 the-rain-maker dstock_updater_SuperGangsta[447914]: Changes not staged for commit:
Aug 22 10:48:08 the-rain-maker dstock_updater_SuperGangsta[447914]:   (use "git add <file>..." to update what will be committed)
Aug 22 10:48:08 the-rain-maker dstock_updater_SuperGangsta[447914]:   (use "git restore <file>..." to discard changes in working directory)
Aug 22 10:48:08 the-rain-maker dstock_updater_SuperGangsta[447914]:         modified:   captain.py
Aug 22 10:48:08 the-rain-maker dstock_updater_SuperGangsta[447914]:         modified:   dstock_supersets.py
Aug 22 10:48:08 the-rain-maker dstock_updater_SuperGangsta[447914]:         modified:   dstock_updater.sh
Aug 22 10:48:08 the-rain-maker dstock_updater_SuperGangsta[447914]:         modified:   dstock_updater_helper.sh
Aug 22 10:48:08 the-rain-maker dstock_updater_SuperGangsta[447914]:         modified:   fundset_recommendation.service.template
Aug 22 10:48:08 the-rain-maker dstock_updater_SuperGangsta[447914]:         modified:   generate_daily_report.sh
Aug 22 10:48:08 the-rain-maker dstock_updater_SuperGangsta[447914]:         modified:   generate_post_service_report.sh
Aug 22 10:48:08 the-rain-maker dstock_updater_SuperGangsta[447914]:         modified:   report_curator.py
Aug 22 10:48:08 the-rain-maker dstock_updater_SuperGangsta[447914]: Untracked files:
Aug 22 10:48:08 the-rain-maker dstock_updater_SuperGangsta[447914]:   (use "git add <file>..." to include in what will be committed)
Aug 22 10:48:08 the-rain-maker dstock_updater_SuperGangsta[447914]:         reports/
Aug 22 10:48:08 the-rain-maker dstock_updater_SuperGangsta[447914]: no changes added to commit (use "git add" and/or "git commit -a")
Aug 22 10:48:08 the-rain-maker dstock_updater_SuperGangsta[447907]: + git pull
Aug 22 10:48:08 the-rain-maker dstock_updater_SuperGangsta[447915]: There is no tracking information for the current branch.
Aug 22 10:48:08 the-rain-maker dstock_updater_SuperGangsta[447915]: Please specify which branch you want to merge with.
Aug 22 10:48:08 the-rain-maker dstock_updater_SuperGangsta[447915]: See git-pull(1) for details.
Aug 22 10:48:08 the-rain-maker dstock_updater_SuperGangsta[447915]:     git pull <remote> <branch>
Aug 22 10:48:08 the-rain-maker dstock_updater_SuperGangsta[447915]: If you wish to set tracking information for this branch you can do so with:
Aug 22 10:48:08 the-rain-maker dstock_updater_SuperGangsta[447915]:     git branch --set-upstream-to=origin/<branch> dkarimi/rollout
Aug 22 10:48:08 the-rain-maker dstock_updater_SuperGangsta[447907]: + set +x
Aug 22 10:48:10 the-rain-maker dstock_updater_SuperGangsta[447921]: Requirement already satisfied: pandas in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 1)) (1.3.2)
Aug 22 10:48:10 the-rain-maker dstock_updater_SuperGangsta[447921]: Requirement already satisfied: pyyaml in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 2)) (5.4.1)
Aug 22 10:48:10 the-rain-maker dstock_updater_SuperGangsta[447921]: Requirement already satisfied: prettytable in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 3)) (2.1.0)
Aug 22 10:48:10 the-rain-maker dstock_updater_SuperGangsta[447921]: Requirement already satisfied: yfinance in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 4)) (0.1.63)
Aug 22 10:48:10 the-rain-maker dstock_updater_SuperGangsta[447921]: Requirement already satisfied: matplotlib in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 5)) (3.4.3)
Aug 22 10:48:10 the-rain-maker dstock_updater_SuperGangsta[447921]: Requirement already satisfied: alpaca-trade-api in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 6)) (1.2.3)
Aug 22 10:48:10 the-rain-maker dstock_updater_SuperGangsta[447921]: Requirement already satisfied: pandas_datareader in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 7)) (0.10.0)
Aug 22 10:48:10 the-rain-maker dstock_updater_SuperGangsta[447921]: Requirement already satisfied: gspread in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 8)) (4.0.1)
Aug 22 10:48:10 the-rain-maker dstock_updater_SuperGangsta[447921]: Requirement already satisfied: google-api-python-client in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 9)) (2.17.0)
Aug 22 10:48:10 the-rain-maker dstock_updater_SuperGangsta[447921]: Requirement already satisfied: oauth2client in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 10)) (4.1.3)
Aug 22 10:48:10 the-rain-maker dstock_updater_SuperGangsta[447921]: Requirement already satisfied: wheel in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 11)) (0.37.0)
Aug 22 10:48:10 the-rain-maker dstock_updater_SuperGangsta[447921]: Requirement already satisfied: python-dateutil>=2.7.3 in ./dstock_venv/lib/python3.8/site-packages (from pandas->-r requirements.txt (line 1)) (2.8.2)
Aug 22 10:48:10 the-rain-maker dstock_updater_SuperGangsta[447921]: Requirement already satisfied: numpy>=1.17.3 in ./dstock_venv/lib/python3.8/site-packages (from pandas->-r requirements.txt (line 1)) (1.21.2)
Aug 22 10:48:10 the-rain-maker dstock_updater_SuperGangsta[447921]: Requirement already satisfied: pytz>=2017.3 in ./dstock_venv/lib/python3.8/site-packages (from pandas->-r requirements.txt (line 1)) (2021.1)
Aug 22 10:48:10 the-rain-maker dstock_updater_SuperGangsta[447921]: Requirement already satisfied: wcwidth in ./dstock_venv/lib/python3.8/site-packages (from prettytable->-r requirements.txt (line 3)) (0.2.5)
Aug 22 10:48:10 the-rain-maker dstock_updater_SuperGangsta[447921]: Requirement already satisfied: lxml>=4.5.1 in ./dstock_venv/lib/python3.8/site-packages (from yfinance->-r requirements.txt (line 4)) (4.6.3)
Aug 22 10:48:10 the-rain-maker dstock_updater_SuperGangsta[447921]: Requirement already satisfied: multitasking>=0.0.7 in ./dstock_venv/lib/python3.8/site-packages (from yfinance->-r requirements.txt (line 4)) (0.0.9)
Aug 22 10:48:10 the-rain-maker dstock_updater_SuperGangsta[447921]: Requirement already satisfied: requests>=2.20 in ./dstock_venv/lib/python3.8/site-packages (from yfinance->-r requirements.txt (line 4)) (2.26.0)
Aug 22 10:48:10 the-rain-maker dstock_updater_SuperGangsta[447921]: Requirement already satisfied: pyparsing>=2.2.1 in ./dstock_venv/lib/python3.8/site-packages (from matplotlib->-r requirements.txt (line 5)) (2.4.7)
Aug 22 10:48:10 the-rain-maker dstock_updater_SuperGangsta[447921]: Requirement already satisfied: cycler>=0.10 in ./dstock_venv/lib/python3.8/site-packages (from matplotlib->-r requirements.txt (line 5)) (0.10.0)
Aug 22 10:48:10 the-rain-maker dstock_updater_SuperGangsta[447921]: Requirement already satisfied: pillow>=6.2.0 in ./dstock_venv/lib/python3.8/site-packages (from matplotlib->-r requirements.txt (line 5)) (8.3.1)
Aug 22 10:48:10 the-rain-maker dstock_updater_SuperGangsta[447921]: Requirement already satisfied: kiwisolver>=1.0.1 in ./dstock_venv/lib/python3.8/site-packages (from matplotlib->-r requirements.txt (line 5)) (1.3.1)
Aug 22 10:48:10 the-rain-maker dstock_updater_SuperGangsta[447921]: Requirement already satisfied: msgpack==1.0.2 in ./dstock_venv/lib/python3.8/site-packages (from alpaca-trade-api->-r requirements.txt (line 6)) (1.0.2)
Aug 22 10:48:10 the-rain-maker dstock_updater_SuperGangsta[447921]: Requirement already satisfied: urllib3<2,>1.24 in ./dstock_venv/lib/python3.8/site-packages (from alpaca-trade-api->-r requirements.txt (line 6)) (1.26.6)
Aug 22 10:48:10 the-rain-maker dstock_updater_SuperGangsta[447921]: Requirement already satisfied: websockets<10,>=8.0 in ./dstock_venv/lib/python3.8/site-packages (from alpaca-trade-api->-r requirements.txt (line 6)) (9.1)
Aug 22 10:48:10 the-rain-maker dstock_updater_SuperGangsta[447921]: Requirement already satisfied: websocket-client<2,>=0.56.0 in ./dstock_venv/lib/python3.8/site-packages (from alpaca-trade-api->-r requirements.txt (line 6)) (1.2.1)
Aug 22 10:48:11 the-rain-maker dstock_updater_SuperGangsta[447921]: Requirement already satisfied: google-auth-oauthlib>=0.4.1 in ./dstock_venv/lib/python3.8/site-packages (from gspread->-r requirements.txt (line 8)) (0.4.5)
Aug 22 10:48:11 the-rain-maker dstock_updater_SuperGangsta[447921]: Requirement already satisfied: google-auth>=1.12.0 in ./dstock_venv/lib/python3.8/site-packages (from gspread->-r requirements.txt (line 8)) (2.0.1)
Aug 22 10:48:11 the-rain-maker dstock_updater_SuperGangsta[447921]: Requirement already satisfied: httplib2<1dev,>=0.15.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-python-client->-r requirements.txt (line 9)) (0.19.1)
Aug 22 10:48:11 the-rain-maker dstock_updater_SuperGangsta[447921]: Requirement already satisfied: google-auth-httplib2>=0.1.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-python-client->-r requirements.txt (line 9)) (0.1.0)
Aug 22 10:48:11 the-rain-maker dstock_updater_SuperGangsta[447921]: Requirement already satisfied: google-api-core<3.0.0dev,>=1.21.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-python-client->-r requirements.txt (line 9)) (2.0.0)
Aug 22 10:48:11 the-rain-maker dstock_updater_SuperGangsta[447921]: Requirement already satisfied: uritemplate<4dev,>=3.0.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-python-client->-r requirements.txt (line 9)) (3.0.1)
Aug 22 10:48:11 the-rain-maker dstock_updater_SuperGangsta[447921]: Requirement already satisfied: pyasn1>=0.1.7 in ./dstock_venv/lib/python3.8/site-packages (from oauth2client->-r requirements.txt (line 10)) (0.4.8)
Aug 22 10:48:11 the-rain-maker dstock_updater_SuperGangsta[447921]: Requirement already satisfied: pyasn1-modules>=0.0.5 in ./dstock_venv/lib/python3.8/site-packages (from oauth2client->-r requirements.txt (line 10)) (0.2.8)
Aug 22 10:48:11 the-rain-maker dstock_updater_SuperGangsta[447921]: Requirement already satisfied: rsa>=3.1.4 in ./dstock_venv/lib/python3.8/site-packages (from oauth2client->-r requirements.txt (line 10)) (4.7.2)
Aug 22 10:48:11 the-rain-maker dstock_updater_SuperGangsta[447921]: Requirement already satisfied: six>=1.6.1 in ./dstock_venv/lib/python3.8/site-packages (from oauth2client->-r requirements.txt (line 10)) (1.16.0)
Aug 22 10:48:11 the-rain-maker dstock_updater_SuperGangsta[447921]: Requirement already satisfied: charset-normalizer~=2.0.0; python_version >= "3" in ./dstock_venv/lib/python3.8/site-packages (from requests>=2.20->yfinance->-r requirements.txt (line 4)) (2.0.4)
Aug 22 10:48:11 the-rain-maker dstock_updater_SuperGangsta[447921]: Requirement already satisfied: idna<4,>=2.5; python_version >= "3" in ./dstock_venv/lib/python3.8/site-packages (from requests>=2.20->yfinance->-r requirements.txt (line 4)) (3.2)
Aug 22 10:48:11 the-rain-maker dstock_updater_SuperGangsta[447921]: Requirement already satisfied: certifi>=2017.4.17 in ./dstock_venv/lib/python3.8/site-packages (from requests>=2.20->yfinance->-r requirements.txt (line 4)) (2021.5.30)
Aug 22 10:48:11 the-rain-maker dstock_updater_SuperGangsta[447921]: Requirement already satisfied: requests-oauthlib>=0.7.0 in ./dstock_venv/lib/python3.8/site-packages (from google-auth-oauthlib>=0.4.1->gspread->-r requirements.txt (line 8)) (1.3.0)
Aug 22 10:48:11 the-rain-maker dstock_updater_SuperGangsta[447921]: Requirement already satisfied: setuptools>=40.3.0 in ./dstock_venv/lib/python3.8/site-packages (from google-auth>=1.12.0->gspread->-r requirements.txt (line 8)) (44.0.0)
Aug 22 10:48:11 the-rain-maker dstock_updater_SuperGangsta[447921]: Requirement already satisfied: cachetools<5.0,>=2.0.0 in ./dstock_venv/lib/python3.8/site-packages (from google-auth>=1.12.0->gspread->-r requirements.txt (line 8)) (4.2.2)
Aug 22 10:48:11 the-rain-maker dstock_updater_SuperGangsta[447921]: Requirement already satisfied: googleapis-common-protos<2.0dev,>=1.6.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-core<3.0.0dev,>=1.21.0->google-api-python-client->-r requirements.txt (line 9)) (1.53.0)
Aug 22 10:48:11 the-rain-maker dstock_updater_SuperGangsta[447921]: Requirement already satisfied: protobuf>=3.12.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-core<3.0.0dev,>=1.21.0->google-api-python-client->-r requirements.txt (line 9)) (3.17.3)
Aug 22 10:48:11 the-rain-maker dstock_updater_SuperGangsta[447921]: Requirement already satisfied: oauthlib>=3.0.0 in ./dstock_venv/lib/python3.8/site-packages (from requests-oauthlib>=0.7.0->google-auth-oauthlib>=0.4.1->gspread->-r requirements.txt (line 8)) (3.1.1)
Aug 22 10:48:11 the-rain-maker dstock_updater_SuperGangsta[447930]: generating report:
Aug 22 10:48:11 the-rain-maker dstock_updater_SuperGangsta[447930]: + ./daily_report --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperGangsta --portfolio TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550 --start-date 2021-08-07 --end-date 2021-08-21 --output-dir runs/daily_report_output_2021-08-21 --which-source yahoo --sqlite-file /home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite --jitter 100 --num-randos 100
Aug 22 10:48:13 the-rain-maker dstock_updater_SuperGangsta[447946]: INFO:root:Dowloading History and Prices of TESTFUNDS0830 for 14 days
Aug 22 10:48:26 the-rain-maker dstock_updater_SuperGangsta[447946]: WARNING:root:You are graphing data before the alpaca account started
Aug 22 10:48:26 the-rain-maker dstock_updater_SuperGangsta[447946]: WARNING:root:showing 14 days 10:55:01.984880 before this account creation on 2021-08-21 10:55:01.984880-04:00
Aug 22 10:48:26 the-rain-maker dstock_updater_SuperGangsta[447946]: WARNING:root:To correct use --start-date 2021-08-21
Aug 22 10:48:26 the-rain-maker dstock_updater_SuperGangsta[447946]: WARNING:root:But you should look in alpaca at what day your first trade was on
Aug 22 10:48:26 the-rain-maker dstock_updater_SuperGangsta[447946]: WARNING:root:Then set the start date to be one day before that day
Aug 22 10:48:26 the-rain-maker dstock_updater_SuperGangsta[447946]: INFO:root:Asking for time in the past more recent than last history value, taking account's current value $100000.000000 on 2021-08-21 00:00:00
Aug 22 10:48:26 the-rain-maker dstock_updater_SuperGangsta[447946]: INFO:root:Getting initial_investment from Alpaca: $100000.00
Aug 22 10:48:26 the-rain-maker dstock_updater_SuperGangsta[447946]: /home/dkarimi/work/supersets/SuperGangsta/dstock/fomo_graph.py:870: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead.  To get a de-fragmented frame, use `newframe = frame.copy()`
Aug 22 10:48:26 the-rain-maker dstock_updater_SuperGangsta[447946]:   fomoframe[line_name] = float('nan')
Aug 22 10:48:26 the-rain-maker dstock_updater_SuperGangsta[447946]: Traceback (most recent call last):
Aug 22 10:48:26 the-rain-maker dstock_updater_SuperGangsta[447946]:   File "./daily_report.py", line 198, in <module>
Aug 22 10:48:26 the-rain-maker dstock_updater_SuperGangsta[447946]:     main(**vars(args))
Aug 22 10:48:26 the-rain-maker dstock_updater_SuperGangsta[447946]:   File "./daily_report.py", line 139, in main
Aug 22 10:48:26 the-rain-maker dstock_updater_SuperGangsta[447946]:     fomo_results = fomo_graph.main(
Aug 22 10:48:26 the-rain-maker dstock_updater_SuperGangsta[447946]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/fomo_graph.py", line 889, in main
Aug 22 10:48:26 the-rain-maker dstock_updater_SuperGangsta[447946]:     _simulate_account(
Aug 22 10:48:26 the-rain-maker dstock_updater_SuperGangsta[447946]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/fomo_graph.py", line 363, in _simulate_account
Aug 22 10:48:26 the-rain-maker dstock_updater_SuperGangsta[447946]:     _simulate_palloc_web_account(
Aug 22 10:48:26 the-rain-maker dstock_updater_SuperGangsta[447946]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/fomo_graph.py", line 245, in _simulate_palloc_web_account
Aug 22 10:48:26 the-rain-maker dstock_updater_SuperGangsta[447946]:     trader_results = palloc_trader.main(
Aug 22 10:48:26 the-rain-maker dstock_updater_SuperGangsta[447946]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/palloc_trader.py", line 395, in main
Aug 22 10:48:26 the-rain-maker dstock_updater_SuperGangsta[447946]:     trader = Trader(
Aug 22 10:48:26 the-rain-maker dstock_updater_SuperGangsta[447946]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/palloc_trader.py", line 152, in __init__
Aug 22 10:48:26 the-rain-maker dstock_updater_SuperGangsta[447946]:     self.portfolio_response = self.get_portfolio_response()
Aug 22 10:48:26 the-rain-maker dstock_updater_SuperGangsta[447946]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/palloc_trader.py", line 171, in get_portfolio_response
Aug 22 10:48:26 the-rain-maker dstock_updater_SuperGangsta[447946]:     pr = dstock_palloc_db.get_portfolio_by_name(
Aug 22 10:48:26 the-rain-maker dstock_updater_SuperGangsta[447946]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/dstock_palloc_db.py", line 262, in get_portfolio_by_name
Aug 22 10:48:26 the-rain-maker dstock_updater_SuperGangsta[447946]:     _get_last_recommendation_info(
Aug 22 10:48:26 the-rain-maker dstock_updater_SuperGangsta[447946]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/dstock_palloc_db.py", line 67, in _get_last_recommendation_info
Aug 22 10:48:26 the-rain-maker dstock_updater_SuperGangsta[447946]:     raise NoRecommendationFound(
Aug 22 10:48:26 the-rain-maker dstock_updater_SuperGangsta[447946]: dstock_palloc_db.NoRecommendationFound: Could not find any recommendations runs for TESTFUNDS0830 made before 2021-08-09 08:50:00
Aug 22 10:48:26 the-rain-maker dstock_updater_SuperGangsta[447930]: + set +x
Aug 22 10:48:26 the-rain-maker dstock_updater_SuperGangsta[447930]: updating website dstock/reports/SuperGangsta/2021-08-22/daily ...
Aug 22 10:48:26 the-rain-maker dstock_updater_SuperGangsta[447930]: + ./report_curator --input-report-dir runs/daily_report_output_2021-08-21 --target-report-dir dstock/reports/SuperGangsta/2021-08-22/daily --top-index-dir dstock/reports/SuperGangsta
Aug 22 10:48:28 the-rain-maker dstock_updater_SuperGangsta[448002]: INFO:root:cd report_website && git pull
Aug 22 10:48:28 the-rain-maker dstock_updater_SuperGangsta[448062]: Already up to date.
Aug 22 10:48:28 the-rain-maker dstock_updater_SuperGangsta[448002]: INFO:root:mkdir -p report_website/dstock/reports/SuperGangsta/2021-08-22/daily && cp -vr runs/daily_report_output_2021-08-21/* report_website/dstock/reports/SuperGangsta/2021-08-22/daily/
Aug 22 10:48:28 the-rain-maker dstock_updater_SuperGangsta[448065]: cp: cannot stat 'runs/daily_report_output_2021-08-21/*': No such file or directory
Aug 22 10:48:28 the-rain-maker dstock_updater_SuperGangsta[448002]: Traceback (most recent call last):
Aug 22 10:48:28 the-rain-maker dstock_updater_SuperGangsta[448002]:   File "./report_curator.py", line 115, in <module>
Aug 22 10:48:28 the-rain-maker dstock_updater_SuperGangsta[448002]:     main(**vars(args))
Aug 22 10:48:28 the-rain-maker dstock_updater_SuperGangsta[448002]:   File "./report_curator.py", line 61, in main
Aug 22 10:48:28 the-rain-maker dstock_updater_SuperGangsta[448002]:     _cmd("mkdir -p {website_repo_dir}/{target_report_dir} && cp -vr {input_report_dir}/* {website_repo_dir}/{target_report_dir}/".format(
Aug 22 10:48:28 the-rain-maker dstock_updater_SuperGangsta[448002]:   File "./report_curator.py", line 30, in _cmd
Aug 22 10:48:28 the-rain-maker dstock_updater_SuperGangsta[448002]:     subprocess.check_call(cmd, shell=True)
Aug 22 10:48:28 the-rain-maker dstock_updater_SuperGangsta[448002]:   File "/usr/lib/python3.8/subprocess.py", line 364, in check_call
Aug 22 10:48:28 the-rain-maker dstock_updater_SuperGangsta[448002]:     raise CalledProcessError(retcode, cmd)
Aug 22 10:48:28 the-rain-maker dstock_updater_SuperGangsta[448002]: subprocess.CalledProcessError: Command 'mkdir -p report_website/dstock/reports/SuperGangsta/2021-08-22/daily && cp -vr runs/daily_report_output_2021-08-21/* report_website/dstock/reports/SuperGangsta/2021-08-22/daily/' returned non-zero exit status 1.
Aug 22 10:48:29 the-rain-maker dstock_updater_SuperGangsta[447930]: + set +x
Aug 22 10:48:29 the-rain-maker dstock_updater_SuperGangsta[447930]: Sending email about website dstock/reports/SuperGangsta/2021-08-22/daily ...
Aug 22 10:48:29 the-rain-maker dstock_updater_SuperGangsta[448066]: ++ date -I
Aug 22 10:48:29 the-rain-maker dstock_updater_SuperGangsta[447930]: + ./send_mail --to derrick.karimi@gmail.com --_from derrick.karimi@gmail.com --subject '[dstock] SuperGangsta Daily Report for 2021-08-22' --text https://alwaystraining.github.io/dstock/reports/SuperGangsta/2021-08-22/daily/ --server smtp.gmail.com --port 587 --server_user dr.randy.myers --server_user_pass dr.randy.myers.password
Aug 22 10:48:30 the-rain-maker dstock_updater_SuperGangsta[447930]: + set +x
Aug 22 10:48:30 the-rain-maker sudo[447906]: pam_unix(sudo:session): session closed for user dkarimi
Aug 22 10:48:30 the-rain-maker dstock_updater_SuperGangsta[447608]: + set +x
Aug 22 10:48:30 the-rain-maker dstock_updater_SuperGangsta[447608]: restarting tuners: tuner_SuperGangsta_TESTFUNDS0830.service tuner_SuperGangsta_TESTFUNDS1330.service tuner_SuperGangsta_TESTFUNDS1550.service
Aug 22 10:48:30 the-rain-maker dstock_updater_SuperGangsta[448123]: Failed to start tuner_SuperGangsta_TESTFUNDS0830.service: Unit tuner_SuperGangsta_TESTFUNDS0830.service not found.
Aug 22 10:48:30 the-rain-maker dstock_updater_SuperGangsta[448123]: Failed to start tuner_SuperGangsta_TESTFUNDS1330.service: Unit tuner_SuperGangsta_TESTFUNDS1330.service not found.
Aug 22 10:48:30 the-rain-maker dstock_updater_SuperGangsta[448123]: Failed to start tuner_SuperGangsta_TESTFUNDS1550.service: Unit tuner_SuperGangsta_TESTFUNDS1550.service not found.
Aug 22 10:48:30 the-rain-maker systemd[1]: dstock_updater_SuperGangsta.service: Main process exited, code=exited, status=5/NOTINSTALLED
Aug 22 10:48:31 the-rain-maker sudo[448124]:     root : TTY=unknown ; PWD=/home/dkarimi/work/supersets/SuperGangsta/dstock ; USER=dkarimi ; ENV=SERVICE_RESULT=exit-code EXIT_CODE=exited EXIT_STATUS=5 ; COMMAND=/home/dkarimi/work/supersets/SuperGangsta/dstock/generate_post_service_report.sh --super-set-name SuperGangsta --portfolio TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550 --service-name dstock_updater_SuperGangsta --send-success-emails
Aug 22 10:48:31 the-rain-maker sudo[448124]: pam_unix(sudo:session): session opened for user dkarimi by (uid=0)
Aug 22 10:48:31 the-rain-maker dstock_updater_SuperGangsta[448125]: generating post service report for : dstock_updater_SuperGangsta
Aug 22 10:48:31 the-rain-maker dstock_updater_SuperGangsta[448125]: Generating email content ...
Aug 22 10:48:31 the-rain-maker dstock_updater_SuperGangsta[448125]: Sending email about website dstock/reports/SuperGangsta/2021-08-22/post_service/104831_dstock_updater_SuperGangsta ...
Aug 22 10:48:32 the-rain-maker sudo[448124]: pam_unix(sudo:session): session closed for user dkarimi
Aug 22 10:48:32 the-rain-maker systemd[1]: dstock_updater_SuperGangsta.service: Failed with result 'exit-code'.
Aug 22 10:48:32 the-rain-maker systemd[1]: Failed to start dstock SuperGangsta updater service.
Aug 22 11:15:12 the-rain-maker systemd[1]: Starting dstock SuperGangsta updater service...
Aug 22 11:15:12 the-rain-maker dstock_updater_SuperGangsta[456692]: Stopping all tuners...
Aug 22 11:15:12 the-rain-maker dstock_updater_SuperGangsta[456694]: ++ ./captain.py list --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperGangsta --fund-set TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550 --with-tuner --super-set-name SuperGangsta
Aug 22 11:15:12 the-rain-maker dstock_updater_SuperGangsta[456696]: ++ xargs
Aug 22 11:15:12 the-rain-maker dstock_updater_SuperGangsta[456695]: ++ grep -v '\.timer'
Aug 22 11:15:12 the-rain-maker dstock_updater_SuperGangsta[456692]: + tuner_services='tuner_SuperGangsta_TESTFUNDS0830.service tuner_SuperGangsta_TESTFUNDS1330.service tuner_SuperGangsta_TESTFUNDS1550.service'
Aug 22 11:15:12 the-rain-maker dstock_updater_SuperGangsta[456692]: + systemctl stop tuner_SuperGangsta_TESTFUNDS0830.service tuner_SuperGangsta_TESTFUNDS1330.service tuner_SuperGangsta_TESTFUNDS1550.service
Aug 22 11:15:12 the-rain-maker dstock_updater_SuperGangsta[456698]: Failed to stop tuner_SuperGangsta_TESTFUNDS0830.service: Unit tuner_SuperGangsta_TESTFUNDS0830.service not loaded.
Aug 22 11:15:12 the-rain-maker dstock_updater_SuperGangsta[456698]: Failed to stop tuner_SuperGangsta_TESTFUNDS1330.service: Unit tuner_SuperGangsta_TESTFUNDS1330.service not loaded.
Aug 22 11:15:12 the-rain-maker dstock_updater_SuperGangsta[456698]: Failed to stop tuner_SuperGangsta_TESTFUNDS1550.service: Unit tuner_SuperGangsta_TESTFUNDS1550.service not loaded.
Aug 22 11:15:12 the-rain-maker dstock_updater_SuperGangsta[456692]: + set +x
Aug 22 11:15:27 the-rain-maker dstock_updater_SuperGangsta[456692]: updating application
Aug 22 11:15:27 the-rain-maker dstock_updater_SuperGangsta[456692]: + sudo -u dkarimi ./dstock_updater_helper.sh --user dkarimi --clean --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperGangsta --which-api-source tiingo --super-set-name SuperGangsta --sqlite-file /home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite --service-name dstock_updater_SuperGangsta --portfolio TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550
Aug 22 11:15:27 the-rain-maker sudo[456755]:     root : TTY=unknown ; PWD=/home/dkarimi/work/supersets/SuperGangsta/dstock ; USER=dkarimi ; COMMAND=./dstock_updater_helper.sh --user dkarimi --clean --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperGangsta --which-api-source tiingo --super-set-name SuperGangsta --sqlite-file /home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite --service-name dstock_updater_SuperGangsta --portfolio TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550
Aug 22 11:15:27 the-rain-maker sudo[456755]: pam_unix(sudo:session): session opened for user dkarimi by (uid=0)
Aug 22 11:15:27 the-rain-maker dstock_updater_SuperGangsta[456756]: Clearing Dir: runs
Aug 22 11:15:27 the-rain-maker dstock_updater_SuperGangsta[456756]: Clearing Dir: opentuner.db
Aug 22 11:15:27 the-rain-maker dstock_updater_SuperGangsta[456756]: Clearing Dir: download_cache
Aug 22 11:15:27 the-rain-maker dstock_updater_SuperGangsta[456756]: !!!
Aug 22 11:15:27 the-rain-maker dstock_updater_SuperGangsta[456756]: !!! It is now time to update dstock
Aug 22 11:15:27 the-rain-maker dstock_updater_SuperGangsta[456756]: !!!
Aug 22 11:15:27 the-rain-maker dstock_updater_SuperGangsta[456756]: + git status
Aug 22 11:15:27 the-rain-maker dstock_updater_SuperGangsta[456763]: On branch dkarimi/rollout
Aug 22 11:15:27 the-rain-maker dstock_updater_SuperGangsta[456763]: Your branch is up to date with 'origin/dkarimi/rollout'.
Aug 22 11:15:27 the-rain-maker dstock_updater_SuperGangsta[456763]: nothing to commit, working tree clean
Aug 22 11:15:27 the-rain-maker dstock_updater_SuperGangsta[456756]: + git pull
Aug 22 11:15:27 the-rain-maker dstock_updater_SuperGangsta[456771]: Already up to date.
Aug 22 11:15:27 the-rain-maker dstock_updater_SuperGangsta[456756]: + set +x
Aug 22 11:15:29 the-rain-maker dstock_updater_SuperGangsta[456772]: Requirement already satisfied: pandas in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 1)) (1.3.2)
Aug 22 11:15:29 the-rain-maker dstock_updater_SuperGangsta[456772]: Requirement already satisfied: pyyaml in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 2)) (5.4.1)
Aug 22 11:15:29 the-rain-maker dstock_updater_SuperGangsta[456772]: Requirement already satisfied: prettytable in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 3)) (2.1.0)
Aug 22 11:15:29 the-rain-maker dstock_updater_SuperGangsta[456772]: Requirement already satisfied: yfinance in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 4)) (0.1.63)
Aug 22 11:15:29 the-rain-maker dstock_updater_SuperGangsta[456772]: Requirement already satisfied: matplotlib in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 5)) (3.4.3)
Aug 22 11:15:29 the-rain-maker dstock_updater_SuperGangsta[456772]: Requirement already satisfied: alpaca-trade-api in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 6)) (1.2.3)
Aug 22 11:15:30 the-rain-maker dstock_updater_SuperGangsta[456772]: Requirement already satisfied: pandas_datareader in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 7)) (0.10.0)
Aug 22 11:15:30 the-rain-maker dstock_updater_SuperGangsta[456772]: Requirement already satisfied: gspread in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 8)) (4.0.1)
Aug 22 11:15:30 the-rain-maker dstock_updater_SuperGangsta[456772]: Requirement already satisfied: google-api-python-client in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 9)) (2.17.0)
Aug 22 11:15:30 the-rain-maker dstock_updater_SuperGangsta[456772]: Requirement already satisfied: oauth2client in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 10)) (4.1.3)
Aug 22 11:15:30 the-rain-maker dstock_updater_SuperGangsta[456772]: Requirement already satisfied: wheel in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 11)) (0.37.0)
Aug 22 11:15:30 the-rain-maker dstock_updater_SuperGangsta[456772]: Requirement already satisfied: numpy>=1.17.3 in ./dstock_venv/lib/python3.8/site-packages (from pandas->-r requirements.txt (line 1)) (1.21.2)
Aug 22 11:15:30 the-rain-maker dstock_updater_SuperGangsta[456772]: Requirement already satisfied: python-dateutil>=2.7.3 in ./dstock_venv/lib/python3.8/site-packages (from pandas->-r requirements.txt (line 1)) (2.8.2)
Aug 22 11:15:30 the-rain-maker dstock_updater_SuperGangsta[456772]: Requirement already satisfied: pytz>=2017.3 in ./dstock_venv/lib/python3.8/site-packages (from pandas->-r requirements.txt (line 1)) (2021.1)
Aug 22 11:15:30 the-rain-maker dstock_updater_SuperGangsta[456772]: Requirement already satisfied: wcwidth in ./dstock_venv/lib/python3.8/site-packages (from prettytable->-r requirements.txt (line 3)) (0.2.5)
Aug 22 11:15:30 the-rain-maker dstock_updater_SuperGangsta[456772]: Requirement already satisfied: lxml>=4.5.1 in ./dstock_venv/lib/python3.8/site-packages (from yfinance->-r requirements.txt (line 4)) (4.6.3)
Aug 22 11:15:30 the-rain-maker dstock_updater_SuperGangsta[456772]: Requirement already satisfied: multitasking>=0.0.7 in ./dstock_venv/lib/python3.8/site-packages (from yfinance->-r requirements.txt (line 4)) (0.0.9)
Aug 22 11:15:30 the-rain-maker dstock_updater_SuperGangsta[456772]: Requirement already satisfied: requests>=2.20 in ./dstock_venv/lib/python3.8/site-packages (from yfinance->-r requirements.txt (line 4)) (2.26.0)
Aug 22 11:15:30 the-rain-maker dstock_updater_SuperGangsta[456772]: Requirement already satisfied: kiwisolver>=1.0.1 in ./dstock_venv/lib/python3.8/site-packages (from matplotlib->-r requirements.txt (line 5)) (1.3.1)
Aug 22 11:15:30 the-rain-maker dstock_updater_SuperGangsta[456772]: Requirement already satisfied: pillow>=6.2.0 in ./dstock_venv/lib/python3.8/site-packages (from matplotlib->-r requirements.txt (line 5)) (8.3.1)
Aug 22 11:15:30 the-rain-maker dstock_updater_SuperGangsta[456772]: Requirement already satisfied: pyparsing>=2.2.1 in ./dstock_venv/lib/python3.8/site-packages (from matplotlib->-r requirements.txt (line 5)) (2.4.7)
Aug 22 11:15:30 the-rain-maker dstock_updater_SuperGangsta[456772]: Requirement already satisfied: cycler>=0.10 in ./dstock_venv/lib/python3.8/site-packages (from matplotlib->-r requirements.txt (line 5)) (0.10.0)
Aug 22 11:15:30 the-rain-maker dstock_updater_SuperGangsta[456772]: Requirement already satisfied: urllib3<2,>1.24 in ./dstock_venv/lib/python3.8/site-packages (from alpaca-trade-api->-r requirements.txt (line 6)) (1.26.6)
Aug 22 11:15:30 the-rain-maker dstock_updater_SuperGangsta[456772]: Requirement already satisfied: msgpack==1.0.2 in ./dstock_venv/lib/python3.8/site-packages (from alpaca-trade-api->-r requirements.txt (line 6)) (1.0.2)
Aug 22 11:15:30 the-rain-maker dstock_updater_SuperGangsta[456772]: Requirement already satisfied: websocket-client<2,>=0.56.0 in ./dstock_venv/lib/python3.8/site-packages (from alpaca-trade-api->-r requirements.txt (line 6)) (1.2.1)
Aug 22 11:15:30 the-rain-maker dstock_updater_SuperGangsta[456772]: Requirement already satisfied: websockets<10,>=8.0 in ./dstock_venv/lib/python3.8/site-packages (from alpaca-trade-api->-r requirements.txt (line 6)) (9.1)
Aug 22 11:15:30 the-rain-maker dstock_updater_SuperGangsta[456772]: Requirement already satisfied: google-auth-oauthlib>=0.4.1 in ./dstock_venv/lib/python3.8/site-packages (from gspread->-r requirements.txt (line 8)) (0.4.5)
Aug 22 11:15:30 the-rain-maker dstock_updater_SuperGangsta[456772]: Requirement already satisfied: google-auth>=1.12.0 in ./dstock_venv/lib/python3.8/site-packages (from gspread->-r requirements.txt (line 8)) (2.0.1)
Aug 22 11:15:30 the-rain-maker dstock_updater_SuperGangsta[456772]: Requirement already satisfied: httplib2<1dev,>=0.15.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-python-client->-r requirements.txt (line 9)) (0.19.1)
Aug 22 11:15:30 the-rain-maker dstock_updater_SuperGangsta[456772]: Requirement already satisfied: uritemplate<4dev,>=3.0.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-python-client->-r requirements.txt (line 9)) (3.0.1)
Aug 22 11:15:30 the-rain-maker dstock_updater_SuperGangsta[456772]: Requirement already satisfied: google-api-core<3.0.0dev,>=1.21.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-python-client->-r requirements.txt (line 9)) (2.0.0)
Aug 22 11:15:30 the-rain-maker dstock_updater_SuperGangsta[456772]: Requirement already satisfied: google-auth-httplib2>=0.1.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-python-client->-r requirements.txt (line 9)) (0.1.0)
Aug 22 11:15:30 the-rain-maker dstock_updater_SuperGangsta[456772]: Requirement already satisfied: pyasn1>=0.1.7 in ./dstock_venv/lib/python3.8/site-packages (from oauth2client->-r requirements.txt (line 10)) (0.4.8)
Aug 22 11:15:30 the-rain-maker dstock_updater_SuperGangsta[456772]: Requirement already satisfied: six>=1.6.1 in ./dstock_venv/lib/python3.8/site-packages (from oauth2client->-r requirements.txt (line 10)) (1.16.0)
Aug 22 11:15:30 the-rain-maker dstock_updater_SuperGangsta[456772]: Requirement already satisfied: pyasn1-modules>=0.0.5 in ./dstock_venv/lib/python3.8/site-packages (from oauth2client->-r requirements.txt (line 10)) (0.2.8)
Aug 22 11:15:30 the-rain-maker dstock_updater_SuperGangsta[456772]: Requirement already satisfied: rsa>=3.1.4 in ./dstock_venv/lib/python3.8/site-packages (from oauth2client->-r requirements.txt (line 10)) (4.7.2)
Aug 22 11:15:30 the-rain-maker dstock_updater_SuperGangsta[456772]: Requirement already satisfied: charset-normalizer~=2.0.0; python_version >= "3" in ./dstock_venv/lib/python3.8/site-packages (from requests>=2.20->yfinance->-r requirements.txt (line 4)) (2.0.4)
Aug 22 11:15:30 the-rain-maker dstock_updater_SuperGangsta[456772]: Requirement already satisfied: idna<4,>=2.5; python_version >= "3" in ./dstock_venv/lib/python3.8/site-packages (from requests>=2.20->yfinance->-r requirements.txt (line 4)) (3.2)
Aug 22 11:15:30 the-rain-maker dstock_updater_SuperGangsta[456772]: Requirement already satisfied: certifi>=2017.4.17 in ./dstock_venv/lib/python3.8/site-packages (from requests>=2.20->yfinance->-r requirements.txt (line 4)) (2021.5.30)
Aug 22 11:15:30 the-rain-maker dstock_updater_SuperGangsta[456772]: Requirement already satisfied: requests-oauthlib>=0.7.0 in ./dstock_venv/lib/python3.8/site-packages (from google-auth-oauthlib>=0.4.1->gspread->-r requirements.txt (line 8)) (1.3.0)
Aug 22 11:15:30 the-rain-maker dstock_updater_SuperGangsta[456772]: Requirement already satisfied: cachetools<5.0,>=2.0.0 in ./dstock_venv/lib/python3.8/site-packages (from google-auth>=1.12.0->gspread->-r requirements.txt (line 8)) (4.2.2)
Aug 22 11:15:30 the-rain-maker dstock_updater_SuperGangsta[456772]: Requirement already satisfied: setuptools>=40.3.0 in ./dstock_venv/lib/python3.8/site-packages (from google-auth>=1.12.0->gspread->-r requirements.txt (line 8)) (44.0.0)
Aug 22 11:15:30 the-rain-maker dstock_updater_SuperGangsta[456772]: Requirement already satisfied: protobuf>=3.12.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-core<3.0.0dev,>=1.21.0->google-api-python-client->-r requirements.txt (line 9)) (3.17.3)
Aug 22 11:15:30 the-rain-maker dstock_updater_SuperGangsta[456772]: Requirement already satisfied: googleapis-common-protos<2.0dev,>=1.6.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-core<3.0.0dev,>=1.21.0->google-api-python-client->-r requirements.txt (line 9)) (1.53.0)
Aug 22 11:15:30 the-rain-maker dstock_updater_SuperGangsta[456772]: Requirement already satisfied: oauthlib>=3.0.0 in ./dstock_venv/lib/python3.8/site-packages (from requests-oauthlib>=0.7.0->google-auth-oauthlib>=0.4.1->gspread->-r requirements.txt (line 8)) (3.1.1)
Aug 22 11:15:30 the-rain-maker dstock_updater_SuperGangsta[456805]: generating report:
Aug 22 11:15:30 the-rain-maker dstock_updater_SuperGangsta[456805]: + ./daily_report --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperGangsta --portfolio TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550 --start-date 2021-08-07 --end-date 2021-08-21 --output-dir runs/daily_report_output_2021-08-21 --which-source yahoo --sqlite-file /home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite --jitter 100 --num-randos 100
Aug 22 11:15:32 the-rain-maker dstock_updater_SuperGangsta[456821]: INFO:root:Dowloading History and Prices of TESTFUNDS0830 for 14 days
Aug 22 11:15:37 the-rain-maker dstock_updater_SuperGangsta[456821]: WARNING:root:You are graphing data before the alpaca account started
Aug 22 11:15:37 the-rain-maker dstock_updater_SuperGangsta[456821]: WARNING:root:showing 14 days 10:55:01.984880 before this account creation on 2021-08-21 10:55:01.984880-04:00
Aug 22 11:15:37 the-rain-maker dstock_updater_SuperGangsta[456821]: WARNING:root:To correct use --start-date 2021-08-21
Aug 22 11:15:37 the-rain-maker dstock_updater_SuperGangsta[456821]: WARNING:root:But you should look in alpaca at what day your first trade was on
Aug 22 11:15:37 the-rain-maker dstock_updater_SuperGangsta[456821]: WARNING:root:Then set the start date to be one day before that day
Aug 22 11:15:37 the-rain-maker dstock_updater_SuperGangsta[456821]: INFO:root:Asking for time in the past more recent than last history value, taking account's current value $100000.000000 on 2021-08-21 00:00:00
Aug 22 11:15:37 the-rain-maker dstock_updater_SuperGangsta[456821]: INFO:root:Getting initial_investment from Alpaca: $100000.00
Aug 22 11:15:37 the-rain-maker dstock_updater_SuperGangsta[456821]: /home/dkarimi/work/supersets/SuperGangsta/dstock/fomo_graph.py:870: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead.  To get a de-fragmented frame, use `newframe = frame.copy()`
Aug 22 11:15:37 the-rain-maker dstock_updater_SuperGangsta[456821]:   fomoframe[line_name] = float('nan')
Aug 22 11:15:37 the-rain-maker dstock_updater_SuperGangsta[456821]: Traceback (most recent call last):
Aug 22 11:15:37 the-rain-maker dstock_updater_SuperGangsta[456821]:   File "./daily_report.py", line 198, in <module>
Aug 22 11:15:37 the-rain-maker dstock_updater_SuperGangsta[456821]:     main(**vars(args))
Aug 22 11:15:37 the-rain-maker dstock_updater_SuperGangsta[456821]:   File "./daily_report.py", line 139, in main
Aug 22 11:15:37 the-rain-maker dstock_updater_SuperGangsta[456821]:     fomo_results = fomo_graph.main(
Aug 22 11:15:37 the-rain-maker dstock_updater_SuperGangsta[456821]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/fomo_graph.py", line 889, in main
Aug 22 11:15:37 the-rain-maker dstock_updater_SuperGangsta[456821]:     _simulate_account(
Aug 22 11:15:37 the-rain-maker dstock_updater_SuperGangsta[456821]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/fomo_graph.py", line 363, in _simulate_account
Aug 22 11:15:37 the-rain-maker dstock_updater_SuperGangsta[456821]:     _simulate_palloc_web_account(
Aug 22 11:15:37 the-rain-maker dstock_updater_SuperGangsta[456821]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/fomo_graph.py", line 245, in _simulate_palloc_web_account
Aug 22 11:15:37 the-rain-maker dstock_updater_SuperGangsta[456821]:     trader_results = palloc_trader.main(
Aug 22 11:15:37 the-rain-maker dstock_updater_SuperGangsta[456821]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/palloc_trader.py", line 395, in main
Aug 22 11:15:37 the-rain-maker dstock_updater_SuperGangsta[456821]:     trader = Trader(
Aug 22 11:15:37 the-rain-maker dstock_updater_SuperGangsta[456821]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/palloc_trader.py", line 152, in __init__
Aug 22 11:15:37 the-rain-maker dstock_updater_SuperGangsta[456821]:     self.portfolio_response = self.get_portfolio_response()
Aug 22 11:15:37 the-rain-maker dstock_updater_SuperGangsta[456821]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/palloc_trader.py", line 171, in get_portfolio_response
Aug 22 11:15:37 the-rain-maker dstock_updater_SuperGangsta[456821]:     pr = dstock_palloc_db.get_portfolio_by_name(
Aug 22 11:15:37 the-rain-maker dstock_updater_SuperGangsta[456821]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/dstock_palloc_db.py", line 262, in get_portfolio_by_name
Aug 22 11:15:37 the-rain-maker dstock_updater_SuperGangsta[456821]:     _get_last_recommendation_info(
Aug 22 11:15:37 the-rain-maker dstock_updater_SuperGangsta[456821]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/dstock_palloc_db.py", line 67, in _get_last_recommendation_info
Aug 22 11:15:37 the-rain-maker dstock_updater_SuperGangsta[456821]:     raise NoRecommendationFound(
Aug 22 11:15:37 the-rain-maker dstock_updater_SuperGangsta[456821]: dstock_palloc_db.NoRecommendationFound: Could not find any recommendations runs for TESTFUNDS0830 made before 2021-08-09 08:50:00
Aug 22 11:15:37 the-rain-maker dstock_updater_SuperGangsta[456805]: + set +x
Aug 22 11:15:37 the-rain-maker dstock_updater_SuperGangsta[456805]: updating website dstock/reports/SuperGangsta/2021-08-22/daily ...
Aug 22 11:15:37 the-rain-maker dstock_updater_SuperGangsta[456805]: + ./report_curator --input-report-dir runs/daily_report_output_2021-08-21 --target-report-dir dstock/reports/SuperGangsta/2021-08-22/daily --top-index-dir dstock/reports/SuperGangsta
Aug 22 11:15:39 the-rain-maker dstock_updater_SuperGangsta[456841]: INFO:root:cd report_website && git pull
Aug 22 11:15:39 the-rain-maker dstock_updater_SuperGangsta[456857]: Already up to date.
Aug 22 11:15:39 the-rain-maker dstock_updater_SuperGangsta[456841]: INFO:root:mkdir -p report_website/dstock/reports/SuperGangsta/2021-08-22/daily && cp -vr runs/daily_report_output_2021-08-21/* report_website/dstock/reports/SuperGangsta/2021-08-22/daily/
Aug 22 11:15:39 the-rain-maker dstock_updater_SuperGangsta[456860]: cp: cannot stat 'runs/daily_report_output_2021-08-21/*': No such file or directory
Aug 22 11:15:39 the-rain-maker dstock_updater_SuperGangsta[456841]: Traceback (most recent call last):
Aug 22 11:15:39 the-rain-maker dstock_updater_SuperGangsta[456841]:   File "./report_curator.py", line 115, in <module>
Aug 22 11:15:39 the-rain-maker dstock_updater_SuperGangsta[456841]:     main(**vars(args))
Aug 22 11:15:39 the-rain-maker dstock_updater_SuperGangsta[456841]:   File "./report_curator.py", line 61, in main
Aug 22 11:15:39 the-rain-maker dstock_updater_SuperGangsta[456841]:     _cmd("mkdir -p {website_repo_dir}/{target_report_dir} && cp -vr {input_report_dir}/* {website_repo_dir}/{target_report_dir}/".format(
Aug 22 11:15:39 the-rain-maker dstock_updater_SuperGangsta[456841]:   File "./report_curator.py", line 30, in _cmd
Aug 22 11:15:39 the-rain-maker dstock_updater_SuperGangsta[456841]:     subprocess.check_call(cmd, shell=True)
Aug 22 11:15:39 the-rain-maker dstock_updater_SuperGangsta[456841]:   File "/usr/lib/python3.8/subprocess.py", line 364, in check_call
Aug 22 11:15:39 the-rain-maker dstock_updater_SuperGangsta[456841]:     raise CalledProcessError(retcode, cmd)
Aug 22 11:15:39 the-rain-maker dstock_updater_SuperGangsta[456841]: subprocess.CalledProcessError: Command 'mkdir -p report_website/dstock/reports/SuperGangsta/2021-08-22/daily && cp -vr runs/daily_report_output_2021-08-21/* report_website/dstock/reports/SuperGangsta/2021-08-22/daily/' returned non-zero exit status 1.
Aug 22 11:15:39 the-rain-maker dstock_updater_SuperGangsta[456805]: + set +x
Aug 22 11:15:39 the-rain-maker dstock_updater_SuperGangsta[456805]: Sending email about website dstock/reports/SuperGangsta/2021-08-22/daily ...
Aug 22 11:15:39 the-rain-maker dstock_updater_SuperGangsta[456861]: ++ date -I
Aug 22 11:15:39 the-rain-maker dstock_updater_SuperGangsta[456805]: + ./send_mail --to derrick.karimi@gmail.com --_from derrick.karimi@gmail.com --subject '[dstock] SuperGangsta Daily Report for 2021-08-22' --text https://alwaystraining.github.io/dstock/reports/SuperGangsta/2021-08-22/daily/ --server smtp.gmail.com --port 587 --server_user dr.randy.myers --server_user_pass dr.randy.myers.password
Aug 22 11:15:41 the-rain-maker dstock_updater_SuperGangsta[456805]: + set +x
Aug 22 11:15:41 the-rain-maker sudo[456755]: pam_unix(sudo:session): session closed for user dkarimi
Aug 22 11:15:41 the-rain-maker dstock_updater_SuperGangsta[456692]: + set +x
Aug 22 11:15:41 the-rain-maker dstock_updater_SuperGangsta[456692]: restarting tuners: tuner_SuperGangsta_TESTFUNDS0830.service tuner_SuperGangsta_TESTFUNDS1330.service tuner_SuperGangsta_TESTFUNDS1550.service
Aug 22 11:15:42 the-rain-maker dstock_updater_SuperGangsta[456928]: Failed to start tuner_SuperGangsta_TESTFUNDS0830.service: Unit tuner_SuperGangsta_TESTFUNDS0830.service not found.
Aug 22 11:15:42 the-rain-maker dstock_updater_SuperGangsta[456928]: Failed to start tuner_SuperGangsta_TESTFUNDS1330.service: Unit tuner_SuperGangsta_TESTFUNDS1330.service not found.
Aug 22 11:15:42 the-rain-maker dstock_updater_SuperGangsta[456928]: Failed to start tuner_SuperGangsta_TESTFUNDS1550.service: Unit tuner_SuperGangsta_TESTFUNDS1550.service not found.
Aug 22 11:15:42 the-rain-maker systemd[1]: dstock_updater_SuperGangsta.service: Main process exited, code=exited, status=5/NOTINSTALLED
Aug 22 11:15:42 the-rain-maker sudo[456929]:     root : TTY=unknown ; PWD=/home/dkarimi/work/supersets/SuperGangsta/dstock ; USER=dkarimi ; ENV=SERVICE_RESULT=exit-code EXIT_CODE=exited EXIT_STATUS=5 ; COMMAND=/home/dkarimi/work/supersets/SuperGangsta/dstock/generate_post_service_report.sh --super-set-name SuperGangsta --portfolio TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550 --service-name dstock_updater_SuperGangsta --send-success-emails
Aug 22 11:15:42 the-rain-maker sudo[456929]: pam_unix(sudo:session): session opened for user dkarimi by (uid=0)
Aug 22 11:15:42 the-rain-maker dstock_updater_SuperGangsta[456930]: generating post service report for : dstock_updater_SuperGangsta
Aug 22 11:15:42 the-rain-maker dstock_updater_SuperGangsta[456930]: Generating email content ...
Aug 22 11:15:42 the-rain-maker dstock_updater_SuperGangsta[456930]: Sending email about website dstock/reports/SuperGangsta/2021-08-22/post_service/111542_dstock_updater_SuperGangsta ...
Aug 22 11:15:44 the-rain-maker sudo[456929]: pam_unix(sudo:session): session closed for user dkarimi
Aug 22 11:15:44 the-rain-maker systemd[1]: dstock_updater_SuperGangsta.service: Failed with result 'exit-code'.
Aug 22 11:15:44 the-rain-maker systemd[1]: Failed to start dstock SuperGangsta updater service.
Aug 22 11:19:19 the-rain-maker systemd[1]: Starting dstock SuperGangsta updater service...
Aug 22 11:19:19 the-rain-maker dstock_updater_SuperGangsta[458046]: Stopping all tuners...
Aug 22 11:19:19 the-rain-maker dstock_updater_SuperGangsta[458049]: ++ grep -v '\.timer'
Aug 22 11:19:19 the-rain-maker dstock_updater_SuperGangsta[458050]: ++ xargs
Aug 22 11:19:19 the-rain-maker dstock_updater_SuperGangsta[458048]: ++ ./captain.py list --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperGangsta --fund-set TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550 --with-tuner --super-set-name SuperGangsta
Aug 22 11:19:19 the-rain-maker dstock_updater_SuperGangsta[458046]: + tuner_services='tuner_SuperGangsta_TESTFUNDS0830.service tuner_SuperGangsta_TESTFUNDS1330.service tuner_SuperGangsta_TESTFUNDS1550.service'
Aug 22 11:19:19 the-rain-maker dstock_updater_SuperGangsta[458046]: + systemctl stop tuner_SuperGangsta_TESTFUNDS0830.service tuner_SuperGangsta_TESTFUNDS1330.service tuner_SuperGangsta_TESTFUNDS1550.service
Aug 22 11:19:19 the-rain-maker dstock_updater_SuperGangsta[458052]: Failed to stop tuner_SuperGangsta_TESTFUNDS0830.service: Unit tuner_SuperGangsta_TESTFUNDS0830.service not loaded.
Aug 22 11:19:19 the-rain-maker dstock_updater_SuperGangsta[458052]: Failed to stop tuner_SuperGangsta_TESTFUNDS1330.service: Unit tuner_SuperGangsta_TESTFUNDS1330.service not loaded.
Aug 22 11:19:19 the-rain-maker dstock_updater_SuperGangsta[458052]: Failed to stop tuner_SuperGangsta_TESTFUNDS1550.service: Unit tuner_SuperGangsta_TESTFUNDS1550.service not loaded.
Aug 22 11:19:19 the-rain-maker dstock_updater_SuperGangsta[458046]: + set +x
Aug 22 11:19:34 the-rain-maker dstock_updater_SuperGangsta[458046]: updating application
Aug 22 11:19:34 the-rain-maker dstock_updater_SuperGangsta[458046]: + sudo -u dkarimi ./dstock_updater_helper.sh --user dkarimi --clean --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperGangsta --which-api-source tiingo --super-set-name SuperGangsta --sqlite-file /home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite --service-name dstock_updater_SuperGangsta --portfolio TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550
Aug 22 11:19:34 the-rain-maker sudo[458263]:     root : TTY=unknown ; PWD=/home/dkarimi/work/supersets/SuperGangsta/dstock ; USER=dkarimi ; COMMAND=./dstock_updater_helper.sh --user dkarimi --clean --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperGangsta --which-api-source tiingo --super-set-name SuperGangsta --sqlite-file /home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite --service-name dstock_updater_SuperGangsta --portfolio TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550
Aug 22 11:19:34 the-rain-maker sudo[458263]: pam_unix(sudo:session): session opened for user dkarimi by (uid=0)
Aug 22 11:19:34 the-rain-maker dstock_updater_SuperGangsta[458264]: Clearing Dir: runs
Aug 22 11:19:34 the-rain-maker dstock_updater_SuperGangsta[458264]: Clearing Dir: opentuner.db
Aug 22 11:19:34 the-rain-maker dstock_updater_SuperGangsta[458264]: Clearing Dir: download_cache
Aug 22 11:19:34 the-rain-maker dstock_updater_SuperGangsta[458264]: !!!
Aug 22 11:19:34 the-rain-maker dstock_updater_SuperGangsta[458264]: !!! It is now time to update dstock
Aug 22 11:19:34 the-rain-maker dstock_updater_SuperGangsta[458264]: !!!
Aug 22 11:19:34 the-rain-maker dstock_updater_SuperGangsta[458264]: + git status
Aug 22 11:19:34 the-rain-maker dstock_updater_SuperGangsta[458271]: On branch dkarimi/rollout
Aug 22 11:19:34 the-rain-maker dstock_updater_SuperGangsta[458271]: Your branch is up to date with 'origin/dkarimi/rollout'.
Aug 22 11:19:34 the-rain-maker dstock_updater_SuperGangsta[458271]: nothing to commit, working tree clean
Aug 22 11:19:34 the-rain-maker dstock_updater_SuperGangsta[458264]: + git pull
Aug 22 11:19:34 the-rain-maker dstock_updater_SuperGangsta[458278]: Already up to date.
Aug 22 11:19:34 the-rain-maker dstock_updater_SuperGangsta[458264]: + set +x
Aug 22 11:19:36 the-rain-maker dstock_updater_SuperGangsta[458279]: Requirement already satisfied: pandas in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 1)) (1.3.2)
Aug 22 11:19:36 the-rain-maker dstock_updater_SuperGangsta[458279]: Requirement already satisfied: pyyaml in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 2)) (5.4.1)
Aug 22 11:19:36 the-rain-maker dstock_updater_SuperGangsta[458279]: Requirement already satisfied: prettytable in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 3)) (2.1.0)
Aug 22 11:19:36 the-rain-maker dstock_updater_SuperGangsta[458279]: Requirement already satisfied: yfinance in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 4)) (0.1.63)
Aug 22 11:19:36 the-rain-maker dstock_updater_SuperGangsta[458279]: Requirement already satisfied: matplotlib in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 5)) (3.4.3)
Aug 22 11:19:36 the-rain-maker dstock_updater_SuperGangsta[458279]: Requirement already satisfied: alpaca-trade-api in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 6)) (1.2.3)
Aug 22 11:19:36 the-rain-maker dstock_updater_SuperGangsta[458279]: Requirement already satisfied: pandas_datareader in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 7)) (0.10.0)
Aug 22 11:19:36 the-rain-maker dstock_updater_SuperGangsta[458279]: Requirement already satisfied: gspread in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 8)) (4.0.1)
Aug 22 11:19:36 the-rain-maker dstock_updater_SuperGangsta[458279]: Requirement already satisfied: google-api-python-client in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 9)) (2.17.0)
Aug 22 11:19:36 the-rain-maker dstock_updater_SuperGangsta[458279]: Requirement already satisfied: oauth2client in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 10)) (4.1.3)
Aug 22 11:19:36 the-rain-maker dstock_updater_SuperGangsta[458279]: Requirement already satisfied: wheel in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 11)) (0.37.0)
Aug 22 11:19:36 the-rain-maker dstock_updater_SuperGangsta[458279]: Requirement already satisfied: pytz>=2017.3 in ./dstock_venv/lib/python3.8/site-packages (from pandas->-r requirements.txt (line 1)) (2021.1)
Aug 22 11:19:36 the-rain-maker dstock_updater_SuperGangsta[458279]: Requirement already satisfied: python-dateutil>=2.7.3 in ./dstock_venv/lib/python3.8/site-packages (from pandas->-r requirements.txt (line 1)) (2.8.2)
Aug 22 11:19:36 the-rain-maker dstock_updater_SuperGangsta[458279]: Requirement already satisfied: numpy>=1.17.3 in ./dstock_venv/lib/python3.8/site-packages (from pandas->-r requirements.txt (line 1)) (1.21.2)
Aug 22 11:19:36 the-rain-maker dstock_updater_SuperGangsta[458279]: Requirement already satisfied: wcwidth in ./dstock_venv/lib/python3.8/site-packages (from prettytable->-r requirements.txt (line 3)) (0.2.5)
Aug 22 11:19:36 the-rain-maker dstock_updater_SuperGangsta[458279]: Requirement already satisfied: lxml>=4.5.1 in ./dstock_venv/lib/python3.8/site-packages (from yfinance->-r requirements.txt (line 4)) (4.6.3)
Aug 22 11:19:36 the-rain-maker dstock_updater_SuperGangsta[458279]: Requirement already satisfied: multitasking>=0.0.7 in ./dstock_venv/lib/python3.8/site-packages (from yfinance->-r requirements.txt (line 4)) (0.0.9)
Aug 22 11:19:36 the-rain-maker dstock_updater_SuperGangsta[458279]: Requirement already satisfied: requests>=2.20 in ./dstock_venv/lib/python3.8/site-packages (from yfinance->-r requirements.txt (line 4)) (2.26.0)
Aug 22 11:19:36 the-rain-maker dstock_updater_SuperGangsta[458279]: Requirement already satisfied: pillow>=6.2.0 in ./dstock_venv/lib/python3.8/site-packages (from matplotlib->-r requirements.txt (line 5)) (8.3.1)
Aug 22 11:19:36 the-rain-maker dstock_updater_SuperGangsta[458279]: Requirement already satisfied: pyparsing>=2.2.1 in ./dstock_venv/lib/python3.8/site-packages (from matplotlib->-r requirements.txt (line 5)) (2.4.7)
Aug 22 11:19:36 the-rain-maker dstock_updater_SuperGangsta[458279]: Requirement already satisfied: cycler>=0.10 in ./dstock_venv/lib/python3.8/site-packages (from matplotlib->-r requirements.txt (line 5)) (0.10.0)
Aug 22 11:19:37 the-rain-maker dstock_updater_SuperGangsta[458279]: Requirement already satisfied: kiwisolver>=1.0.1 in ./dstock_venv/lib/python3.8/site-packages (from matplotlib->-r requirements.txt (line 5)) (1.3.1)
Aug 22 11:19:37 the-rain-maker dstock_updater_SuperGangsta[458279]: Requirement already satisfied: msgpack==1.0.2 in ./dstock_venv/lib/python3.8/site-packages (from alpaca-trade-api->-r requirements.txt (line 6)) (1.0.2)
Aug 22 11:19:37 the-rain-maker dstock_updater_SuperGangsta[458279]: Requirement already satisfied: urllib3<2,>1.24 in ./dstock_venv/lib/python3.8/site-packages (from alpaca-trade-api->-r requirements.txt (line 6)) (1.26.6)
Aug 22 11:19:37 the-rain-maker dstock_updater_SuperGangsta[458279]: Requirement already satisfied: websockets<10,>=8.0 in ./dstock_venv/lib/python3.8/site-packages (from alpaca-trade-api->-r requirements.txt (line 6)) (9.1)
Aug 22 11:19:37 the-rain-maker dstock_updater_SuperGangsta[458279]: Requirement already satisfied: websocket-client<2,>=0.56.0 in ./dstock_venv/lib/python3.8/site-packages (from alpaca-trade-api->-r requirements.txt (line 6)) (1.2.1)
Aug 22 11:19:37 the-rain-maker dstock_updater_SuperGangsta[458279]: Requirement already satisfied: google-auth>=1.12.0 in ./dstock_venv/lib/python3.8/site-packages (from gspread->-r requirements.txt (line 8)) (2.0.1)
Aug 22 11:19:37 the-rain-maker dstock_updater_SuperGangsta[458279]: Requirement already satisfied: google-auth-oauthlib>=0.4.1 in ./dstock_venv/lib/python3.8/site-packages (from gspread->-r requirements.txt (line 8)) (0.4.5)
Aug 22 11:19:37 the-rain-maker dstock_updater_SuperGangsta[458279]: Requirement already satisfied: httplib2<1dev,>=0.15.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-python-client->-r requirements.txt (line 9)) (0.19.1)
Aug 22 11:19:37 the-rain-maker dstock_updater_SuperGangsta[458279]: Requirement already satisfied: google-api-core<3.0.0dev,>=1.21.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-python-client->-r requirements.txt (line 9)) (2.0.0)
Aug 22 11:19:37 the-rain-maker dstock_updater_SuperGangsta[458279]: Requirement already satisfied: uritemplate<4dev,>=3.0.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-python-client->-r requirements.txt (line 9)) (3.0.1)
Aug 22 11:19:37 the-rain-maker dstock_updater_SuperGangsta[458279]: Requirement already satisfied: google-auth-httplib2>=0.1.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-python-client->-r requirements.txt (line 9)) (0.1.0)
Aug 22 11:19:37 the-rain-maker dstock_updater_SuperGangsta[458279]: Requirement already satisfied: pyasn1>=0.1.7 in ./dstock_venv/lib/python3.8/site-packages (from oauth2client->-r requirements.txt (line 10)) (0.4.8)
Aug 22 11:19:37 the-rain-maker dstock_updater_SuperGangsta[458279]: Requirement already satisfied: six>=1.6.1 in ./dstock_venv/lib/python3.8/site-packages (from oauth2client->-r requirements.txt (line 10)) (1.16.0)
Aug 22 11:19:37 the-rain-maker dstock_updater_SuperGangsta[458279]: Requirement already satisfied: pyasn1-modules>=0.0.5 in ./dstock_venv/lib/python3.8/site-packages (from oauth2client->-r requirements.txt (line 10)) (0.2.8)
Aug 22 11:19:37 the-rain-maker dstock_updater_SuperGangsta[458279]: Requirement already satisfied: rsa>=3.1.4 in ./dstock_venv/lib/python3.8/site-packages (from oauth2client->-r requirements.txt (line 10)) (4.7.2)
Aug 22 11:19:37 the-rain-maker dstock_updater_SuperGangsta[458279]: Requirement already satisfied: certifi>=2017.4.17 in ./dstock_venv/lib/python3.8/site-packages (from requests>=2.20->yfinance->-r requirements.txt (line 4)) (2021.5.30)
Aug 22 11:19:37 the-rain-maker dstock_updater_SuperGangsta[458279]: Requirement already satisfied: charset-normalizer~=2.0.0; python_version >= "3" in ./dstock_venv/lib/python3.8/site-packages (from requests>=2.20->yfinance->-r requirements.txt (line 4)) (2.0.4)
Aug 22 11:19:37 the-rain-maker dstock_updater_SuperGangsta[458279]: Requirement already satisfied: idna<4,>=2.5; python_version >= "3" in ./dstock_venv/lib/python3.8/site-packages (from requests>=2.20->yfinance->-r requirements.txt (line 4)) (3.2)
Aug 22 11:19:37 the-rain-maker dstock_updater_SuperGangsta[458279]: Requirement already satisfied: cachetools<5.0,>=2.0.0 in ./dstock_venv/lib/python3.8/site-packages (from google-auth>=1.12.0->gspread->-r requirements.txt (line 8)) (4.2.2)
Aug 22 11:19:37 the-rain-maker dstock_updater_SuperGangsta[458279]: Requirement already satisfied: setuptools>=40.3.0 in ./dstock_venv/lib/python3.8/site-packages (from google-auth>=1.12.0->gspread->-r requirements.txt (line 8)) (44.0.0)
Aug 22 11:19:37 the-rain-maker dstock_updater_SuperGangsta[458279]: Requirement already satisfied: requests-oauthlib>=0.7.0 in ./dstock_venv/lib/python3.8/site-packages (from google-auth-oauthlib>=0.4.1->gspread->-r requirements.txt (line 8)) (1.3.0)
Aug 22 11:19:37 the-rain-maker dstock_updater_SuperGangsta[458279]: Requirement already satisfied: googleapis-common-protos<2.0dev,>=1.6.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-core<3.0.0dev,>=1.21.0->google-api-python-client->-r requirements.txt (line 9)) (1.53.0)
Aug 22 11:19:37 the-rain-maker dstock_updater_SuperGangsta[458279]: Requirement already satisfied: protobuf>=3.12.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-core<3.0.0dev,>=1.21.0->google-api-python-client->-r requirements.txt (line 9)) (3.17.3)
Aug 22 11:19:37 the-rain-maker dstock_updater_SuperGangsta[458279]: Requirement already satisfied: oauthlib>=3.0.0 in ./dstock_venv/lib/python3.8/site-packages (from requests-oauthlib>=0.7.0->google-auth-oauthlib>=0.4.1->gspread->-r requirements.txt (line 8)) (3.1.1)
Aug 22 11:19:37 the-rain-maker dstock_updater_SuperGangsta[458287]: generating report:
Aug 22 11:19:37 the-rain-maker dstock_updater_SuperGangsta[458287]: + ./daily_report --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperGangsta --portfolio TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550 --start-date 2021-08-21 --end-date 2021-08-21 --output-dir runs/daily_report_output_2021-08-21 --which-source yahoo --sqlite-file /home/dkarimi/work/supersets/SuperGangsta/dstock/palloc.sqlite --jitter 100 --num-randos 100
Aug 22 11:19:39 the-rain-maker dstock_updater_SuperGangsta[458303]: INFO:root:Dowloading History and Prices of TESTFUNDS0830 for 0 days
Aug 22 11:19:50 the-rain-maker dstock_updater_SuperGangsta[458303]: WARNING:root:You are graphing data before the alpaca account started
Aug 22 11:19:50 the-rain-maker dstock_updater_SuperGangsta[458303]: WARNING:root:showing 0 days 10:55:01.984880 before this account creation on 2021-08-21 10:55:01.984880-04:00
Aug 22 11:19:50 the-rain-maker dstock_updater_SuperGangsta[458303]: WARNING:root:To correct use --start-date 2021-08-21
Aug 22 11:19:50 the-rain-maker dstock_updater_SuperGangsta[458303]: WARNING:root:But you should look in alpaca at what day your first trade was on
Aug 22 11:19:50 the-rain-maker dstock_updater_SuperGangsta[458303]: WARNING:root:Then set the start date to be one day before that day
Aug 22 11:19:50 the-rain-maker dstock_updater_SuperGangsta[458303]: Traceback (most recent call last):
Aug 22 11:19:50 the-rain-maker dstock_updater_SuperGangsta[458303]:   File "./daily_report.py", line 198, in <module>
Aug 22 11:19:50 the-rain-maker dstock_updater_SuperGangsta[458303]:     main(**vars(args))
Aug 22 11:19:50 the-rain-maker dstock_updater_SuperGangsta[458303]:   File "./daily_report.py", line 139, in main
Aug 22 11:19:50 the-rain-maker dstock_updater_SuperGangsta[458303]:     fomo_results = fomo_graph.main(
Aug 22 11:19:50 the-rain-maker dstock_updater_SuperGangsta[458303]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/fomo_graph.py", line 830, in main
Aug 22 11:19:50 the-rain-maker dstock_updater_SuperGangsta[458303]:     line_prereq = _calc_line_prerequisites(
Aug 22 11:19:50 the-rain-maker dstock_updater_SuperGangsta[458303]:   File "/home/dkarimi/work/supersets/SuperGangsta/dstock/fomo_graph.py", line 621, in _calc_line_prerequisites
Aug 22 11:19:50 the-rain-maker dstock_updater_SuperGangsta[458303]:     last_history_time = dstock_date.daystart(_epoch_secs_to_datetime(history.timestamp[-1]))
Aug 22 11:19:50 the-rain-maker dstock_updater_SuperGangsta[458303]: IndexError: list index out of range
Aug 22 11:19:50 the-rain-maker dstock_updater_SuperGangsta[458287]: + set +x
Aug 22 11:19:50 the-rain-maker dstock_updater_SuperGangsta[458287]: updating website dstock/reports/SuperGangsta/2021-08-22/daily ...
Aug 22 11:19:50 the-rain-maker dstock_updater_SuperGangsta[458287]: + ./report_curator --input-report-dir runs/daily_report_output_2021-08-21 --target-report-dir dstock/reports/SuperGangsta/2021-08-22/daily --top-index-dir dstock/reports/SuperGangsta
Aug 22 11:19:52 the-rain-maker dstock_updater_SuperGangsta[458365]: INFO:root:cd report_website && git pull
Aug 22 11:19:53 the-rain-maker dstock_updater_SuperGangsta[458381]: Already up to date.
Aug 22 11:19:53 the-rain-maker dstock_updater_SuperGangsta[458365]: INFO:root:mkdir -p report_website/dstock/reports/SuperGangsta/2021-08-22/daily && cp -vr runs/daily_report_output_2021-08-21/* report_website/dstock/reports/SuperGangsta/2021-08-22/daily/
Aug 22 11:19:53 the-rain-maker dstock_updater_SuperGangsta[458384]: cp: cannot stat 'runs/daily_report_output_2021-08-21/*': No such file or directory
Aug 22 11:19:53 the-rain-maker dstock_updater_SuperGangsta[458365]: Traceback (most recent call last):
Aug 22 11:19:53 the-rain-maker dstock_updater_SuperGangsta[458365]:   File "./report_curator.py", line 115, in <module>
Aug 22 11:19:53 the-rain-maker dstock_updater_SuperGangsta[458365]:     main(**vars(args))
Aug 22 11:19:53 the-rain-maker dstock_updater_SuperGangsta[458365]:   File "./report_curator.py", line 61, in main
Aug 22 11:19:53 the-rain-maker dstock_updater_SuperGangsta[458365]:     _cmd("mkdir -p {website_repo_dir}/{target_report_dir} && cp -vr {input_report_dir}/* {website_repo_dir}/{target_report_dir}/".format(
Aug 22 11:19:53 the-rain-maker dstock_updater_SuperGangsta[458365]:   File "./report_curator.py", line 30, in _cmd
Aug 22 11:19:53 the-rain-maker dstock_updater_SuperGangsta[458365]:     subprocess.check_call(cmd, shell=True)
Aug 22 11:19:53 the-rain-maker dstock_updater_SuperGangsta[458365]:   File "/usr/lib/python3.8/subprocess.py", line 364, in check_call
Aug 22 11:19:53 the-rain-maker dstock_updater_SuperGangsta[458365]:     raise CalledProcessError(retcode, cmd)
Aug 22 11:19:53 the-rain-maker dstock_updater_SuperGangsta[458365]: subprocess.CalledProcessError: Command 'mkdir -p report_website/dstock/reports/SuperGangsta/2021-08-22/daily && cp -vr runs/daily_report_output_2021-08-21/* report_website/dstock/reports/SuperGangsta/2021-08-22/daily/' returned non-zero exit status 1.
Aug 22 11:19:53 the-rain-maker dstock_updater_SuperGangsta[458287]: + set +x
Aug 22 11:19:53 the-rain-maker dstock_updater_SuperGangsta[458287]: Sending email about website dstock/reports/SuperGangsta/2021-08-22/daily ...
Aug 22 11:19:53 the-rain-maker dstock_updater_SuperGangsta[458385]: ++ date -I
Aug 22 11:19:53 the-rain-maker dstock_updater_SuperGangsta[458287]: + ./send_mail --to derrick.karimi@gmail.com --_from derrick.karimi@gmail.com --subject '[dstock] SuperGangsta Daily Report for 2021-08-22' --text https://alwaystraining.github.io/dstock/reports/SuperGangsta/2021-08-22/daily/ --server smtp.gmail.com --port 587 --server_user dr.randy.myers --server_user_pass dr.randy.myers.password
Aug 22 11:19:54 the-rain-maker dstock_updater_SuperGangsta[458287]: + set +x
Aug 22 11:19:54 the-rain-maker sudo[458263]: pam_unix(sudo:session): session closed for user dkarimi
Aug 22 11:19:54 the-rain-maker dstock_updater_SuperGangsta[458046]: + set +x
Aug 22 11:19:54 the-rain-maker dstock_updater_SuperGangsta[458046]: restarting tuners: tuner_SuperGangsta_TESTFUNDS0830.service tuner_SuperGangsta_TESTFUNDS1330.service tuner_SuperGangsta_TESTFUNDS1550.service
Aug 22 11:19:54 the-rain-maker dstock_updater_SuperGangsta[458413]: Failed to start tuner_SuperGangsta_TESTFUNDS0830.service: Unit tuner_SuperGangsta_TESTFUNDS0830.service not found.
Aug 22 11:19:54 the-rain-maker dstock_updater_SuperGangsta[458413]: Failed to start tuner_SuperGangsta_TESTFUNDS1330.service: Unit tuner_SuperGangsta_TESTFUNDS1330.service not found.
Aug 22 11:19:54 the-rain-maker dstock_updater_SuperGangsta[458413]: Failed to start tuner_SuperGangsta_TESTFUNDS1550.service: Unit tuner_SuperGangsta_TESTFUNDS1550.service not found.
Aug 22 11:19:54 the-rain-maker systemd[1]: dstock_updater_SuperGangsta.service: Main process exited, code=exited, status=5/NOTINSTALLED
Aug 22 11:19:54 the-rain-maker sudo[458414]:     root : TTY=unknown ; PWD=/home/dkarimi/work/supersets/SuperGangsta/dstock ; USER=dkarimi ; ENV=SERVICE_RESULT=exit-code EXIT_CODE=exited EXIT_STATUS=5 ; COMMAND=/home/dkarimi/work/supersets/SuperGangsta/dstock/generate_post_service_report.sh --super-set-name SuperGangsta --portfolio TESTFUNDS0830,TESTFUNDS1330,TESTFUNDS1550 --service-name dstock_updater_SuperGangsta --send-success-emails
Aug 22 11:19:54 the-rain-maker sudo[458414]: pam_unix(sudo:session): session opened for user dkarimi by (uid=0)
Aug 22 11:19:54 the-rain-maker dstock_updater_SuperGangsta[458415]: generating post service report for : dstock_updater_SuperGangsta
Aug 22 11:19:54 the-rain-maker dstock_updater_SuperGangsta[458415]: Generating email content ...
