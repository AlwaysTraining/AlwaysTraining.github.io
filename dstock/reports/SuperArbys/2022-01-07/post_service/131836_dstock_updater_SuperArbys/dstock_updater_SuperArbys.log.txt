-- Logs begin at Sun 2022-01-02 20:30:53 EST, end at Fri 2022-01-07 13:17:12 EST. --
Jan 06 02:02:19 the-rain-maker systemd[1]: Starting dstock SuperArbys updater service...
Jan 06 02:02:19 the-rain-maker dstock_updater_SuperArbys[2596845]: updating application
Jan 06 02:02:19 the-rain-maker dstock_updater_SuperArbys[2596845]: + sudo -u dkarimi ./dstock_updater_helper.sh --user dkarimi --clean --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperArbys --which-api-source tiingo --super-set-name SuperArbys --sqlite-file /home/dkarimi/work/supersets/SuperArbys/palloc.sqlite --service-name dstock_updater_SuperArbys --portfolio CHIEFMICKEY5,APOCAHOUSE3,GASCOACH4,WAFFELBIT6
Jan 06 02:02:19 the-rain-maker sudo[2596851]:     root : TTY=unknown ; PWD=/home/dkarimi/work/supersets/SuperArbys ; USER=dkarimi ; COMMAND=./dstock_updater_helper.sh --user dkarimi --clean --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperArbys --which-api-source tiingo --super-set-name SuperArbys --sqlite-file /home/dkarimi/work/supersets/SuperArbys/palloc.sqlite --service-name dstock_updater_SuperArbys --portfolio CHIEFMICKEY5,APOCAHOUSE3,GASCOACH4,WAFFELBIT6
Jan 06 02:02:19 the-rain-maker sudo[2596851]: pam_unix(sudo:session): session opened for user dkarimi by (uid=0)
Jan 06 02:02:19 the-rain-maker dstock_updater_SuperArbys[2596852]: Clearing Dir: runs
Jan 06 02:02:19 the-rain-maker dstock_updater_SuperArbys[2596852]: Clearing Dir: opentuner.db
Jan 06 02:02:19 the-rain-maker dstock_updater_SuperArbys[2596852]: Clearing Dir: download_cache
Jan 06 02:02:19 the-rain-maker dstock_updater_SuperArbys[2596852]: !!!
Jan 06 02:02:19 the-rain-maker dstock_updater_SuperArbys[2596852]: !!! It is now time to update dstock
Jan 06 02:02:19 the-rain-maker dstock_updater_SuperArbys[2596852]: !!!
Jan 06 02:02:19 the-rain-maker dstock_updater_SuperArbys[2596852]: + git status
Jan 06 02:02:19 the-rain-maker dstock_updater_SuperArbys[2596859]: On branch dkarimi/release_arbys
Jan 06 02:02:19 the-rain-maker dstock_updater_SuperArbys[2596859]: Changes not staged for commit:
Jan 06 02:02:19 the-rain-maker dstock_updater_SuperArbys[2596859]:   (use "git add <file>..." to update what will be committed)
Jan 06 02:02:19 the-rain-maker dstock_updater_SuperArbys[2596859]:   (use "git restore <file>..." to discard changes in working directory)
Jan 06 02:02:19 the-rain-maker dstock_updater_SuperArbys[2596859]:         modified:   RELEASE_NOTES
Jan 06 02:02:19 the-rain-maker dstock_updater_SuperArbys[2596859]:         modified:   VERSION
Jan 06 02:02:19 the-rain-maker dstock_updater_SuperArbys[2596859]:         modified:   dstock_supersets.py
Jan 06 02:02:19 the-rain-maker dstock_updater_SuperArbys[2596859]: no changes added to commit (use "git add" and/or "git commit -a")
Jan 06 02:02:19 the-rain-maker dstock_updater_SuperArbys[2596852]: + git pull
Jan 06 02:02:20 the-rain-maker dstock_updater_SuperArbys[2596860]: There is no tracking information for the current branch.
Jan 06 02:02:20 the-rain-maker dstock_updater_SuperArbys[2596860]: Please specify which branch you want to merge with.
Jan 06 02:02:20 the-rain-maker dstock_updater_SuperArbys[2596860]: See git-pull(1) for details.
Jan 06 02:02:20 the-rain-maker dstock_updater_SuperArbys[2596860]:     git pull <remote> <branch>
Jan 06 02:02:20 the-rain-maker dstock_updater_SuperArbys[2596860]: If you wish to set tracking information for this branch you can do so with:
Jan 06 02:02:20 the-rain-maker dstock_updater_SuperArbys[2596860]:     git branch --set-upstream-to=origin/<branch> dkarimi/release_arbys
Jan 06 02:02:20 the-rain-maker dstock_updater_SuperArbys[2596852]: + set +x
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: pandas in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 1)) (1.3.4)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: pyyaml in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 2)) (6.0)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: prettytable in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 3)) (2.4.0)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: yfinance in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 4)) (0.1.67)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: matplotlib in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 5)) (3.5.0)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: alpaca-trade-api in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 6)) (1.4.1)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: pandas_datareader in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 7)) (0.10.0)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: gspread in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 8)) (5.0.0)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: google-api-python-client in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 9)) (2.31.0)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: oauth2client in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 10)) (4.1.3)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: wheel in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 11)) (0.37.0)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: pytz>=2017.3 in ./dstock_venv/lib/python3.8/site-packages (from pandas->-r requirements.txt (line 1)) (2021.3)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: python-dateutil>=2.7.3 in ./dstock_venv/lib/python3.8/site-packages (from pandas->-r requirements.txt (line 1)) (2.8.2)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: numpy>=1.17.3; platform_machine != "aarch64" and platform_machine != "arm64" and python_version < "3.10" in ./dstock_venv/lib/python3.8/site-packages (from pandas->-r requirements.txt (line 1)) (1.21.4)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: wcwidth in ./dstock_venv/lib/python3.8/site-packages (from prettytable->-r requirements.txt (line 3)) (0.2.5)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: requests>=2.20 in ./dstock_venv/lib/python3.8/site-packages (from yfinance->-r requirements.txt (line 4)) (2.26.0)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: lxml>=4.5.1 in ./dstock_venv/lib/python3.8/site-packages (from yfinance->-r requirements.txt (line 4)) (4.6.4)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: multitasking>=0.0.7 in ./dstock_venv/lib/python3.8/site-packages (from yfinance->-r requirements.txt (line 4)) (0.0.10)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: pillow>=6.2.0 in ./dstock_venv/lib/python3.8/site-packages (from matplotlib->-r requirements.txt (line 5)) (8.4.0)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: fonttools>=4.22.0 in ./dstock_venv/lib/python3.8/site-packages (from matplotlib->-r requirements.txt (line 5)) (4.28.2)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: pyparsing>=2.2.1 in ./dstock_venv/lib/python3.8/site-packages (from matplotlib->-r requirements.txt (line 5)) (3.0.6)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: setuptools-scm>=4 in ./dstock_venv/lib/python3.8/site-packages (from matplotlib->-r requirements.txt (line 5)) (6.3.2)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: kiwisolver>=1.0.1 in ./dstock_venv/lib/python3.8/site-packages (from matplotlib->-r requirements.txt (line 5)) (1.3.2)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: packaging>=20.0 in ./dstock_venv/lib/python3.8/site-packages (from matplotlib->-r requirements.txt (line 5)) (21.3)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: cycler>=0.10 in ./dstock_venv/lib/python3.8/site-packages (from matplotlib->-r requirements.txt (line 5)) (0.11.0)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: urllib3<2,>1.24 in ./dstock_venv/lib/python3.8/site-packages (from alpaca-trade-api->-r requirements.txt (line 6)) (1.26.7)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: aiohttp==3.7.4 in ./dstock_venv/lib/python3.8/site-packages (from alpaca-trade-api->-r requirements.txt (line 6)) (3.7.4)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: websocket-client<2,>=0.56.0 in ./dstock_venv/lib/python3.8/site-packages (from alpaca-trade-api->-r requirements.txt (line 6)) (1.2.1)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: msgpack==1.0.2 in ./dstock_venv/lib/python3.8/site-packages (from alpaca-trade-api->-r requirements.txt (line 6)) (1.0.2)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: websockets<10,>=8.0 in ./dstock_venv/lib/python3.8/site-packages (from alpaca-trade-api->-r requirements.txt (line 6)) (9.1)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: google-auth>=1.12.0 in ./dstock_venv/lib/python3.8/site-packages (from gspread->-r requirements.txt (line 8)) (2.3.3)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: google-auth-oauthlib>=0.4.1 in ./dstock_venv/lib/python3.8/site-packages (from gspread->-r requirements.txt (line 8)) (0.4.6)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: google-auth-httplib2>=0.1.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-python-client->-r requirements.txt (line 9)) (0.1.0)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: uritemplate<5,>=3.0.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-python-client->-r requirements.txt (line 9)) (4.1.1)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: httplib2<1dev,>=0.15.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-python-client->-r requirements.txt (line 9)) (0.20.2)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: google-api-core<3.0.0dev,>=1.21.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-python-client->-r requirements.txt (line 9)) (2.2.2)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: rsa>=3.1.4 in ./dstock_venv/lib/python3.8/site-packages (from oauth2client->-r requirements.txt (line 10)) (4.8)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: pyasn1-modules>=0.0.5 in ./dstock_venv/lib/python3.8/site-packages (from oauth2client->-r requirements.txt (line 10)) (0.2.8)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: six>=1.6.1 in ./dstock_venv/lib/python3.8/site-packages (from oauth2client->-r requirements.txt (line 10)) (1.16.0)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: pyasn1>=0.1.7 in ./dstock_venv/lib/python3.8/site-packages (from oauth2client->-r requirements.txt (line 10)) (0.4.8)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: idna<4,>=2.5; python_version >= "3" in ./dstock_venv/lib/python3.8/site-packages (from requests>=2.20->yfinance->-r requirements.txt (line 4)) (3.3)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: charset-normalizer~=2.0.0; python_version >= "3" in ./dstock_venv/lib/python3.8/site-packages (from requests>=2.20->yfinance->-r requirements.txt (line 4)) (2.0.8)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: certifi>=2017.4.17 in ./dstock_venv/lib/python3.8/site-packages (from requests>=2.20->yfinance->-r requirements.txt (line 4)) (2021.10.8)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: setuptools in ./dstock_venv/lib/python3.8/site-packages (from setuptools-scm>=4->matplotlib->-r requirements.txt (line 5)) (44.0.0)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: tomli>=1.0.0 in ./dstock_venv/lib/python3.8/site-packages (from setuptools-scm>=4->matplotlib->-r requirements.txt (line 5)) (1.2.2)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: yarl<2.0,>=1.0 in ./dstock_venv/lib/python3.8/site-packages (from aiohttp==3.7.4->alpaca-trade-api->-r requirements.txt (line 6)) (1.7.2)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: attrs>=17.3.0 in ./dstock_venv/lib/python3.8/site-packages (from aiohttp==3.7.4->alpaca-trade-api->-r requirements.txt (line 6)) (21.2.0)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: typing-extensions>=3.6.5 in ./dstock_venv/lib/python3.8/site-packages (from aiohttp==3.7.4->alpaca-trade-api->-r requirements.txt (line 6)) (4.0.0)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: async-timeout<4.0,>=3.0 in ./dstock_venv/lib/python3.8/site-packages (from aiohttp==3.7.4->alpaca-trade-api->-r requirements.txt (line 6)) (3.0.1)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: multidict<7.0,>=4.5 in ./dstock_venv/lib/python3.8/site-packages (from aiohttp==3.7.4->alpaca-trade-api->-r requirements.txt (line 6)) (5.2.0)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: chardet<4.0,>=2.0 in ./dstock_venv/lib/python3.8/site-packages (from aiohttp==3.7.4->alpaca-trade-api->-r requirements.txt (line 6)) (3.0.4)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: cachetools<5.0,>=2.0.0 in ./dstock_venv/lib/python3.8/site-packages (from google-auth>=1.12.0->gspread->-r requirements.txt (line 8)) (4.2.4)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: requests-oauthlib>=0.7.0 in ./dstock_venv/lib/python3.8/site-packages (from google-auth-oauthlib>=0.4.1->gspread->-r requirements.txt (line 8)) (1.3.0)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: protobuf>=3.12.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-core<3.0.0dev,>=1.21.0->google-api-python-client->-r requirements.txt (line 9)) (3.19.1)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: googleapis-common-protos<2.0dev,>=1.52.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-core<3.0.0dev,>=1.21.0->google-api-python-client->-r requirements.txt (line 9)) (1.53.0)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596870]: Requirement already satisfied: oauthlib>=3.0.0 in ./dstock_venv/lib/python3.8/site-packages (from requests-oauthlib>=0.7.0->google-auth-oauthlib>=0.4.1->gspread->-r requirements.txt (line 8)) (3.1.1)
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596852]: + ./generate_daily_report.sh --user dkarimi --clean --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperArbys --which-api-source tiingo --super-set-name SuperArbys --sqlite-file /home/dkarimi/work/supersets/SuperArbys/palloc.sqlite --service-name dstock_updater_SuperArbys --portfolio CHIEFMICKEY5,APOCAHOUSE3,GASCOACH4,WAFFELBIT6
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596894]: generating report:
Jan 06 02:02:21 the-rain-maker dstock_updater_SuperArbys[2596894]: + ./daily_report --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperArbys --portfolio CHIEFMICKEY5,APOCAHOUSE3,GASCOACH4,WAFFELBIT6 --start-date 2021-11-08 --end-date 2022-01-05 --output-dir runs/daily_report_output_2022-01-05 --which-source yahoo --sqlite-file /home/dkarimi/work/supersets/SuperArbys/palloc.sqlite --jitter 100 --num-randos 100 --super-set-name SuperArbys
Jan 06 02:02:22 the-rain-maker dstock_updater_SuperArbys[2596910]: INFO:root:Fomo is using 100 randos
Jan 06 02:02:22 the-rain-maker dstock_updater_SuperArbys[2596910]: INFO:root:Dowloading History and Prices of CHIEFMICKEY5 for 58 days
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]: WARNING:root:You are graphing data before the alpaca account started
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]: WARNING:root:showing 19 days 00:30:22.574784 before this account creation on 2021-11-27 00:30:22.574784-05:00
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]: WARNING:root:To correct use --start-date 2021-11-27
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]: WARNING:root:But you should look in alpaca at what day your first trade was on
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]: WARNING:root:Then set the start date to be one day before that day
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]: INFO:root:Asking for time in the past more recent than last history value, taking account's current value $110877.542270 on 2022-01-05 00:00:00
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]: INFO:root:Getting initial_investment from Alpaca: $100000.00
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]: /home/dkarimi/work/supersets/SuperArbys/fomo_graph.py:1022: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead.  To get a de-fragmented frame, use `newframe = frame.copy()`
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]:   fomoframe[line_name] = float('nan')
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]: WARNING:root:_get_last_recommendation_info :
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]: SELECT
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]:         recommendation_table.id, generation_time, end_date, time_lane
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]: FROM
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]:         palloc_params_table
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]: JOIN
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]:         recommendation_table ON palloc_params_table.id = recommendation_table.params_row_id
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]: WHERE
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]:         palloc_params_table.fund_set='CHIEFMICKEY5'
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]:           
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]:         and
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]:         generation_time <= '2021-11-08 08:50:00'
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]: ORDER BY
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]:         generation_time DESC,
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]:         recommendation_table.id DESC
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]: LIMIT 1
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]:         ;
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]: Traceback (most recent call last):
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]:   File "./daily_report.py", line 208, in <module>
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]:     main(**vars(args))
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]:   File "./daily_report.py", line 142, in main
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]:     fomo_results = fomo_graph.main(
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]:   File "/home/dkarimi/work/supersets/SuperArbys/fomo_graph.py", line 1041, in main
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]:     _simulate_account(
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]:   File "/home/dkarimi/work/supersets/SuperArbys/fomo_graph.py", line 383, in _simulate_account
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]:     _simulate_palloc_web_account(
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]:   File "/home/dkarimi/work/supersets/SuperArbys/fomo_graph.py", line 265, in _simulate_palloc_web_account
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]:     trader_results = palloc_trader.main(
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]:   File "/home/dkarimi/work/supersets/SuperArbys/palloc_trader.py", line 418, in main
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]:     trader = Trader(
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]:   File "/home/dkarimi/work/supersets/SuperArbys/palloc_trader.py", line 158, in __init__
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]:     self.portfolio_response = self.get_portfolio_response()
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]:   File "/home/dkarimi/work/supersets/SuperArbys/palloc_trader.py", line 183, in get_portfolio_response
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]:     pr = dstock_palloc_db.get_portfolio_by_name(
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]:   File "/home/dkarimi/work/supersets/SuperArbys/dstock_palloc_db.py", line 266, in get_portfolio_by_name
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]:     _get_last_recommendation_info(
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]:   File "/home/dkarimi/work/supersets/SuperArbys/dstock_palloc_db.py", line 71, in _get_last_recommendation_info
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]:     raise NoRecommendationFound(
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596910]: dstock_palloc_db.NoRecommendationFound: Could not find any recommendations runs for CHIEFMICKEY5 made before 2021-11-08 08:50:00
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596894]: + set +x
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596894]: Warning: Not attempting to curate daily report as runs/daily_report_output_2022-01-05/index.html does not exist
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596852]: + set +x
Jan 06 02:02:26 the-rain-maker sudo[2596851]: pam_unix(sudo:session): session closed for user dkarimi
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596845]: + set +x
Jan 06 02:02:26 the-rain-maker sudo[2596973]:     root : TTY=unknown ; PWD=/home/dkarimi/work/supersets/SuperArbys ; USER=dkarimi ; ENV=SERVICE_RESULT=success EXIT_CODE=exited EXIT_STATUS=0 ; COMMAND=/home/dkarimi/work/supersets/SuperArbys/generate_post_service_report.sh --super-set-name SuperArbys --portfolio CHIEFMICKEY5,APOCAHOUSE3,GASCOACH4,WAFFELBIT6 --service-name dstock_updater_SuperArbys
Jan 06 02:02:26 the-rain-maker sudo[2596973]: pam_unix(sudo:session): session opened for user dkarimi by (uid=0)
Jan 06 02:02:26 the-rain-maker dstock_updater_SuperArbys[2596974]: This was a success, and no report is desired, exiting...
Jan 06 02:02:26 the-rain-maker sudo[2596973]: pam_unix(sudo:session): session closed for user dkarimi
Jan 06 02:02:26 the-rain-maker systemd[1]: dstock_updater_SuperArbys.service: Succeeded.
Jan 06 02:02:26 the-rain-maker systemd[1]: Finished dstock SuperArbys updater service.
Jan 07 02:02:16 the-rain-maker systemd[1]: Starting dstock SuperArbys updater service...
Jan 07 02:02:16 the-rain-maker dstock_updater_SuperArbys[3034549]: updating application
Jan 07 02:02:16 the-rain-maker dstock_updater_SuperArbys[3034549]: + sudo -u dkarimi ./dstock_updater_helper.sh --user dkarimi --clean --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperArbys --which-api-source tiingo --super-set-name SuperArbys --sqlite-file /home/dkarimi/work/supersets/SuperArbys/palloc.sqlite --service-name dstock_updater_SuperArbys --portfolio CHIEFMICKEY5,APOCAHOUSE3,GASCOACH4,WAFFELBIT6
Jan 07 02:02:16 the-rain-maker sudo[3034555]:     root : TTY=unknown ; PWD=/home/dkarimi/work/supersets/SuperArbys ; USER=dkarimi ; COMMAND=./dstock_updater_helper.sh --user dkarimi --clean --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperArbys --which-api-source tiingo --super-set-name SuperArbys --sqlite-file /home/dkarimi/work/supersets/SuperArbys/palloc.sqlite --service-name dstock_updater_SuperArbys --portfolio CHIEFMICKEY5,APOCAHOUSE3,GASCOACH4,WAFFELBIT6
Jan 07 02:02:16 the-rain-maker sudo[3034555]: pam_unix(sudo:session): session opened for user dkarimi by (uid=0)
Jan 07 02:02:16 the-rain-maker dstock_updater_SuperArbys[3034556]: Clearing Dir: runs
Jan 07 02:02:16 the-rain-maker dstock_updater_SuperArbys[3034556]: Clearing Dir: opentuner.db
Jan 07 02:02:16 the-rain-maker dstock_updater_SuperArbys[3034556]: Clearing Dir: download_cache
Jan 07 02:02:16 the-rain-maker dstock_updater_SuperArbys[3034556]: !!!
Jan 07 02:02:16 the-rain-maker dstock_updater_SuperArbys[3034556]: !!! It is now time to update dstock
Jan 07 02:02:16 the-rain-maker dstock_updater_SuperArbys[3034556]: !!!
Jan 07 02:02:16 the-rain-maker dstock_updater_SuperArbys[3034556]: + git status
Jan 07 02:02:16 the-rain-maker dstock_updater_SuperArbys[3034569]: On branch dkarimi/release_arbys
Jan 07 02:02:16 the-rain-maker dstock_updater_SuperArbys[3034569]: Changes not staged for commit:
Jan 07 02:02:16 the-rain-maker dstock_updater_SuperArbys[3034569]:   (use "git add <file>..." to update what will be committed)
Jan 07 02:02:16 the-rain-maker dstock_updater_SuperArbys[3034569]:   (use "git restore <file>..." to discard changes in working directory)
Jan 07 02:02:16 the-rain-maker dstock_updater_SuperArbys[3034569]:         modified:   RELEASE_NOTES
Jan 07 02:02:16 the-rain-maker dstock_updater_SuperArbys[3034569]:         modified:   VERSION
Jan 07 02:02:16 the-rain-maker dstock_updater_SuperArbys[3034569]:         modified:   dstock_supersets.py
Jan 07 02:02:16 the-rain-maker dstock_updater_SuperArbys[3034569]: no changes added to commit (use "git add" and/or "git commit -a")
Jan 07 02:02:16 the-rain-maker dstock_updater_SuperArbys[3034556]: + git pull
Jan 07 02:02:16 the-rain-maker dstock_updater_SuperArbys[3034571]: There is no tracking information for the current branch.
Jan 07 02:02:16 the-rain-maker dstock_updater_SuperArbys[3034571]: Please specify which branch you want to merge with.
Jan 07 02:02:16 the-rain-maker dstock_updater_SuperArbys[3034571]: See git-pull(1) for details.
Jan 07 02:02:16 the-rain-maker dstock_updater_SuperArbys[3034571]:     git pull <remote> <branch>
Jan 07 02:02:16 the-rain-maker dstock_updater_SuperArbys[3034571]: If you wish to set tracking information for this branch you can do so with:
Jan 07 02:02:16 the-rain-maker dstock_updater_SuperArbys[3034571]:     git branch --set-upstream-to=origin/<branch> dkarimi/release_arbys
Jan 07 02:02:16 the-rain-maker dstock_updater_SuperArbys[3034556]: + set +x
Jan 07 02:02:17 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: pandas in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 1)) (1.3.4)
Jan 07 02:02:17 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: pyyaml in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 2)) (6.0)
Jan 07 02:02:17 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: prettytable in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 3)) (2.4.0)
Jan 07 02:02:17 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: yfinance in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 4)) (0.1.67)
Jan 07 02:02:17 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: matplotlib in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 5)) (3.5.0)
Jan 07 02:02:17 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: alpaca-trade-api in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 6)) (1.4.1)
Jan 07 02:02:17 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: pandas_datareader in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 7)) (0.10.0)
Jan 07 02:02:17 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: gspread in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 8)) (5.0.0)
Jan 07 02:02:17 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: google-api-python-client in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 9)) (2.31.0)
Jan 07 02:02:17 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: oauth2client in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 10)) (4.1.3)
Jan 07 02:02:17 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: wheel in ./dstock_venv/lib/python3.8/site-packages (from -r requirements.txt (line 11)) (0.37.0)
Jan 07 02:02:17 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: python-dateutil>=2.7.3 in ./dstock_venv/lib/python3.8/site-packages (from pandas->-r requirements.txt (line 1)) (2.8.2)
Jan 07 02:02:17 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: pytz>=2017.3 in ./dstock_venv/lib/python3.8/site-packages (from pandas->-r requirements.txt (line 1)) (2021.3)
Jan 07 02:02:17 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: numpy>=1.17.3; platform_machine != "aarch64" and platform_machine != "arm64" and python_version < "3.10" in ./dstock_venv/lib/python3.8/site-packages (from pandas->-r requirements.txt (line 1)) (1.21.4)
Jan 07 02:02:17 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: wcwidth in ./dstock_venv/lib/python3.8/site-packages (from prettytable->-r requirements.txt (line 3)) (0.2.5)
Jan 07 02:02:17 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: requests>=2.20 in ./dstock_venv/lib/python3.8/site-packages (from yfinance->-r requirements.txt (line 4)) (2.26.0)
Jan 07 02:02:17 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: multitasking>=0.0.7 in ./dstock_venv/lib/python3.8/site-packages (from yfinance->-r requirements.txt (line 4)) (0.0.10)
Jan 07 02:02:17 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: lxml>=4.5.1 in ./dstock_venv/lib/python3.8/site-packages (from yfinance->-r requirements.txt (line 4)) (4.6.4)
Jan 07 02:02:17 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: fonttools>=4.22.0 in ./dstock_venv/lib/python3.8/site-packages (from matplotlib->-r requirements.txt (line 5)) (4.28.2)
Jan 07 02:02:17 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: packaging>=20.0 in ./dstock_venv/lib/python3.8/site-packages (from matplotlib->-r requirements.txt (line 5)) (21.3)
Jan 07 02:02:18 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: pyparsing>=2.2.1 in ./dstock_venv/lib/python3.8/site-packages (from matplotlib->-r requirements.txt (line 5)) (3.0.6)
Jan 07 02:02:18 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: kiwisolver>=1.0.1 in ./dstock_venv/lib/python3.8/site-packages (from matplotlib->-r requirements.txt (line 5)) (1.3.2)
Jan 07 02:02:18 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: pillow>=6.2.0 in ./dstock_venv/lib/python3.8/site-packages (from matplotlib->-r requirements.txt (line 5)) (8.4.0)
Jan 07 02:02:18 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: cycler>=0.10 in ./dstock_venv/lib/python3.8/site-packages (from matplotlib->-r requirements.txt (line 5)) (0.11.0)
Jan 07 02:02:18 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: setuptools-scm>=4 in ./dstock_venv/lib/python3.8/site-packages (from matplotlib->-r requirements.txt (line 5)) (6.3.2)
Jan 07 02:02:18 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: msgpack==1.0.2 in ./dstock_venv/lib/python3.8/site-packages (from alpaca-trade-api->-r requirements.txt (line 6)) (1.0.2)
Jan 07 02:02:18 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: aiohttp==3.7.4 in ./dstock_venv/lib/python3.8/site-packages (from alpaca-trade-api->-r requirements.txt (line 6)) (3.7.4)
Jan 07 02:02:18 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: urllib3<2,>1.24 in ./dstock_venv/lib/python3.8/site-packages (from alpaca-trade-api->-r requirements.txt (line 6)) (1.26.7)
Jan 07 02:02:18 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: websocket-client<2,>=0.56.0 in ./dstock_venv/lib/python3.8/site-packages (from alpaca-trade-api->-r requirements.txt (line 6)) (1.2.1)
Jan 07 02:02:18 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: websockets<10,>=8.0 in ./dstock_venv/lib/python3.8/site-packages (from alpaca-trade-api->-r requirements.txt (line 6)) (9.1)
Jan 07 02:02:18 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: google-auth-oauthlib>=0.4.1 in ./dstock_venv/lib/python3.8/site-packages (from gspread->-r requirements.txt (line 8)) (0.4.6)
Jan 07 02:02:18 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: google-auth>=1.12.0 in ./dstock_venv/lib/python3.8/site-packages (from gspread->-r requirements.txt (line 8)) (2.3.3)
Jan 07 02:02:18 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: google-auth-httplib2>=0.1.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-python-client->-r requirements.txt (line 9)) (0.1.0)
Jan 07 02:02:18 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: httplib2<1dev,>=0.15.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-python-client->-r requirements.txt (line 9)) (0.20.2)
Jan 07 02:02:18 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: google-api-core<3.0.0dev,>=1.21.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-python-client->-r requirements.txt (line 9)) (2.2.2)
Jan 07 02:02:18 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: uritemplate<5,>=3.0.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-python-client->-r requirements.txt (line 9)) (4.1.1)
Jan 07 02:02:18 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: pyasn1>=0.1.7 in ./dstock_venv/lib/python3.8/site-packages (from oauth2client->-r requirements.txt (line 10)) (0.4.8)
Jan 07 02:02:18 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: six>=1.6.1 in ./dstock_venv/lib/python3.8/site-packages (from oauth2client->-r requirements.txt (line 10)) (1.16.0)
Jan 07 02:02:18 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: rsa>=3.1.4 in ./dstock_venv/lib/python3.8/site-packages (from oauth2client->-r requirements.txt (line 10)) (4.8)
Jan 07 02:02:18 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: pyasn1-modules>=0.0.5 in ./dstock_venv/lib/python3.8/site-packages (from oauth2client->-r requirements.txt (line 10)) (0.2.8)
Jan 07 02:02:18 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: charset-normalizer~=2.0.0; python_version >= "3" in ./dstock_venv/lib/python3.8/site-packages (from requests>=2.20->yfinance->-r requirements.txt (line 4)) (2.0.8)
Jan 07 02:02:18 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: certifi>=2017.4.17 in ./dstock_venv/lib/python3.8/site-packages (from requests>=2.20->yfinance->-r requirements.txt (line 4)) (2021.10.8)
Jan 07 02:02:18 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: idna<4,>=2.5; python_version >= "3" in ./dstock_venv/lib/python3.8/site-packages (from requests>=2.20->yfinance->-r requirements.txt (line 4)) (3.3)
Jan 07 02:02:18 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: tomli>=1.0.0 in ./dstock_venv/lib/python3.8/site-packages (from setuptools-scm>=4->matplotlib->-r requirements.txt (line 5)) (1.2.2)
Jan 07 02:02:18 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: setuptools in ./dstock_venv/lib/python3.8/site-packages (from setuptools-scm>=4->matplotlib->-r requirements.txt (line 5)) (44.0.0)
Jan 07 02:02:18 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: chardet<4.0,>=2.0 in ./dstock_venv/lib/python3.8/site-packages (from aiohttp==3.7.4->alpaca-trade-api->-r requirements.txt (line 6)) (3.0.4)
Jan 07 02:02:18 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: yarl<2.0,>=1.0 in ./dstock_venv/lib/python3.8/site-packages (from aiohttp==3.7.4->alpaca-trade-api->-r requirements.txt (line 6)) (1.7.2)
Jan 07 02:02:18 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: multidict<7.0,>=4.5 in ./dstock_venv/lib/python3.8/site-packages (from aiohttp==3.7.4->alpaca-trade-api->-r requirements.txt (line 6)) (5.2.0)
Jan 07 02:02:18 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: attrs>=17.3.0 in ./dstock_venv/lib/python3.8/site-packages (from aiohttp==3.7.4->alpaca-trade-api->-r requirements.txt (line 6)) (21.2.0)
Jan 07 02:02:18 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: async-timeout<4.0,>=3.0 in ./dstock_venv/lib/python3.8/site-packages (from aiohttp==3.7.4->alpaca-trade-api->-r requirements.txt (line 6)) (3.0.1)
Jan 07 02:02:18 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: typing-extensions>=3.6.5 in ./dstock_venv/lib/python3.8/site-packages (from aiohttp==3.7.4->alpaca-trade-api->-r requirements.txt (line 6)) (4.0.0)
Jan 07 02:02:18 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: requests-oauthlib>=0.7.0 in ./dstock_venv/lib/python3.8/site-packages (from google-auth-oauthlib>=0.4.1->gspread->-r requirements.txt (line 8)) (1.3.0)
Jan 07 02:02:18 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: cachetools<5.0,>=2.0.0 in ./dstock_venv/lib/python3.8/site-packages (from google-auth>=1.12.0->gspread->-r requirements.txt (line 8)) (4.2.4)
Jan 07 02:02:18 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: protobuf>=3.12.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-core<3.0.0dev,>=1.21.0->google-api-python-client->-r requirements.txt (line 9)) (3.19.1)
Jan 07 02:02:18 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: googleapis-common-protos<2.0dev,>=1.52.0 in ./dstock_venv/lib/python3.8/site-packages (from google-api-core<3.0.0dev,>=1.21.0->google-api-python-client->-r requirements.txt (line 9)) (1.53.0)
Jan 07 02:02:18 the-rain-maker dstock_updater_SuperArbys[3034578]: Requirement already satisfied: oauthlib>=3.0.0 in ./dstock_venv/lib/python3.8/site-packages (from requests-oauthlib>=0.7.0->google-auth-oauthlib>=0.4.1->gspread->-r requirements.txt (line 8)) (3.1.1)
Jan 07 02:02:18 the-rain-maker dstock_updater_SuperArbys[3034556]: + ./generate_daily_report.sh --user dkarimi --clean --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperArbys --which-api-source tiingo --super-set-name SuperArbys --sqlite-file /home/dkarimi/work/supersets/SuperArbys/palloc.sqlite --service-name dstock_updater_SuperArbys --portfolio CHIEFMICKEY5,APOCAHOUSE3,GASCOACH4,WAFFELBIT6
Jan 07 02:02:18 the-rain-maker dstock_updater_SuperArbys[3034590]: generating report:
Jan 07 02:02:18 the-rain-maker dstock_updater_SuperArbys[3034590]: + ./daily_report --alpaca-vars-file /home/dkarimi/work/vault/varfiles/SuperArbys --portfolio CHIEFMICKEY5,APOCAHOUSE3,GASCOACH4,WAFFELBIT6 --start-date 2021-11-08 --end-date 2022-01-06 --output-dir runs/daily_report_output_2022-01-06 --which-source yahoo --sqlite-file /home/dkarimi/work/supersets/SuperArbys/palloc.sqlite --jitter 100 --num-randos 100 --super-set-name SuperArbys
Jan 07 02:02:19 the-rain-maker dstock_updater_SuperArbys[3034606]: INFO:root:Fomo is using 100 randos
Jan 07 02:02:19 the-rain-maker dstock_updater_SuperArbys[3034606]: INFO:root:Dowloading History and Prices of CHIEFMICKEY5 for 59 days
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]: WARNING:root:You are graphing data before the alpaca account started
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]: WARNING:root:showing 19 days 00:30:22.574784 before this account creation on 2021-11-27 00:30:22.574784-05:00
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]: WARNING:root:To correct use --start-date 2021-11-27
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]: WARNING:root:But you should look in alpaca at what day your first trade was on
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]: WARNING:root:Then set the start date to be one day before that day
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]: INFO:root:Asking for time in the past more recent than last history value, taking account's current value $111910.148642 on 2022-01-06 00:00:00
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]: INFO:root:Getting initial_investment from Alpaca: $100000.00
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]: /home/dkarimi/work/supersets/SuperArbys/fomo_graph.py:1022: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead.  To get a de-fragmented frame, use `newframe = frame.copy()`
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]:   fomoframe[line_name] = float('nan')
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]: WARNING:root:_get_last_recommendation_info :
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]: SELECT
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]:         recommendation_table.id, generation_time, end_date, time_lane
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]: FROM
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]:         palloc_params_table
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]: JOIN
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]:         recommendation_table ON palloc_params_table.id = recommendation_table.params_row_id
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]: WHERE
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]:         palloc_params_table.fund_set='CHIEFMICKEY5'
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]:           
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]:         and
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]:         generation_time <= '2021-11-08 08:50:00'
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]: ORDER BY
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]:         generation_time DESC,
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]:         recommendation_table.id DESC
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]: LIMIT 1
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]:         ;
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]: Traceback (most recent call last):
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]:   File "./daily_report.py", line 208, in <module>
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]:     main(**vars(args))
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]:   File "./daily_report.py", line 142, in main
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]:     fomo_results = fomo_graph.main(
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]:   File "/home/dkarimi/work/supersets/SuperArbys/fomo_graph.py", line 1041, in main
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]:     _simulate_account(
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]:   File "/home/dkarimi/work/supersets/SuperArbys/fomo_graph.py", line 383, in _simulate_account
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]:     _simulate_palloc_web_account(
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]:   File "/home/dkarimi/work/supersets/SuperArbys/fomo_graph.py", line 265, in _simulate_palloc_web_account
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]:     trader_results = palloc_trader.main(
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]:   File "/home/dkarimi/work/supersets/SuperArbys/palloc_trader.py", line 418, in main
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]:     trader = Trader(
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]:   File "/home/dkarimi/work/supersets/SuperArbys/palloc_trader.py", line 158, in __init__
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]:     self.portfolio_response = self.get_portfolio_response()
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]:   File "/home/dkarimi/work/supersets/SuperArbys/palloc_trader.py", line 183, in get_portfolio_response
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]:     pr = dstock_palloc_db.get_portfolio_by_name(
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]:   File "/home/dkarimi/work/supersets/SuperArbys/dstock_palloc_db.py", line 266, in get_portfolio_by_name
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]:     _get_last_recommendation_info(
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]:   File "/home/dkarimi/work/supersets/SuperArbys/dstock_palloc_db.py", line 71, in _get_last_recommendation_info
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]:     raise NoRecommendationFound(
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034606]: dstock_palloc_db.NoRecommendationFound: Could not find any recommendations runs for CHIEFMICKEY5 made before 2021-11-08 08:50:00
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034590]: + set +x
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034590]: Warning: Not attempting to curate daily report as runs/daily_report_output_2022-01-06/index.html does not exist
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034556]: + set +x
Jan 07 02:02:23 the-rain-maker sudo[3034555]: pam_unix(sudo:session): session closed for user dkarimi
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034549]: + set +x
Jan 07 02:02:23 the-rain-maker sudo[3034657]:     root : TTY=unknown ; PWD=/home/dkarimi/work/supersets/SuperArbys ; USER=dkarimi ; ENV=SERVICE_RESULT=success EXIT_CODE=exited EXIT_STATUS=0 ; COMMAND=/home/dkarimi/work/supersets/SuperArbys/generate_post_service_report.sh --super-set-name SuperArbys --portfolio CHIEFMICKEY5,APOCAHOUSE3,GASCOACH4,WAFFELBIT6 --service-name dstock_updater_SuperArbys
Jan 07 02:02:23 the-rain-maker sudo[3034657]: pam_unix(sudo:session): session opened for user dkarimi by (uid=0)
Jan 07 02:02:23 the-rain-maker dstock_updater_SuperArbys[3034658]: This was a success, and no report is desired, exiting...
Jan 07 02:02:23 the-rain-maker sudo[3034657]: pam_unix(sudo:session): session closed for user dkarimi
Jan 07 02:02:23 the-rain-maker systemd[1]: dstock_updater_SuperArbys.service: Succeeded.
Jan 07 02:02:23 the-rain-maker systemd[1]: Finished dstock SuperArbys updater service.
